<!DOCTYPE html><html><head><meta charset="utf-8" /><!--Always force latest IE rendering engine or request Chrome Frame--><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><meta content="width=device-width,initial-scale=1.0" name="viewport" /><title>ukstudio.jp</title><link href="/stylesheets/dist/normalize.css" rel="stylesheet" /><link href="/stylesheets/dist/skeleton.css" rel="stylesheet" /><link href="/stylesheets/all.css" rel="stylesheet" /><script src="/javascripts/all.js"></script><link href="/feed.xml" rel="alternate" title="atom" type="application/atom+xml" /><script>var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-12755601-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body class="page page_10 page_10_index"><div class="header"><div class="header-title"><h1><a href="/">ukstudio</a></h1></div></div><div class="container"><div class="row"><article class="one"><h1 class="article-title"><a href="/2007/11/24/ruby_brainfuck/">RubyでBrainFuck処理系を書いてみた</a></h1><div class="article-time"><time dateMime="2007-11-24 00:00:00 UTC" pubdate="pubdate">November 24 2007</time></div><div class="article-body"><pre lang="ruby">
class BrainFuck
  def convert(code)
    @code = code
    @memory = Array.new
    @code_ptr = @mem_ptr = 0
    @output = ""

    while @code.size > @code_ptr
      @memory[@mem_ptr] ||= 0

      case @code[@code_ptr]
      when ?>
        @mem_ptr += 1
      when ?< raise ArgumentError if @mem_ptr.zero?
        @mem_ptr -= 1
      when ?+
        @memory[@mem_ptr] += 1
      when ?-
        @memory[@mem_ptr] -= 1
      when ?.
        @output += @memory[@mem_ptr].chr
      when ?,
        @memory[@mem_ptr] = $stdin.getc
      when ?[
        if @memory[@mem_ptr].zero?
          nest = 1
          until nest.zero?
            @code_ptr += 1
            case @code[@code_ptr]
            when ?[
              nest += 1
            when ?]
              nest -= 1
            end
          end
        end
      when ?]
        if @memory[@mem_ptr].nonzero?
          nest = 1
          until nest.zero?
            @code_ptr -= 1
            case @code[@code_ptr]
            when ?[
              nest -= 1
            when ?]
              nest += 1
            end
          end
        end
      end
      @code_ptr += 1
    end

    return @output
  end
end
</pre>
こんな感じで使う。
</pre><pre lang="ruby">
hello = "++++++++[>+++++++++< -]>." # H
hello += "< +++++[>++++++< -]>-."         # e
hello += "< ++[>+++< -]>+."                      # l
hello += "."                                                 # l
hello += "+++."                                          # o

bf = BrainFuck.new
p bf.convert(hello) #=> Hello
</pre>

[と]の処理内容が似てるのが気になる。似てるっていうかほとんど一緒なんだよね。なんかこううまく抽象化することはできないものか。あと無意味にインスタンス変数使い過ぎだな。
</div></article><article class="one"><h1 class="article-title"><a href="/2007/11/22/re_startruby/">Re: Try Ruby! 第1章</a></h1><div class="article-time"><time dateMime="2007-11-22 00:00:00 UTC" pubdate="pubdate">November 22 2007</time></div><div class="article-body">msngさんがstartRubyというブログを始めたようです。せっかくなんで少しだけ補足しとこうかな。

<a href="http://startruby.com/20071122.html">Try Ruby! 第1章</a>

<h2>演算子(一部除く)は再定義可能なメソッド</h2>
Rubyの演算子は一部を除いて再定義可能なメソッド。例えば「+」演算子をメソッド呼び出しと同じ構文で書くことができる。
<pre lang="ruby">
1 + 1
#=> 2
1.+(1)
#=. 2
</pre>
メソッド呼び出しの構文
<blockquote>
オブジェクト.メソッド名(引数1, 引数2,  ....)
</blockquote>
ちなみにこの構文のオブジェクトのことをレシーバって言います。なぜかと言うと、メソッドを呼び出すことを「オブジェクトにメッセージを送る」と表現するので、オブジェクトはメッセージを受け取る(レシーブする)側なのでレシーバ。

ちなみに一部のメソッドは組込み演算子なので再定義することは不可能です。=とか!とか&&とかは無理。そこらへんはリファレンスを見るように。

<h2>mathオブジェクトとtextオブジェクト</h2>
これは多分、Numeric(数値)クラスとString(文字列)クラスのオブジェクトって意味だと思う。
<pre lang="ruby">
1.class
#=> Fixnum
"aaa".class
#=> String
</pre>
classメソッドはオブジェクトが何のクラスのオブジェクトなのかを調べるメソッド。つまり1はFixnumクラスのオブジェクト、文字列aaaはStringクラスのオブジェクトってこと。

なんで最初にNumericクラスって言ってるのに、1のクラスがFixnumクラスなのかと言うとFixnumクラスはNumericクラスのサブクラスだから。他にもFloatクラスとかある。
<img src="http://farm3.static.flickr.com/2257/2052393193_d80b5f873a.jpg?v=0"/>

<h2>msngさんがんばって!</h2>
そんなわけで適当に補足してみました。細かいところはリファレンスにも載ってるから一度見てみるといいと思う。最近503エラーがしょっちゅうでてるけどね・・・

<a href="http://www.ruby-lang.org/ja/man/">Rubyリファレンス</a>

UK STUDIOはstartRubyを応援しています。
</div></article><article class="one"><h1 class="article-title"><a href="/2007/11/18/ruby_amazon/">Ruby/Amazonライブラリ</a></h1><div class="article-time"><time dateMime="2007-11-18 00:00:00 UTC" pubdate="pubdate">November 18 2007</time></div><div class="article-body">URL:<a href="http://www.caliban.org/ruby/ruby-amazon.shtml">http://www.caliban.org/ruby/ruby-amazon.shtml</a>

ちょっとAWSを使うプログラムを書こうと思ったので、準備としてRuby/Amazonライブラリを試してみた。
<h2>Ruby/Amazonのインストール</h2>
<ol>
<li>ライブラリのアーカイブを<a href="http://www.caliban.org/ruby/ruby-amazon.shtml#files">ダウンロード</a></li>
<li>アーカイブを解凍</li>
<li>解凍してできたディレクトリにsetup.rbがあるので、それを使用してインストール</li>
</ol>
<pre lang="bash">
% ruby setup.rb config
% ruby setup.rb setup
% ruby setup.rb install
</pre>
<h2>ISBN/ASINで検索</h2>
<h3>ソースコード</h3>
<pre lang="ruby">
#! ruby -Ku

require 'amazon/search'
include Amazon::Search

DEV_TOKEN = "****************"
ASSOCIATE_ID = "ukstudio0c-22"

request = Request.new(DEV_TOKEN, ASSOCIATE_ID, "jp")

# ASIN/ISBNで検索
res = request.asin_search("4274066428", LITE) # HEAVYを指定した場合、詳細な情報が得られる

# ヒット数
puts res.products.size #=> 1 ASINでの検索なので1件のみ該当

# ヒットした製品の情報
puts res.products[0]
</pre>
<h3>実行結果</h3>
<pre lang="bash">
asin             = "4274066428"
authors          = ["Dave Thomas", "Chad Fowler", "Andy Hunt", "田和 勝", "まつもと ゆきひろ"]
availability     = "通常24時間以内に発送"
catalog          = "Book"
image_url_large  = "http://ecx.images-amazon.com/images/I/4151YFZ27NL.jpg"
image_url_medium = "http://ecx.images-amazon.com/images/I/21QGW56WGCL.jpg"
image_url_small  = "http://ecx.images-amazon.com/images/I/11V7Q88BZ3L.jpg"
list_price       = "￥ 3,990"
manufacturer     = "オーム社"
our_price        = "￥ 3,990"
product_name     = "プログラミングRuby 第2版 言語編"
release_date     = "2006/08/26"
url              = "http://www.amazon.co.jp/gp/product/4274066428%3ftag=ukstudio0c-22%26link_code=xm2%26camp=2025%26dev-t=0GTT93KAWBX07WMKM002"
used_price       = "￥ 3,200"
</pre>
<h2>キーワード検索</h2>
<h3>ソースコード</h3>
Requestオブジェクトを作るところまでは同じなので省略。
<pre lang="ruby">
res = request.keyword_search("ruby", 'books', LITE) # booksはモードの指定。musicとか。

# ヒット数
puts res.products.size #=> 11/18日現在、10件ヒットした。なんか少ないな・・・

# ヒットした製品のタイトルを表示
res.products.each{|item|
  puts item.product_name
}
</pre>
<h3>実行結果</h3>
<pre lang="bash">
The Ruby (ザ・ルビー) 2007年 12月号 [雑誌]
Ruby on Rails入門―優しいRailsの育て方
たのしいRuby 第2版 Rubyではじめる気軽なプログラミング
プログラミングRuby 第2版 言語編
プログラミングRuby 第2版 ライブラリ編
Rubyではじめるゲームプログラミング―人気の国産言語で、誰でも簡単にゲームが作れる! (I/O BOOKS)
基礎Ruby on Rails (IMPRESS KISO SERIES)
Rubyレシピブック 第2版 268の技
はじめよう Ruby on Rails
WEB+DB PRESS Vol.38
</pre>
<h3>追記(07-11-19)</h3>
キーワード検索で10件しかヒットしなかったのはkeyword_searchメソッドにALL_PAGESオプションを指定してなかったためでした。
<h3>キーワードがヒットしなかった場合</h3>
検索したキーワードで何もヒットしなかった場合、例外が発生するみたいなので例外処理が必要。
<pre lang="bash">
/opt/local/lib/ruby/site_ruby/1.8/amazon/search.rb:1172:in `get_args': There are no exact matches for the search. (Amazon::Search::Request::SearchError)
</pre>
</div></article><article class="one"><h1 class="article-title"><a href="/2007/11/16/coding_rule_ruby/">個人用のコーディング規約を書き始めたんよ</a></h1><div class="article-time"><time dateMime="2007-11-16 00:00:00 UTC" pubdate="pubdate">November 16 2007</time></div><div class="article-body"><a href="/coding_rule/">CodingRule</a>

とりあえずはRubyから書き始めたんよ。思ったよりまとめるのが大変。

と言うより、普段何も考えてないのがわかる。暗黙的というか、その場のフィーリングで決めてるようで以前のRubyプログラムを見なおしてみると、スペースの取り方とかメソッド・クラス名が結構バラバラ。

以下の規約も参考にしつつ、少しずつまとめてみたいと思う。

<ul>
<li>前田さんの<a href="http://shugo.net/ruby-codeconv/codeconv.html">Rubyコーディング規約</a></li>
<li>青木さんの<a href="http://www.loveruby.net/w/RubyCodingStyle.html">RubyCodingStyle</a></li>
<li>id:cho45さんの<a href="http://lab.lowreal.net/trac/wiki/CodingRule/Ruby">Ruby Language Coding Rule</a></li>
</ul>

追記(07/11/18): CodingRuleページ内のリンクが間違ってたから修正した
</div></article><article class="one"><h1 class="article-title"><a href="/2007/11/01/ruby_fizzbuzz_2/">RubyでFizzBuzz #2</a></h1><div class="article-time"><time dateMime="2007-11-01 00:00:00 UTC" pubdate="pubdate">November 01 2007</time></div><div class="article-body"><a href="http://uk-studio.net/2007/10/28/ruby_fizzbuzz/">RubyでFizzBuzz</a>の第二弾。大分スッキリしたと思うんだけどどでしょ。
<pre lang="ruby">
fizzbuzz = (1..100).map{|i|
if i%5 == 0 && i%3 == 0 : "FizzBuzz"
elsif i%5 == 0 : "Buzz"
elsif i%3 == 0 : "Fizz"
else i end
}</pre>
</div></article><article class="one"><h1 class="article-title"><a href="/2007/10/30/ruby_prime/">Rubyで素数を求めるプログラムを書いた</a></h1><div class="article-time"><time dateMime="2007-10-30 00:00:00 UTC" pubdate="pubdate">October 30 2007</time></div><div class="article-body">引数に入れた値までの素数を配列で返すRubyのクラスを書いてみた。アルゴリズムは<a href="http://ja.wikipedia.org/wiki/%E3%82%A8%E3%83%A9%E3%83%88%E3%82%B9%E3%83%86%E3%83%8D%E3%82%B9%E3%81%AE%E7%AF%A9">エラトステネスの篩</a>を使用。
<strong>generate_prime.rb</strong>
<pre lang="ruby">
class GeneratePrime
  def generate_prime(max_num)
    if max_num < 2 then return nil
    elsif max_num == 2 then return 2 end

    search_list = (2..max_num).to_a # 探索リスト
    prime_list = Array.new          # 素数リスト

    # 素数の探索
    begin
      prime_list << search_list[0]
      search_list.each_index{|i|
        if search_list[i] % prime_list[-1] == 0 then
          search_list.delete_at(i)  # 素数リストに加えた数の全ての倍数を削除
        end
      }
    end while search_list[-1] > (prime_list[-1] * prime_list[-1])

    # 素数リスト及び、探索リストに最後まで残っていた数が素数
    return prime_list.concat(search_list)
  end
end</pre>
<strong>generate_prime_test.rb</strong>
<pre lang="ruby">
require 'test/unit'
require 'generate_prime'

class TestGeneratePrime < Test::Unit::TestCase
  def setup
    @prime = GeneratePrime.new
  end
  def test_generate_prime
    assert_equal(nil, @prime.generate_prime(1))
    assert_equal([2,3,5,7], @prime.generate_prime(10))
    assert_equal([2,3,5,7,11,13,17,19,23,29], @prime.generate_prime(30))
  end
end</pre>
<strong>テスト結果</strong>
</pre><pre>
% ruby generate_prime_test.rb
Loaded suite generate_prime_test
Started
.
Finished in 0.000454 seconds.

1 tests, 3 assertions, 0 failures, 0 errors</pre>
テストが不十分な気もするけど多分大丈夫なはず。・・・多分。
</div></article><article class="one"><h1 class="article-title"><a href="/2007/10/28/activerecord/">ActiveRecordを使ってみる</a></h1><div class="article-time"><time dateMime="2007-10-28 00:00:00 UTC" pubdate="pubdate">October 28 2007</time></div><div class="article-body">ActiveRecordはRubyOnRailsのO/Rマッパーとして有名ですが、Railsに依存しているわけではなく単体で使えます。

<h2>DBを用意する</h2>
なにはともあれ、DBがないと始まらないので適当に用意します。

<pre lang="sql">create database ar;
 use ar;
 create table users (
   id int unsigned not null auto_increment,
   name varchar(50),
   age int,
   primary key (id)
 );
</pre>

ユーザ名と年齢を管理するテーブルってことで。

<h2>DBへの接続とマッピング</h2>

<pre lang="ruby">
require 'rubygems'
require_gem 'activerecord'

# ARで接続
ActiveRecord::Base.establish_connection(
  :adapter    =>      'mysql',
  :host       =>      'localhost',
  :username   =>      'ユーザ名',
  :password   =>      'パスワード',
  :database   =>      'ar',
  :socket     =>      '/tmp/mysql.sock'
)

# マッピングクラスを定義
class User < ActiveRecord::Base
end
</pre>

データベースへのコネクションはActiveRecord::Base.establish_connectionで作られます。特にむずかしいところはないですね。socketは必ず書く必要はないです。書かない場合は/tmp/mysql.sockを見にいくのかな。

ActiveRecord::Baseを継承することでマッピングクラスを定義することができます。クラス名がUserusersテーブルへのマッピングを定義していることになります。クラスを単数形、テーブル名を複数形にすることで自動的にマッピングされます。いわゆるCoC(Convention over Configuration)ってやつです。

<h2>データの保存</h2>
newメソッド、もしくはcreateメソッドを使用し、ARオブジェクトを作成することでDBにデータを保存(Insert)することができます。newとcreateの違いは、newは明示的にsaveメソッドを実行する必要があり、createは自動的にsaveメソッドも実行されます。

</pre><pre lang="ruby">
# ARオブジェクトを作成
user = User.new(:name => "UK", :age => 20)
user.save    # DBに格納
</pre>

<pre lang="ruby">
# ARオブジェクトを作成
user = User.create(:name => "UK", :age =>20) # この時点でDBに格納される
</pre>

<img src="http://farm3.static.flickr.com/2121/1590439456_c3203f167b.jpg?v=0" />

<h2>データの検索</h2>
<img src="http://farm3.static.flickr.com/2137/1786644895_9bfe2b148c.jpg?v=0" />
データが1件だけじゃ少ないので数件ほど追加しました。

データの検索(Select)にはfindメソッドを使用します。他にもfind_allとか、find_by_sqlとかあるけどとりあえずfindのみの説明で。ちなみにfind_allは非推奨的な雰囲気。find(:all)を使えってことですね。

<blockquote>
DEPRECATION WARNING: find_all is deprecated and will be removed from Rails 2.0 ( use find(:all, ...)) See http://www.rubyonrails.org/deprecation for details.
</blockquote>

<h3>findメソッド</h3>
findメソッドの引数にIDを指定することで、該当するデータのオブジェクトが得られます。IDは複数指定することが可能でその場合の戻り値は配列です。:allを指定すると、 全件分のオブジェクトが得られます。こちらの場合も配列です。:firstを指定すると、先頭のオブジェクトを得られます。

<pre lang="ruby">
p User.find(1) # ID = 1のオブジェクト
=> #<user :0x147fbe8 @attributes={"name"=>"UK", "id"=>"1", "age"=>"20"}>
p User.find(1,4) # ID =1, ID = 4 のオブジェクトを格納した配列
=> [#</user><user :0x1476ed0 @attributes={"name"=>"UK", "id"=>"1", "age"=>"20"}>,
 #</user><user :0x147709c @attributes={"name"=>"bar", "id"=>"4", "age"=>"38"}>]
p User.find([2]) # ID = 2のオブジェクトを格納した配列
=> [#</user><user :0x14711d8 @attributes={"name"=>"hoge", "id"=>"2", "age"=>"40"}>]
p User.find(:all) # 全件分のオブジェクトを格納した配列
=> [#</user><user :0x140fca8 @attributes={"name"=>"UK", "id"=>"1", "age"=>"20"}>, #</user><user :0x140fc94 @attributes={"name"=>"hoge", "id"=>"2", "age"=>"40"}>, #</user><user :0x140fc6c @attributes={"name"=>"foo", "id"=>"3", "age"=>"14"}>, #</user><user :0x140fc44 @attributes={"name"=>"bar", "id"=>"4", "age"=>"38"}>]
p User.find(:first) # 先頭のオブジェクト
=> #</user><user :0x140cd28 @attributes={"name"=>"UK", "id"=>"1", "age"=>"20"}>
</user></pre>

各カラムのデータにアクセスする場合は以下のようにします。

<pre lang="ruby">
p User.find(1).name # UK
p User.find(1,4)[1].age # 38
p User.find([2])[0].name # hoge
p User.find(:all)[3].name # bar
p User.find(:first).age # UK
</pre>

<h3>ActiveRecord::RecordNotFound</h3>
ちなみに存在しないID(この場合だと5とか)を指定すると例外(ActiveRecord::RecordNotFound)が発生するので注意して下さい。

<h3>条件文の指定</h3>
普通に考えて、データへのアクセスにIDの指定とか不便すぎますよね。次は引数に条件文を与えてみたいと思います。SQLで言う、where文に該当します。

<pre lang="ruby">
p User.find(:first, :conditions => {:name => "UK"})
=> #<user :0x107fa84 @attributes={"name"=>"UK", "id"=>"1", "age"=>"20"}>
p User.find(:first, :conditions => {:name =>"hoge", :age => 40})
=> #</user><user :0x29954ec @attributes={"name"=>"hoge", "id"=>"2", "age"=>"40"}>
p User.find(:first, :conditions => {:name => "aaa"})
=> nil
</user></pre>

条件文は:conditionsで指定します。1番目のfindはnameカラムのデータが"UK"に該当するものから先頭のオブジェクトを返します。ここで:firstの指定を:allに変更すると:conditionsに該当する全てのオブジェクトを配列で返します。

<pre lang="ruby">
User.crate(:name => "UK", :age => 20) # ID = 1と同じデータを保存
p User.find(:fist, :conditions => {:name => "UK"}
=> #<user :0x2980718 @attributes={"name"=>"UK", "id"=>"1", "age"=>"20"}>
p User.find(:all, :conditions => {:name => "UK"}
=> [#</user><user :0x297b45c @attributes={"name"=>"UK", "id"=>"1", "age"=>"20"}>, #</user><user :0x297b614 @attributes={"name"=>"UK", "id"=>"5", "age"=>"20"}>]
</user></pre>

<h3>パラメータによるサニタイズ</h3>
上記のやり方だとパラメータを直接クエリに挿入します。いわゆるサニタイズと言ったものは行っていません。それだと流石にまずいと思うので以下のようにパラメータ使用します。

<pre lang="ruby">
p User.find(:all, :conditions => ["name = ? and age = ?", "UK", 20])
=> [#<user :0x296aa08 @attributes={"name"=>"UK", "id"=>"1", "age"=>"20"}>, #</user><user :0x296abc0 @attributes={"name"=>"UK", "id"=>"5", "age"=>"20"}>]
</user></pre>

このようにしてパラメータを指定することで"UK"と20はサニタイズされます。

<h3>名前付きパラメータ</h3>
パラメータを使用している場合、クエスチョンマークが増えすぎるとわかりにくくなる時があります。その場合は名前つきパラメータを使用します。クエスチョンマークの代わりにシンボルを使用し、シンボルをキーにしたハッシュを渡します。

<pre lang="ruby">
User.find(:all, :conditions => ["name = :name and age = :age", {:name => "UK", :age => 20}])
=> [#<user :0x2962c7c @attributes={"name"=>"UK", "id"=>"1", "age"=>"20"}>, #</user><user :0x2962e34 @attributes={"name"=>"UK", "id"=>"5", "age"=>"20"}>]
</user></pre>

<h2>データの上書き保存</h2>
データの上書き保存(Update)するにはfindメソッドなどでARオブジェクトを作成、操作しsaveメソッドで行ないます。

<pre lang="ruby">
user = User.find(:first, :conditions => {:name => "hoge"})
p user.age # 40
user.age =69
user.save

User.find(:first, :conditions => {:name => "hoge"})
=> [#<user :0x292d694 @attributes={"name"=>"hoge", "id"=>"2", "age"=>"69"}>]
</user></pre>

<h2>データの削除</h2>
データの削除(Delete)はdeleteメソッドや、destroyメソッドを使用します。

<pre lang="ruby">
User.delete(1) # ID = 1を削除

user = User.find(:first, :conditions => {:name => "UK"})
user.destory # name が "UK"のデータを削除
</pre>

<h2>雑感</h2>
とりあえずざっとActiveRecordに触れてみましたが、DBをRubyのオブジェクトのように扱えるのは思いの外気持ちがいいですなー。ただ、プライマリーキー名が"id"固定なところやテーブル名を複数形云々のあたりが気になる人はいるのかなぁと。あと複合キーとかどうするんだーとか。そういうところを気にしないので済むのであれば、ActiveRecordはかなり良いと思います。

それにしてもコードがみづらいことこの上ないですね・・・そのうちなんとかしたいところです。

<a href="http://www.amazon.com/gp/redirect.html%3FASIN=1590598474%26tag=ukstudio0c-22%26lcode=xm2%26cID=2025%26ccmID=165953%26location=/o/ASIN/1590598474%253FSubscriptionId=1N9AHEAQ2F6SVD97BE02" title="Click and drag this image to the post editor"><img src="http://ecx.images-amazon.com/images/I/21rVApqb6cL.jpg" width="121" /></a>
</div></article><article class="one"><h1 class="article-title"><a href="/2007/10/28/ruby_fizzbuzz/">RubyでFizzBuzz</a></h1><div class="article-time"><time dateMime="2007-10-28 00:00:00 UTC" pubdate="pubdate">October 28 2007</time></div><div class="article-body">今更ながらにFizzBuzz問題をRubyで問いてみる。前は確かPHPだけで問いて、Rubyで問いてなかったと思うから。

<strong>ループ内で出力</strong>
<pre lang="ruby">
100.times(){|i|
  i += 1
  if i%5 == 0 && i%3 == 0 then
    puts "FizzBuzz"
  elsif i%5 == 0
    puts "Buzz"
  elsif i%3 == 0
    puts "Fizz"
  else
    puts i
  end
}</pre>
<strong>配列を作ってそれを出力</strong>
<pre lang="ruby">
fizzbuzz = Array.new(100){|i|
  i += 1
  if i%5 == 0 && i%3 == 0 then
    "FizzBuzz"
  elsif i%5 == 0
    "Buzz"
  elsif i%3 == 0
    "Fizz"
  else
    i
  end
}
puts fizzbuzz</pre>
まぁ、普通ですな。後々データを再利用する可能性を考えると、ループ内で出力するより配列を作った方がいいかなとは思う。

if文のところはもうちょっとなんとかなる気もするけど、コードゴルフしてるわけでもないし、これでいいかな。再帰で書けって言われたら多分できないけど。

精進ですなー。
</div></article><article class="one"><h1 class="article-title"><a href="/2007/10/26/programming_environment/">Re:あなたの最も実力を発揮できる開発環境を教えてください</a></h1><div class="article-time"><time dateMime="2007-10-26 00:00:00 UTC" pubdate="pubdate">October 26 2007</time></div><div class="article-body"><a href="http://ujihisa.nowa.jp/entry/720100065b">rubyneko -
あなたの最も実力を発揮できる開発環境を教えてください</a>に反応してみる。
<h2>開発まっしーん</h2>
マシン: MacBook
OS     : Mac OS X
今年買ったMacBookの白が愛用機。サブディスプレイとかは無し。キーボードはJIS配列。ASCII配列にすればよかったと後悔している。日本語入力はAquaSKKを使用。
<h2>使用ソフト</h2>
<h3>Terminal.app</h3>
iTermは重いから標準のTerminalを使用。
<h3>vim</h3>
EmacsよりVi派です。あまり使いこなせてないけど。
<h3>zsh</h3>
MacBookを買った時に、zshを薦められて以来使用。こっちも使いこなせていない。キーバインドはviモードにしてる。
<h3>screen</h3>
キーバインドはデフォルトのまま。
<ul>
	<li>メインのソースコード編集</li>
	<li>テストコード編集 &amp; 実行</li>
	<li>メインのスクリプト実行</li>
	<li>ファイル操作</li>
</ul>
で、4画面ぐらいを使いわけ。最後のファイル操作は特に用意しないことも多い。
<h2>開発の流れ</h2>
作るものの規模にもよるけど、大体の構成を紙に書いて考えることが多い。Webアプリなら画面設計のラフとか、ちょっとしたクラス図とか。

コード書くときは基本的にTDDもどきな感じでテストコードを書くようにしてる。テストコードを書くようになったのはつい最近でまだまだ慣れてない感じ。テストコード書きながら設計の細かいところを考えていく。

あまり横断的に作業せず、機能を1つ1つ作りこんでいく感じ。そうしないと性格的に最後の方になって、各機能それぞれ80%ぐらい出来てるけど、100%のものは1つも無いってことになりがち。

コード管理はSVN。テストが通っていないものはCommitしない方針。
<h2>オマケ</h2>
作業につまると、意味もなくViで:wをしたり、シェルでlsやpwdをしがち。
</div></article><article class="one"><h1 class="article-title"><a href="/2007/10/14/ipodtouch_hack_ruby/">iPod touchでRubyを動かす</a></h1><div class="article-time"><time dateMime="2007-10-14 00:00:00 UTC" pubdate="pubdate">October 14 2007</time></div><div class="article-body"><strong style="color: #ff0000">以下の作業は自己責任でお願いいたします。</strong>
<h2>Installer.appをインストールする</h2>
まずはRubyを入れるためにInstaller.appをiPod touchをインストールします。
基本的に以下のリンク通りに作業すれば問題ないはずです。

<a href="http://hostname.jp/wk/index.php?iPod%20Touch%20jailbreak%20for%20Windows">iPod Touch jailbreak for Windows</a>
<a href="http://hostname.jp/wk/index.php?iPod%20Touch%20jailbreak%20for%20OSX">iPod Touch jailbreak for OSX </a>
<h2>必要なアプリのインストール</h2>
Installer.appから以下のアプリをインストールします。
<ul>
	<li>System &gt; BSD Subsystem</li>
	<li>System &gt; MobileTerminal</li>
	<li>Sources &gt; Community Sources</li>
</ul>
BSD Subsystemを入れることでBSD由来のコマンドが使えるようになります。今回に限らずtouchをいじくり倒すのに必須のアプリかと。MobileTerminalはその名の通りTerminalです。Community SourcesはInstaller.appからインストールできるアプリが増えます。Rubyもこのなかに含まれています。
<h2>Rubyのインストール</h2>
Community SourcesをインストールすることでInstaller.appのアプリ一覧にRubyが増えているはずなので、そこからRubyをインストールします。
<h2>Rubyにパスを通す</h2>
<strike>Rubyにパスを通すために.zshenvをSSH経由で作成します。</strike>
<pre lang="bash"><strike>
% ssh -l root iPodtouchのIPアドレス
root@IPアドレス password:パスワードを入力

# vi /Applications/.zshenv

1: export PATH=/opt/iphone/bin:$PATH</strike></pre>
<strike>次にiPod touchのMobileTerminalから今つくった.zshenvを適用させます。</strike>
<pre lang="bash"><strike>
# # source /Applications/.zshenv
# # ruby -v
ruby 1.8.6 (2007-03-13 patchlevel 0)
[arm-darwin]</strike></pre>
どうやら.zshenvだとMobileTerminalを閉じるたびに設定がリセットされる模様。毎回Terminalを起動させる度にsourceするのもアレなのでlnコマンドでシンボリックリンクを作ることで対応します。

シンボリックリンクはSSH経由でrootで作成します。
<pre lang="bash">
% ssh -l root iPodtouchのIPアドレス
root@IPアドレス password:パスワードを入力

# ln -s /opt/iphone/bin/ruby /bin/ruby</pre>
これでMobileTerminalを閉じたあとでもRubyへのパスが通っているはずです。ただこの方法だとPerlやPHP、Pythonをインストールしたときもシンボリックリンクを用意しなければいけないですし、irbのシンボリックリンクも用意する必要があります。(irbはなんかエラーでてつかえないけど)

<img src="http://farm3.static.flickr.com/2133/1568034636_00c9cd91c8.jpg?v=0" />

できれば、PATHの設定をしてやった方が色々手間がないはずなので、やり方わかる人いたら教えていただけるとありがたいです。
<h2>オマケ</h2>
せっかくSSHを使えるようにしてあるんだからsshsでマウントすると便利ですよ。

<img src="http://farm3.static.flickr.com/2130/1567200415_f186903c3b.jpg?v=0" />
<h2>追記:irbがなくてもボクたちにはeval.rbがあるじゃないか!</h2>
irbは動かないけど、eval.rbならもしかして・・・？

ってことで試してみましたよ。SSHでeval.rbをtouchに送って実行!

<img src="http://farm3.static.flickr.com/2355/1573467889_1f56f2e5ba.jpg?v=0" />

<strong>できた!!</strong>

eval.rbはサンプルとしてRubyにくっついてると思うから探せばあると思う。もしわからなければソースを<a href="http://www.ruby-lang.org/ja/downloads/">ダウンロード</a>して、解凍すると/sample/eval.rbがあるからそれを使えばいいと思います。
<h2>追記</h2>

<h2>追記 2007/10/26</h2>
<a href="http://d.hatena.ne.jp/faultier/20071025/1193293222">[iPod touch][プログラミング]iPod touchでRubyを使うのはちょっと厳しいかも</a>
irbが動かない件をfaultierさんが検証していた様です。irbだけじゃなくて標準ライブラリもダメだったのね・・・
</div></article><article class="one"><h1 class="article-title"><a href="/2007/10/06/mac_loginshell_zsh/">Macのログインシェルをzshに変更する</a></h1><div class="article-time"><time dateMime="2007-10-06 00:00:00 UTC" pubdate="pubdate">October 06 2007</time></div><div class="article-body"><a href="http://uk-studio.net/2007/07/08/start-macbook/">以前</a>に一度設定はしていたのですがちょっとおかしなところ(screenがうまく起動しない、日本語が入力できないとか)がいくつかあったので再設定しました。
<h2>zsh-develをMacPortsでインストールする</h2>
どうやら最初からインストールされているzshではバージョンの4.24のため日本語が入力できないみたいなのでMacPortsであらたに4.3以上のものをインストールしなおします。
<pre>
$sudu port install zsh-devel
Enter password:</pre>
インストールが終わると、/opt/local/binにzsh-4.3.4があるはずです。
<h2>ログインシェルの変更</h2>
ユーティリティのNetInfoマネージャもしくは、Terminalからchshを実行してログインシェルを変更します。今回はchshを使用して変更します。ちなみにTerminalの環境設定でシェルを指定している場合は「/usr/bin/loginを使ってデフォルトのログインシェルを実行する」に直しといて下さい。

追記:
MacPortsでインストールしたzshをそのまま登録しても不正なシェルだかなんだか言われてエラーがでるのでそれの対応も必要。/etc/shellsに今回使用するzshのパスを追記します。書くの忘れてたよ・・・

<pre>
$vi /etc/shells

<span style="color:#f00">/opt/local/bin/zsh-4.3.4</span>
</pre>

chshを実行すると編集画面にうつるので、Shellの項目に先程インストールしたzshのパスを指定します。
<pre>
$chsh

6: ##
7: Shell: <span style="color: #ff0000">/opt/local/bin/zsh-4.3.4</span>
8: Full Name: 名前</pre>
<h2>日本語設定</h2>
Terminal、zshの日本語設定を行います。
<h3>Terminalの日本語設定</h3>
<ol>
	<li>Cmd + i でターミナルインスペクタを開く</li>
	<li>エミュレーション-&gt;「非ASCII文字をエスケープする」のチェックをはずす</li>
	<li>ディスプレイ-&gt;日本語や中国語などにワイドグリフを使用する」と「ワイドグリフは2桁とカウントする」のチェックをオンにする</li>
	<li>文字 エンコーディングをUnicode(UTF-8)に変更する</li>
</ol>
<h3>zshの日本語設定</h3>
ホームディレクトリの.inputrcに以下の文を追記。ファイルが無い場合新規に作成する
<pre>
同じくホームディレクトリの.zshenvに以下の文を追記。lsで日本語をきちんと表示させるためにaliasで"ls -v"を指定しています。
<pre>
alias ls="ls -v"

export LANG=ja_JP.UTF-8</pre>
<h2>Terminalの再起動</h2>
設定を読みこむためにTerminalを一度再起動します。以下の点が確認できれば問題ないとおもいます。
<ol>
	<li>ログインシェルがzshになっている</li>
	<li>echo $SHELLで/opt/local/bin/zsh-4.3.4が出力される</li>
	<li>echo 日本語など日本語が入力でき、かつちゃんと出力される</li>
	<li>lsを発行したときに日本語のファイルやディレクトリが文字化けしていない</li>
</ol>
</div></article><article class="one"><h1 class="article-title"><a href="/2007/09/28/rubyonrails_install_in_macbook/">MacBookにRubyOnRailsをインストールする</a></h1><div class="article-time"><time dateMime="2007-09-28 00:00:00 UTC" pubdate="pubdate">September 28 2007</time></div><div class="article-body">Railsを試すためにMacBookにRubyOnRailsをインストールしてみました。MacPortsは既にインストールされてるものとして話を進めるので、インストールしていない人はGoogleで調べるなりしてインストールしてくださいな。と言ってもRubyGemsのインストールでしか今回は使いませんけど。
<h2>まずはRubyGemsをインストール</h2>
MacPortsを利用してRubyGemsを入れます。rb-rubygemsという名前で登録されているはずです。
<pre>% sudo port install rb-rubygems</pre>
<a href="http://www.flickr.com/photo_zoom.gne?id=1447826801&amp;size=o"><img src="http://farm2.static.flickr.com/1008/1447826801_bf64321738.jpg?v=0" alt="install gem" /></a>
<h3>というかRubyGemsってなに?</h3>
いわゆるパッケージマネージャーってやつです。Perlで言うところのCPANみたいなものです。Rubyはまだ標準のパッケージマネージャーはありませんが、Railsがインストールできるということもあってか大抵はRubyGemsが使われるようです。
<ul>
	<li><a href="http://jp.rubyist.net/magazine/?0006-PackageManagement">Rubyist Magazine - シリーズ パッケージマネジメント 【第 1 回】 RubyGems (1)</a></li>
	<li><a href="http://d.hatena.ne.jp/secondlife/20061106/1162785661">川o・-・）＜2nd life - RubyGems パッケージの作り方 - rubyforge 登録まで</a></li>
	<li><a href="http://www.rubygems.org/">RubyGems Manuals</a></li>
</ul>
<h2>gemからRailsをインストール</h2>
<pre>% sudo gem install rails</pre>
<a href="http://www.flickr.com/photo_zoom.gne?id=1447826981&amp;size=o"><img src="http://farm2.static.flickr.com/1341/1447826981_c3eb32b601.jpg?v=0" alt="install rails" /></a>

gemをインストールしてしまえば、コマンド一発でRailsがインストール出来てしまいます。簡単ですね。
<h2>プロジェクトを作ってみる</h2>
<pre>% rails hello</pre>
<a href="http://www.flickr.com/photo_zoom.gne?id=1447827317&amp;size=o"><img src="http://farm2.static.flickr.com/1245/1447827317_f6bc5901ef.jpg?v=0" alt="create project" /></a>

gemでRailsをインストールしたら、プロジェクトを作ってみましょう。helloというディレクトリが出来て、その中にappディレクトリやRakefileとかが作られていれば問題ありません。ちなみにhelloというのはプロジェクト名です。
<h3>おまけ</h3>
キャプチャのMelchiorっていうのはエヴァネタです。マギシステムの。痛い子ですみません。
</div></article><article class="one"><h1 class="article-title"><a href="/2007/09/27/ukstudio_server_down/">UK STUDIOにアクセスできなかった件について</a></h1><div class="article-time"><time dateMime="2007-09-27 00:00:00 UTC" pubdate="pubdate">September 27 2007</time></div><div class="article-body">サーバ料金の払い忘れで20日からサーバを停められてしまい、http://uk-studio.net/にアクセスできない状態でした。今日のお昼頃、振込みを終わらせ今はちゃんとアクセスできる状態です。

当サイトをご覧いただいてる方々にご心配とご迷惑をおかけしてしまったた事をお詫びいたします。
</div></article><article class="one"><h1 class="article-title"><a href="/2007/09/07/ipod_touch/">iPod touchを予約しました</a></h1><div class="article-time"><time dateMime="2007-09-07 00:00:00 UTC" pubdate="pubdate">September 07 2007</time></div><div class="article-body"><a href="http://www.amazon.co.jp/gp/redirect.html%3FASIN=B000IDHJ30%26tag=ukstudio0c-22%26lcode=xm2%26cID=2025%26ccmID=165953%26location=/o/ASIN/B000IDHJ30%253FSubscriptionId=1N9AHEAQ2F6SVD97BE02" title="Click and drag this image to the post editor"><img src="http://g-ec2.images-amazon.com/images/I/41eCukUobxL.jpg" width="500" /></a>

各所で話題のiPod touchですが、僕も16GBのやつをApple Storeから予約しました。Classicの160GBと迷ったんですが、無線LANやSafari、その他もろもろの機能の誘惑に負けました。出荷日まであと20日ぐらいあるのがなんともじれったい。

<a href="http://code.google.com/p/mobileterminal/">http://code.google.com/p/mobileterminal/</a>これ動くのかなぁ？
</div></article><article class="one"><h1 class="article-title"><a href="/2007/09/05/codeblock/">コードブロックとyield文</a></h1><div class="article-time"><time dateMime="2007-09-05 00:00:00 UTC" pubdate="pubdate">September 05 2007</time></div><div class="article-body">メソッド内でyield文を使うことでメソッドからコードブロックを呼び出すことができます。yield文が呼び出されるたびに、ブロックに処理が移り、処理が終わるとyieldの直後の処理に移ります。
<pre lang="ruby">def exec_block
  yield
  puts "hoge"
end

exec_block{ puts "Hello,World"}

-----
Hello,Wold
hoge</pre>
ブロックで引数を使いたいときはこんな感じ。yield文に値を与えることでブロックからその値を変数として呼ぶことができます。
<pre lang="ruby">
def exec_block
  yield("foo", 3)
end

exec_block {|str,num| puts str * num}

-----
foofoofoo</pre>
ちなみに当たり前ですが、ブロックはブレース{}でなくても、do endでも問題ありません。１行のブロックの場合にはブレース、複数行の場合にdo endが一般的なようです。

コードブロックを使うとイテレータが実装できますけど、大抵は組み込みのもので事足りるのであまり自分でイテレータを作るっていうのは少ないのかもしれないですね。ま、Rubyの経験が少ないのでよくわかりませんが。
</div></article><article class="one"><h1 class="article-title"><a href="/2007/08/22/job_change/">職場を変えようと思います</a></h1><div class="article-time"><time dateMime="2007-08-22 00:00:00 UTC" pubdate="pubdate">August 22 2007</time></div><div class="article-body">一部の人にはちらほら話してますけど、ちょっと職場を変えることを検討してます。できれば今年中には現在の職場に伝えて何らかの就職活動は行いたいところ。

職場を変えようと思った理由は、もっとコードを書きたい、刺激のある職場に行きたいってところですかね。今の職場はあまりプログラミングに専念できる職場じゃないですし、ついったーの人たちの様にWebが好き!プログラミングが好き!って人がいないんですよね。

今の環境が不満なら周りを変えるよう努力してみたら?っていう人もいるかもしれません。けれども僕はそこまでアクティブな人間ではない、むしろ周りに流されがちな人間なわけです。だったら、環境を変えるのも一つの手段なのではないかと思うのです。朱に交われば赤くなるとも言いますし。

じゃあこれからどうするの?と聞かれるとちょっと困ってしまう部分もあるんですよね。なんというか自分の｢売り｣がわからない。少なくとも雇う側としては、中途採用で雇うからには利益を出してもらいたい、つまり即戦力となる人材が欲しいはずなんです。その戦力となる部分が自分にあるのか正直わからない。チンケなプログラムは書けますが、周りを見てるとこれを｢売り｣にするのもおこがましいな、と。

まぁそんなこと言っても、結局は自分がどうしたいかってのが大事だと思うのでそれを踏まえつつ、もう一度自分を見つめ直そうかなと。なにができるんだろう、オレは。とりあえずWebとプログラミングは大好きです。少なくともこれだけはハッキリと言える。これも｢売り｣の一つに入るのかな。

ちなみに特に行きたい会社っていうのはないです。できればRubyを仕事にしてみたいなとは思いますけど。そんなわけでちょっと知り合いに貸してたピッケル本を今日返してもらいました。SICPと並行して読み進めていくつもりです。

実は就職活動とかせずに今の職場に就職したので(アルバイト-&gt;正社員)いまいち職場を変えるにあたってどうしたらいいのかとか、何に気をつけたらいいのかとかわかりません。知り合いの方にはいろいろ相談するかもしれませんが、よろしくお願いします。うちで雇ってもいいよ、っていう人がいらっしゃったら気軽にご連絡くださいw
</div></article><article class="one"><h1 class="article-title"><a href="/2007/08/09/sicp_002/">SICP第1章 手続きによる抽象の構築(1)</a></h1><div class="article-time"><time dateMime="2007-08-09 00:00:00 UTC" pubdate="pubdate">August 09 2007</time></div><div class="article-body"><h2>1.1 プログラムの要素</h2>
<dl> <dt>基本式</dt> <dd>言語が関わる最も単純なものを表す</dd> <dt>組合せ法</dt> <dd>より単純なものから合成物を作る</dd> <dt>抽象化法</dt> <dd>合成物に名をつけ、単一のものとして扱う</dd> </dl>
<h3>1.1.1式</h3>
schemeでは前置記法を採用している。慣れるまでが大変かも？
<pre lang="scheme">
(+ 137 349)
;;137 + 349

(+ 21 35 12 7)
;;21 + 35 + 12 + 7

(+ (* 3 5) (- 10 6))
;;(3 * 5) + (10 - 6)</pre>
<h3>1.1.2 組合せの評価</h3>
defineをつかって値と名前の対応付け。いわゆる変数の宣言。

当たり前だけど、値と名前の対応付けを解釈系は記憶している。その記憶のことを(大域)環境という。大域があるなら局所もあるのかな。
<h2>1.1.3 組合せの評価</h2>
<ol> 組合せの評価
	<li>組合せの部分式を評価する</li>
	<li>最左部分式の値である手続き(演算子)を、残りの部分式の値である引数(被演算子)に作用させる</li>
</ol>
<blockquote> すなわち評価の規則は、本質的に再帰的(recursive)である</blockquote>
一般的評価規則の例外を特殊形式(special forms)と言い、defineもそのうちの１つ。
<h3>1.1.4 合成手続き</h3>
合成手続きの作り方。例として二乗を返す合成手続きをサンプルにあげている。基本手続きが変数ならこっちは関数みたいなもの?
<pre lang="scheme">
(define (square x) (* x x))</pre>
<h3>1.1.5 手続き作用の置き換えモデル</h3>
作用的順序と正規順序の違いについて。

<dl> <dt>作用的順序</dt> <dd>引数を評価し、作用させる</dd> <dt>正規的順序</dt> <dd>完全に展開し、簡約する</dd> </dl>通常lispは作用的順序の評価を行うらしい。正規順序は必要になるまで評価を行わないってことだと思うけど、遅延評価って意味なのかな。遅延評価を知らないから何とも言えないけど。
<h3>1.1.6 条件式と述語</h3>
特殊形式「cond」と「if」について。condの方は条件(述語)を複数指定できるけど、ifは1つのみ。他の言語でいうelseifがcondにはあるけど、(schemeの)ifにはelseしかない感じ。

論理演算も使えて、andやor、notがある。andとorは特殊形式で、notは通常の手続き。手続きっていう言葉の意味が自分の中でちょっと曖昧かもしれない。
<h3>問題1.1</h3>
手計算でやって、実際に動かして答え合わせをした。
<h3>問題1.2
<pre lang="scheme">
(/ (+ 5 4) (- 2 (- 3 (+ 6 (/ 4 5)))))(* 3 (- 6 2) (- 2 7)))
;;-37/150</pre>
</h3>
<h3>問題1.3</h3>
<pre lang="scheme">
(define (square x) (* x x))
(define (square_add x y) (+ (square x) (square y)))

(define (ex1_3 x y z)
  (if (&lt; x y)
    (cond ((&lt; x z) (square_add y z))
              (else (square_add x y)))
    (cond ((&lt; y z) (square_add x z))
              (else (square_add x y)))
  )
)</pre>
結構時間かけちゃった。あらかじめsquareとsquare_addを定義してなるべく()を減らす作戦。書き終わった後に気づいたんだけど、最初の分岐はifなのにその次はcondなんだよね。両方ifでいいのにね。
<h3>問題1.4</h3>
問題の意味がうまく汲み取れないけど、多分「Schemeはこんなこともできるんだぜ!すげーだろ!」ってことを言ってるんだと思う。
<pre lang="scheme">
((if (&gt; b 0) + -) a b))
a = 3,b = -2
(- 3 -2) -&gt; 5
a = 3, b = 2
(+ 3 2) -&gt; 5</pre>
引数の値によって手続きも変えられるってことかな。
<h3>問題1.5</h3>
これも結構理解できるまで時間がかかった。

作用的順序の場合(test 0 (p))で先に(p)を評価する。けれど(p)の評価した時の結果が(p)だから無限ループになる。
<pre lang="scheme">
(test 0 (p))
(p)を先に評価
(test 0 (p))
以降繰り返し...</pre>
正規順序の場合は、(p)を評価するのは後回しにするから無限ループにはならないで済む
<pre lang="scheme">
(test 0 (p))
(if( (= 0 0)) 0 p))
(= 0 0)が#tだから0を返す</pre>
</div></article><article class="one"><h1 class="article-title"><a href="/2007/08/03/sicp_001/">いい加減SICPを読み始めることにした</a></h1><div class="article-time"><time dateMime="2007-08-03 00:00:00 UTC" pubdate="pubdate">August 03 2007</time></div><div class="article-body"><h2>宣言</h2>
いつ買ったのかわからないSICPをいい加減読むことにしました。どっかで宣言しないといつまでもやらなそうなので、エントリーで宣言して無理にでもやろうという魂胆。一応、成果はブログで書いていくつもりなので更新なかったら「さっさと読めよ、カス」って言ってやってください。

<h2>読もうとおもった理由</h2>
<ul>
	<li>個人的にすごいなって思う人は大抵SICPを読んでるっぽい</li>
	<li> 再帰とかクロージャとかよくわからない</li>
	<li>プログラミングの基礎がない</li>
	<li>schemeに興味がある</li>
	<li>若いうちに読んどくべきな気がする</li>
</ul>
まぁ、SICPを読み切ったら精神と時の部屋を出た後の悟空みたいに別人になれるんじゃねーかっていうそんな淡い期待を持ってるわけです。
<h2>ルール</h2>
<ul>
<li>1ページでも数行でもいいから毎日読む</li>
<li>わからなくても泣かない</li>
<li>練習問題はちゃんと解く</li>
<li>成果はブログでアウトプット</li>
</ul>
<h2>環境の用意</h2>
環境はMacBookなのでMacPortsでGaucheをインストールすることにしました。
<pre>
sudo port install gauche
</pre>
</div></article><article class="one"><h1 class="article-title"><a href="/2007/07/16/070714_js/">初心者向けJavaScript勉強会の資料公開と補足</a></h1><div class="article-time"><time dateMime="2007-07-16 00:00:00 UTC" pubdate="pubdate">July 16 2007</time></div><div class="article-body">とある理由で僕主催の初心者向けのJavaScript勉強会 を14日行いました。とある理由はforestkさんのエントリーを参照ください(<a href="http://blog.livedoor.jp/forestk/archives/50357381.html">UK 主催の初心者向け Javascript 勉強会が生まれた経緯</a>)

会場は<a href="http://www.knocking.co.jp/">株式会社ノッキングオン</a>様にご提供いただきました。借りたい人ははてなキーワードの<a href="http://d.hatena.ne.jp/keyword/%A5%CE%A5%C3%A5%AD%A5%F3%A5%B0%A5%AA%A5%F3%A4%CE%B2%F1%B5%C4%BC%BC%BB%C8%A4%A4%A4%BF%A4%A4%21">ノッキングオンの会議室使いたい!</a>を利用するといいと思います。東麻布でプロジェクター &amp; ネット環境あり(優先ですがアクセスポイントを持参すれば無線も利用可能みたいです)の好環境ですのでかなりおすすめの物件となっております:-P

資料を公開しますので参考になれば幸いです。といっても、ほとんど入門書に書いてあるようなことですがwしかもif文とかの説明すげー適当だしね!

資料URL : <a href="http://www.slideshare.net/ukstudio/javascript/11">http://www.slideshare.net/ukstudio/javascript/11</a>

質問されたり、資料が半端な出来だったりしたのでちょっといくつか補足しておきます
<h2>補足1:連想配列とオブジェクト</h2>
連想配列とオブジェクトの違いはなにか?みたいな質問を受けたので簡単にお答えします。結論としてその２つに<strong>違いはない</strong>と僕は考えます。下のコードをみてください。
<pre lang="javascript">
var obj = {
  name : "UK",
  age : 20,
  birthday : "12月14日"
}

alert(obj.name);       //UK
alert(obj["name"]); //UK</pre>
1つ目のalertは資料でも説明したプロパティの呼び出しです。2つ目に注目してください。連想配列と同じ呼び出し方をしてますよね。今度は次のコードをみてください。
<pre lang="javascript">
var array = new Array();
array["name"] = "UK";
array["age"] = 20;
array["birthday"] = "12月14日";
alert(array["name"]);  //UK
alert(array.name);        //UK</pre>
上記のように連想配列でもドットシンタックス(.)を使って値を呼び出すことができます。これでなんとなくは連想配列とオブジェクトに違いはないと言った意味がわかってもらえたんじゃないでしょーか。

結局は連想配列もオブジェクトの一種(Arrayオブジェクト)なので元をたどっていけばもっとも基本的なオブジェクト(Objectオブジェクト)に行き着くってことです。これはArrayオブジェクトに限らず他のオブジェクト(DateオブジェクトとかFunctionオブジェクトとか)も最終的にはObjectオブジェクトに行き着きます。Objectオブジェクトがすべてのオブジェクトの出発点なのです。

ちょっとおまけですが、連想配列ではなく普通の配列を空のオブジェクトから作ってみます。
<pre lang="javascript">
var array = {
  0 : "インデックス0",
  1 : "インデックス1",
  2 : "インデックス2"
}

alert(array[0]);     //インデックス0
alert(array.0);           //エラー</pre>
とまぁ、こんな感じでプロパティのラベルに数値でつけてやれば配列のようなオブジェクトができます。あとはlengthプロパティだとかをつけてやればOKですね(どうやってプロパティの数を求めるんだとかは聞かないでね)

ただ、自分もちょっとよくわかってない点がarray.0でエラーがでるところですね。多分、0がプリミティブな数値リテラルとして扱われてるからかなとか思うんですがなんともかんとも。
<h2>補足2:数値オブジェクトと文字列オブジェクト</h2>
資料で数値も文字列もオブジェクトと書いてありますが厳密には違います。口頭で簡単に説明しましたがちゃんと文章で補足しておきます

文字列や数値にドットシンタックスをつけると一時的にプリミティブなリテラルからオブジェクトに変換されます。だからプロパティやメソッドを呼び出せるようになるわけです。あくまで<strong>変換</strong>なので厳密にはオブジェクトではない、ということです。
<h2>補足3:yoshioriさんのクイズ</h2>
<a href="http://yoshiori.org/blog/">yoshiori</a>さんのクイズで下のようなクイズがあったと思います。非プログラマな方にはいまいちわからない部分があったと思うので簡単に解説します。ちなみにswitch文とか他の問題は自分も理解があやふやなのでスルーです。
<pre lang="javascript">
alert(2 &amp; 3 == 1);    //0</pre>
まず各演算子には優先順位というものが存在します。(後で説明します)&amp;と==では==の方が優先順位が高いので3==1が先に評価され、falseが返されます。

falseというのは真偽値でいう偽の値でつまりは｢0｣です。そうすると2 &amp; 0のビット演算が行われ0が返されるという訳です。

とか言っても、ビット演算がわからないと思うのでそこを説明したいと思います。

ビット演算は2進数で計算されます。2進数っていうのは10進数が10で次の桁に繰り上がるように2で次の桁に繰り上がります。つまり0と1で表現します。

2を二進数で表すと0010になります。0は当然0000ですね。これを&amp;演算します。
<pre>
 0010
&amp;0000
------
 0000</pre>
&amp;演算というのは両方が1のときだけ1を返す演算です。今回は片方が0なので問答無用で全部0を返すということです。

ちなみにalert(7 &amp; 3)とかだったら3を返します。
<pre>
 0111
&amp;0011
---------
0011 = 3</pre>
ビット演算はあまり使う機会はないと思いますが、興味ある人は調べてみるといいと思います。
<h2>補足4:演算子の優先順位</h2>
上でちょろっと言いましたが、演算子には優先順位というものが存在します。簡単な例を出してみます。
<pre lang="javascript">
var a = 100 + 200 * 10;alert(a); // 2100</pre>
aの宣言のところで演算子は = , + , *の３つがあります。この３つでの優先順位は * &gt; + &gt; = のようになります。

* と + は数学と同じですからわかりやすいと思います。=が低いのは単純に計算が終わる前に値を代入しちゃうのはまずいよね?ってことです。

上の式を頭で計算するときもまずは200 * 10して2000を求めます。そしたら100  + 2000で2100が得られるので最後にa= 2100しますよね。それと同じことです。

他にも多種多様な演算子があってそれぞれ優先順位があります。さらに小難しい話をすると演算子の結合性といった話もでてきます。そこまで説明するのはちょっと骨が折れるので割愛しますが、なんとなくは演算子の優先順位といったものがわかっていただけると幸いです。
<h2>まとめ</h2>
かなり長いエントリーになってしまい申し訳ないです。本当はもうちょっとDOMまわりの補足もしたかったんですが、それはまた別の機会にお話するかエントリーをあげたいと思います。

今回の勉強会は参加する側ではなく主催するという僕にとっては初の試みでしたが、無事(?) になんとか終えることができました。様々な方にご協力いただき本当にありがとうございます。

第２回目希望の声もちらほらと聞こえており、うれしい限りです。もし次も発表する側であれば、ちゃんと準備して本番に望みたいと思います( 前日に資料作るとかあほだよねw)

追記

発表する側に立ってみて思ったことですが、あらためてアウトプットは大事だなと。本を読んだり、話を聞くよりも何倍も勉強になった気がします。デザイン勉強会の話もでてるみたいなので、もし発表するか迷ってる人はとりあえずやってみることをおすすめします。いろいろ不安もあると思いますが、みんないい人なのでなんとかなります、きっとw

あ、あと全体のまとめはちょっと書ききれなかったので<a href="http://www.hamashun.com/blog/2007/07/javascript.html">hamashun</a>さんのブログをみるよーに。
</div></article><article class="one"><h1 class="article-title"><a href="/2007/07/08/start-macbook/">MacBook始めました</a></h1><div class="article-time"><time dateMime="2007-07-08 00:00:00 UTC" pubdate="pubdate">July 08 2007</time></div><div class="article-body">普段使っていたノートPC(Win) がどうやら逝ってしまったみたいなのでこの機会に念願のMacBookを手に入れました。
<table border="0" cellpadding="5">
<tr>
<td valign="top"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B000QUIURY/ukstudio0c-22/" target="_top"><img src="http://g-ec2.images-amazon.com/images/I/11Cbr66vqlL.jpg" alt="Apple MacBook White 2.16GHz Core 2 Duo/13.3/1G/120G/8x SuperDrive DL/Gigabit/BT/DVI MB062J/A" border="0" /></a></td>
<td valign="top"><font size="-1"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B000QUIURY/ukstudio0c-22/" target="_top">Apple MacBook White 2.16GHz Core 2 Duo/13.3/1G/120G/8x SuperDrive DL/Gigabit/BT/DVI MB062J/A</a></font><font size="-1">アップルコンピュータ  2007-05-16
売り上げランキング : 3083</font><font size="-1"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B000QUIURY/ukstudio0c-22/" target="_top">Amazonで詳しく見る</a></font><font size="-2"> by <a href="http://www.goodpic.com/mt/aws/index.html">G-Tools</a></font></td>
</tr>
</table>
MacBookを起動して行った設定のメモ
<h3>Vimの日本語対応</h3>
~/.vimrcを作り以下のように設定
<pre>
:set enc=utf-8

:set fenc=utf-8

:set fencs=iso-2022-jp,euc-jp,cp932</pre>
Terminalの設定変更。
<ol>
	<li>ファイル-&gt;情報をみる</li>
	<li>エミューレーション-&gt;非ascii文字をエスケープするのチェックをはずす</li>
</ol>
<h3>シェルをzshに変更</h3>
<ol>
	<li>ターミナル-&gt;環境設定</li>
	<li>｢このコマンドを実行する｣にチェック。パスに｢/bin/zsh」</li>
</ol>
これでターミナル起動時のシェルがzshになります。zshインストールしないといけないと思ってたらデフォルトでインストールされてた。

あとは、FirefoxとFirebugとGoogleBrowserSyncとかのAdd-onを少々。
</div></article></div><div class="row"><div class="pager one"><ul><li class="previous"><a href="/page/9/">Prev</a></li><li class="next"><a href="/page/11/">Next</a></li></ul></div></div></div></body></html>