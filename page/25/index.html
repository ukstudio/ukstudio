<!DOCTYPE html><html><head><meta charset="utf-8" /><!--Always force latest IE rendering engine or request Chrome Frame--><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><!--Use title if it's in the page YAML frontmatter--><title>ukstudio.jp</title><link href="http://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css" /><link href="/stylesheets/normalize.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/all.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/highlight.css" media="screen" rel="stylesheet" type="text/css" /><script src="/javascripts/all.js" type="text/javascript"></script><link href="/feed.xml" rel="alternate" title="atom" type="application/atom+xml" /><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-12755601-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body class="page page_25 page_25_index"><div class="cointainer-fluid"><div class="navbar navbar-default" role="navigation"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="/">UKSTUDIO</a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"><li><a href="http://twitter.com/ukstudio">Twitter</a></li><li><a href="http://github.com/ukstudio">GitHub</a></li></ul></div></div></div></div><div class="container"><article><h1><a href="/2008/11/10/skitch/">2008-11-10 Skitchでキャプチャアップロード</a></h1><hr /><div class="article-body"><a href="http://d.hatena.ne.jp/snow-bell/20081110/1226249937">セキュリティの教訓 - snow-bellの日記</a>

snow-bellのところでgyazoのセキュリティが話題になってたので、ちょっとレスもかねてエントリー書く。

<a href="http://skitch.com/">Skitch.com</a>

今、オレが使ってるツールはgyazoじゃなくてSkitchというものを使ってる。デモが上で見れるのでそれを見てもらえばどんなものか大体わかるはず。

基本的な用途は、キャプチャ->編集->アップロード。大体gyazoと同じ。オレがgyazoを使わない理由は、画像の削除と公開範囲が指定できないってところが大きい。嘘です、先にSkitchを使ってたからです。

Skitchでできることは大体下記のとおり。

<ul>
<li>スクリーンキャプチャ</li>
<li>簡単な編集</li>
<li>アップロード</li>
<li>公開(非公開設定も可能)</li>
<li>アップロードした画像の削除</li>
</li>

アップロードした画像はskitch.comにログインすると自分のページから一覧することができる。
<div class="thumbnail"><a href="http://skitch.com/ukstudio/5rxm/skitch-sample"><img src="http://img.skitch.com/20081110-tr84wa9qcxag6cyj23954hfc5g.preview.jpg" alt="skitch-sample" /></a><br /><span style="font-family: Lucida Grande, Trebuchet, sans-serif, Helvetica, Arial; font-size: 10px; color: #808080">Uploaded with <a href="http://plasq.com/">plasq</a>'s <a href="http://skitch.com">Skitch</a>!</span></div>

アップロードした画像にはそれぞれにURLが割り当てられて、コピーしてすぐ使うことができる。

<img src="http://img.skitch.com/20081110-m89den1adars4y7qrahbsakdc2.jpg" alt="skitch-sample2"/>

ちなみにこのエントリーで使った画像もSkitchでキャプチャしたものです。多分、gyazoの方がアップロードの手間は少ないのかもしれないけど、編集(文字入れたいときとかたまにある)や、画像の削除、一覧がラクなのでSkitch愛用してます。
</div></article><article><h1><a href="/2008/11/07/vimrc/">2008-11-07 「地味に便利なVim設定」をもうちょい地味に便利にする</a></h1><hr /><div class="article-body"><a href="http://blog.blueblack.net/item_317">地味に便利なVim設定 - ナレッジエース</a>

いくつかもうちょい便利にできるよーってところがあったので書いてみる。

<h2>スペース + wで保存</h2>
別に¥¥で保存でもいいと思うけど、ちょっと指が遠い気がする。ので僕はスペース + wで保存してる。同じ要領でquitも。
<pre lang="vim">
nnoremap <space>w :<c-u>write<cr>
nnoremap <space>q :<c-u>quit<cr>
</pre>

<h2>jとkでカーソルキーを中心に保ってスクロール</h2>
わざわざスペースを使わなくてもできる。gj、gkにしておくと表示行で上下に移動できるので折り返しの行があるときとかに便利。
<pre lang="vim">
nnoremap j gjzz
nnoremap k gkzz
</pre>

ちなみに僕のvimrcはgithubに公開してあるのでよかったら参考にどうぞ。そんな大したものでもないですが。

<a href="http://github.com/ukstudio/config/tree/master">.vimrc at master from ukstudio's config - GitHub</a>
</div></article><article><h1><a href="/2008/10/28/todo/">2008-10-28 RTMとか挫折するので自分に合うTODO管理を考えてみた</a></h1><hr /><div class="article-body">RTMとか今までに数回使おうとして、なぜかいつも使わなくなる。RTM自体は使いやすいんだけど、多分ブラウザベースが合わないんだろう。CUIでタスク管理したい!って思って以前試したけど(名前わすれちゃった)、なんかそれも合わなかった。

んで、今回自分なりに考えたToDo管理は下のような感じ。ちなみにオレの使ってるOSはMacな。Linuxでも大丈夫だと思うけど。windowsはしらん。

<ul>
<li>ToDoの作成は「touch todo名.txt」</li>
<li>ToDoの詳細はそのファイルに書き込めばいい</li>
<li>終わったToDoは「rm todo名.txt」</li>
<li>プロジェクトや階層分けしたかったら「mkdir project名」</li>
<li>オンライン管理はdropboxかgitとか</li>
</ul>

正直、ToDo作るときはブラウザでBTSみながらとか作るので、ブラウザでToDOを作るのは相性が悪い。それに対してMacのTerminalはブラウザとセットで開いてることが多い(webプログラマだからね)、ブラウザで見ながらToDoを作るのは非常にラク。

なにより、touch、rm、mkdir、mvといったコマンドは普段から日常的に使っているのですぐ馴染みそう。あと、この方式の利点はunix系のコマンドが使えることかな。grepとかfindとかsortとか。

オンライン管理はとりあえず必要性を感じてないけれど、最近流行りのdropboxとかgitとかでいいかなと思ってる。変更履歴とか差分とか見たかったらgitだけどそこまでする必要も感じてないし、dropboxでいいのかな。iPhone対応してるらしいし。iPhoneもってないけどさ。

そんな感じでしばらく試してみることにする。
</div></article><article><h1><a href="/2008/10/27/xss/">2008-10-27 XSS対策に入力時エスケープは非常にややこしい</a></h1><hr /><div class="article-body">to-Rさんの<a href="http://blog.webcreativepark.net/2008/10/24-201629.html">XSSの脆弱性を限りなくなくす方法</a>を読んでなんかもにょもにょしたのでエントリーを書く。多分、to-Rさんはこれから書くことに関して理解してて、あの対策を行なってるのかもしれないけど、それでも書く。自分の勉強も兼てるので変なところがあれば教えていただけるとありがたいです。

入力時エスケープは非常に<strong>ややこしい</strong>

確かに、入力値に必ずエスケープしておけば、XSS対策漏れにはなるかもしれない。けれど非常にややこしいことになる。

例えば、受け取ったデータの文字列に対して文字数制限のバリデーションを行なうときにわざわざアンエスケープの処理を行なわないといけないし、DBへの保存の際にもアンエスケープが必要になる。ブログとかでフォームから受け取ったデータのうち、一部のタグは許容するときとかもかな。

<blockquote>
ベストの対策はアプリの性質に合わせたエスケープなんだけども、これって完全になくすにはかなりの几帳面さが必要になるんじゃないかなと思います。(規模が大きくなればなるほど)
</blockquote>

とエントリーでは書かれているけど、この対策が大規模になればなるほどXSSに限らず色々な問題が発生する気がする。大規模であればあるほど、出力箇所をみて「対策されている」というのがわかるのが大事。

コードを書きながら「DBに保存するからアンエスケープ・・・」「スクリプトとして出力するからアンエスケープ」って考えるよりは、「HTMLの出力時にエスケープ」の方がわかりやすいはず。出力時をみればいいんだから。

ちなみにフレームワークやテンプレートエンジンが出力時のエスケープをデフォルトで行なうってのは賛成です。なぜなら使っているフレームワークまたはテンプレートエンジンがエスケープしているということが自明なら、エスケープの有無を確認する必要がなくなるから。PHPとかWeb特化とか言うぐらいなら、デフォルトでエスケープして出力すればいいのにと思う。

なんかXSS対策とかエスケープって言い方がよくない気もするな。普通に「スクリプトを無効にする」とかで良い気がしてきた。スクリプトが有効になるのは、HTML出力時なんだからその時に無効化すればいいよね。

というか、PHPの人はmagick quoteでこりたと思ってたんだけど。

<h2>追記</h2>
ブクマコメ、高木さんより。
<blockquote>
「普通に「スクリプトを無効にする」とかで良い気がしてきた」&lt; XSSはスクリプトだけじゃない。&gt;iframe&lt;の挿入&lt;form&gt;の挿入を考えてみるよろし。CERT CA-2000-02ではXSSと呼ばず「Malicious HTML Tags Embedded in Client Web Requests」と呼んだ
</blockquote>

あー、確かにそうですね。指摘ありがとうございます。Malicious HTML Tags Embedded in Client Web Requestsは初耳でした。
</div></article><article><h1><a href="/2008/10/06/vimm3/">2008-10-06 VimM#3開催のお知らせ</a></h1><hr /><div class="article-body">11月の22日(土)の14時からVimM#3を開催します。

今回のテーマは「脱初心者」ということでなるべくなら初心者の方に来てもらいたいなと思っています。なんかメンバーみると結構「おまえ初心者じゃないだろう!」て人がいるので、負けずに初心者の方もいっぱい来てください。

スピーカーもまだ募集しているので応募お待ちしております。

今回の会場もささださんとほしさんにご協力頂きました。二回連続にわたりありがとうございます。

<a href="http://wiki.livedoor.jp/biowithit/d/VimM%233">VimM#3</a>
</div></article><div class="pager"><ul><li class="previous"><a href="/page/24/">Prev</a></li><li class="next"><a href="/page/26/">Next</a></li></ul></div></div></body></html>