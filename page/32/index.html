<!DOCTYPE html><html><head><meta charset="utf-8" /><!--Always force latest IE rendering engine or request Chrome Frame--><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><!--Use title if it's in the page YAML frontmatter--><title>ukstudio.jp</title><link href="http://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css" /><link href="/stylesheets/normalize.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/all.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/highlight.css" media="screen" rel="stylesheet" type="text/css" /><script src="/javascripts/all.js" type="text/javascript"></script><link href="/feed.xml" rel="alternate" title="atom" type="application/atom+xml" /><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-12755601-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body class="page page_32 page_32_index"><div class="cointainer-fluid"><div class="navbar navbar-default" role="navigation"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="/">UKSTUDIO</a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"><li><a href="http://twitter.com/ukstudio">Twitter</a></li><li><a href="http://github.com/ukstudio">GitHub</a></li></ul></div></div></div></div><div class="container"><article><h1><a href="/2008/01/12/blog/">2008-01-12 オレがブログを書く理由</a></h1><hr /><div class="article-body">まめこの「<a href="http://blog.woopsdez.jp/2008/01/post_294.php">車輪の再発明だとしても記事は書くべき</a>」に反応してみる。「記事をかくべき」というのには非常に同意。

じゃあ、なぜ「かくべき」なのか。それは人それぞれになると思うけど、オレがブログを書く理由を簡単にまとめてみたのでよければ参考にしてほしい。

<h2>ブログは自分の為に書く</h2>
基本的にブログは自分の為に書いている。あまり他の人に役立つかどうかとか、誰か似たようなこと書いてるだろうなとかは気にしない。

<h3>思考のツールとしてのブログ</h3>
文章を書くということは、ある程度自分の思考を整理することになる。別にこれだけならブログでなくとも、ノートや日記帳、テキストファイルやローカルなWikiでもいい。けれど、公開してるブログにはそれらにない特徴がある。

不特定多数の人に見られるということである。

不特定多数に見られるということは、少なくとも自分が「人にみせてもいい」と思えるレベルになるまで文章を推古することになる。その過程で自分なりになるべく客観的に文章を判断しようとする。そうすることで今迄とはまた違った視点で物事を考えられるわけだ。

また、不特定多数から何らかの反応(コメント、トラックバック、etc)があった場合、それはローカルな環境での記録ではなかなか得られないものだ。自分のノートに書いといただけでは、誰もそれについて考えるといったことはしない。

<h3>最大の読者は自分</h3>
当たり前の話だけど、過去の自分に会うことはできない。もちろん、昔に自分がどんなことを考え、どんなことをしていたのか覚えてるとも限らない。人は忘れる生き物だ。

けれどブログに記事を書いておけば、その記事を見にいくことによって擬似的にだけど当時の自分と会うことができる。過去の自分は全くの別人なのではないかと思う時もある程、思考の違いに驚くことがある。過去のエントリと現在の自分の思考の違いから学ぶことも多いものだ。

ある一定以上、ブログを続けているとそのうちデータベースとして機能するようになる。自分が何を考え、何に悩んでいたのか。そしてどんな行動をしてきたのか。それらが記録されているブログは後に貴重な財産となるはず。

<h3>コラボレーション</h3>
各人のアウトプットが1つのコラボレーションを生むことがある。最近の例で言えば、<a href="http://born1981.g.hatena.ne.jp/">1981s</a>がそうなのではないかと思う。

<a href="http://d.hatena.ne.jp/kamawada/20071128/1196228938">ゆーすけべーさんが発案</a>し、<a href="http://d.hatena.ne.jp/amachang/20071128/1196241194">amachangが呼び掛ける</a>。実はあまり詳しい経緯を追ってないので間違ってたら申し訳ないけれど、少なくともゆーすけべーさんが記事をかかなければ1981sが存在しなかったのは確か。

1981sに限らず、誰かがブログで言いだしたのがきっかけで生まれたものはたくさんあるんじゃないかと思う。

<h2>「書くべき」は言い過ぎかもしれないけど</h2>
最初に同意しといてここで言い過ぎと言うのはおかしいかもしれないけど、そもそも強制されるようなものでもないと思うので。ただ、少なくともオレはブログを書くことで色々得るものが多いと思うので「ブログイイヨー、オススメダヨー」ぐらいのノリでオススメしておきます。
</div></article><article><h1><a href="/2008/01/12/ruby_tumblr_getimages_2nd/">2008-01-12 Tumblrの全画像を取得するRubyスクリプト改</a></h1><hr /><div class="article-body"><a href="http://uk-studio.net/2008/01/11/ruby_tumblr_getimages/">Tumblrの全画像を取得するRubyスクリプトを書いた・・・けど</a>

上のエントリーのコードを書き直した。これで10kb未満の画像でも問題ないはず。それとTumblrのIDを引数で与えるようにも修正した。独自ドメインのやつには対応してないです。ごめんなさい。

あとこっそり<a href="http://coderepos.org/share/browser/lang/ruby/misc/tumblr_getimages.rb">CodeReposにCommitした</a>ので、煮るなり焼くなりお好きにどうぞ。

<pre lang="ruby">
require 'open-uri'
require 'rexml/document'
require 'FileUtils'

if ARGV.size != 1
  puts "Usage: #{$0} [id] "
  exit
end

id = ARGV[0]

res = open(url)
doc = REXML::Document.new(res.read)
total = REXML::XPath.first(doc, "/tumblr/posts").attributes['total'].to_i

0.step(total, 50){|n|
  image_list = []
  res = open(url + "&start=#{n}")
  doc = REXML::Document.new(res.read)
  data = REXML::XPath.match(doc, "/tumblr/posts/post")
  data.each{|i| image_list < < i.elements['photo-url'].text }

  image_list.each{|image_url|
    open(image_url) do |image|
      open(image_url.split(/\//).last, "w") do |local_image|
        local_image.write(image.read)
      end
    end
  }
}
</pre></pre>
</div></article><article><h1><a href="/2008/01/11/ruby_tumblr_getimages/">2008-01-11 Tumblrの全画像を取得するRubyスクリプトを書いた・・・けど</a></h1><hr /><div class="article-body">今じゃほとんどTumblrは使ってないんだけど、なんとなく画像を取得するスクリプトを書いてみた。iPod touchに放り込んでみようかなとか思ったのよ。

とりあえずコード。
<pre lang="ruby">
require 'open-uri'
require 'rexml/document'
require 'FileUtils'

res = open(url)
doc = REXML::Document.new(res.read)
total = REXML::XPath.first(doc, "/tumblr/posts").attributes['total'].to_i

0.step(total, 50){|n|
  image_list = []
  res = open(url + "&start=#{n}")
  doc = REXML::Document.new(res.read)

  data = REXML::XPath.match(doc, "/tumblr/posts/post")
  data.each{|i| image_list < < i.elements['photo-url'].text }

  image_list.each{|image|
    tempfile = open(image)
    FileUtils.cp(tempfile.path, image.split(/\//).last)
  }
}
</pre>
ちなみにXPathはどんなものかなんとなくは知っていたけれど使うのは初めて。

処理内容としてはTumblr APIを使って50件ずつ画像のURLを取得して、1個ずつカレントディレクトリにコピーすると言う至極単純な方法を選んだ。人によっては1000単位で画像があるだろうから(ちなみにオレは1000ちょいだった)かなり時間がかかると思う。

1つよくわからない現象が起きていて、とある画像を取得するタイミングで必ずエラーが発生する。どの画像かまでは調べてないけど、いつも同じ画像なのは確か。

</pre><pre lang="bash">
/opt/local/lib/ruby/1.8/FileUtils.rb:1407:in `fu_each_src_dest0': undefined method `to_str' for nil:NilClass (NoMethodError)
        from /opt/local/lib/ruby/1.8/FileUtils.rb:1393:in `fu_each_src_dest'
        from /opt/local/lib/ruby/1.8/FileUtils.rb:382:in `cp'
        from tumblr_getimages.rb:19
        from tumblr_getimages.rb:17:in `each'
        from tumblr_getimages.rb:17
        from tumblr_getimages.rb:10:in `step'
        from tumblr_getimages.rb:10
</pre>

とりあえず、openで取得したtempfileとtempfile#pathをpで表示してみた。以下がその問題が起きる部分。なぜにStringIO・・・?
<pre lang="bash">
#<file :/var/folders/ni/niHXwO9-GoO0yPJpz3WMm++++TI/-Tmp-/open-uri.1153.4>
"/var/folders/ni/niHXwO9-GoO0yPJpz3WMm++++TI/-Tmp-/open-uri.1153.4"
#</file><file :/var/folders/ni/niHXwO9-GoO0yPJpz3WMm++++TI/-Tmp-/open-uri.1153.5>
"/var/folders/ni/niHXwO9-GoO0yPJpz3WMm++++TI/-Tmp-/open-uri.1153.5"
#<stringio :0x5c4af4>
nil
</stringio></file></pre>

無理矢理な対処としてはコピーの処理の時にオブジェクトのクラスを調べて、StringIOを回避すればとりあえずは何とかなる。そのかわり、その画像はローカルに保存されないけれど。

<pre lang="ruby">
  FileUtils.cp(tempfile.path, image.split(/\//).last) if tempfile.kind_of?(Tempfile)
</pre>

ちなみに1000件も取得するのが途中で面倒になってしまったので最後まで取得できるかまでは試してない。一応100件ぐらいは取得できたけど。

tumblrのIDとか取得の開始地点、1回で取得する件数とかそのまま直書きしちゃってるけど、コマンドラインの引数で与えるようにすればそれなりに使い勝手がよくなるかもしれない。

本当はページ番号と1ページごとの件数を与えれば、そのページの画像を取得するようにするつもりだったんだけどね。他にもテキストとかがたんぶらってあったりすると画像の数が不確定で、そこらへんどううまく処理するかとか考えると結構時間かかりそうだったからやめた。

<h2>追記: 08/01/11 6:13</h2>
エラーが発生する画像を特定した。
<a href="http://data.tumblr.com/14065003_500.jpg">http://data.tumblr.com/14065003_500.jpg</a>

パっと見、普通の画像なんだけどな。試しにirbから取得してみる。
<pre lang="ruby">
>> require 'open-uri'
=> true
>> tempfile = open("http://data.tumblr.com/14065003_500.jpg")
=> #<stringio :0x3d4384>
</stringio></pre>
やっぱり、StringIOオブジェクトだ・・・なんでー?

<h2>追記: 08/01/11 10:25</h2>
ちょっとググってみたらruby-listの過去ログが引っかかった。

<a href="http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-list/40937">Re: multipartフォームから受け取ったオブジェクトにstatメソッドでエラー</a>

上のリンクはcgi.rbの話だけど、open-uriでもどうやら10kb未満の画像だとTempfileではなく、StringIOになる模様。ちなみに該当の画像は8kbでした。こやつめ、ハハハ。

<h2>追記 08/01/12 1:27</h2>
コードを修正しました。
<a href="http://uk-studio.net/2008/01/12/ruby_tumblr_getimages_2nd/">Tumblrの全画像を取得するRubyスクリプト改</a>
</div></article><article><h1><a href="/2008/01/09/2007_history/">2008-01-09 2007年はTwitterが中心の1年でした</a></h1><hr /><div class="article-body">今更感があふれるエントリですね。

<h2>1、2、3月</h2>
<ul>
<li>覚えてない</li>
</ul>
<h2>4月</h2>
<ul>
<li><a href="http://twitter.com/ukstudio/statuses/20520981">Twitterを始める</a></li>
</ul>
<h2>5月</h2>
<ul>
<li>CSS Nite LP3に参加</li>
</ul>
<h2>6月</h2>
<ul>
<li><a href="http://uk-studio.net/2007/06/21/twitter_offline_party/">amachang主催のついったーオフに参加</a></li>
<li>miniturbo主催のモバイル勉強会に参加</li>
<li><a href="http://uk-studio.net/2007/06/24/twitter_meganeoff/">ついったーメガネオフに参加</a></li>
</ul>
<h2>7月</h2>
<ul>
<li>amachang主催、JSを語り合う会に参加</li>
<li><a href="http://uk-studio.net/2007/07/16/070714_js/">JS勉強会を主催</a></li>
<li><a href="http://uk-studio.net/2007/07/08/start-macbook/">UK、マカーになる</a></li>
<li>WEB標準の日々に参加</li>
</ul>
<h2>8月</h2>
<ul>
<li>ついったー盆フェスに参加</li>
<li>LL魂に参加</li>
<li>@youchan主催セキュリティ勉強会に参加</li>
</ul>
<h2>9月</h2>
<ul>
<li>PHPカンファレンス2007に参加</li>
<li>Shibuya.js 24に参加</li>
<li>ついったー写真部スタジオ勉強会に参加</li>
<li>woopsdez主催デザイン勉強会に参加</li>
<li><a href="http://uk-studio.net/2007/09/07/ipod_touch/">iPod touchを予約する</a></li>
<li>Rubyを始めた気がする</li>
</ul>
<h2>10月</h2>
<ul>
<li>なんかのんびりしてた気がする</li>
</ul>
<h2>11月</h2>
<ul>
<li>ジョジョの奇妙な冒険にハマる</li>
<li>某社面接</li>
</ul>
<h2>12月</h2>
<ul>
<li>ついったー忘年会に参加</li>
<li><a href="http://uk-studio.net/2007/12/28/mac_leopard/">Leopard買った</a></li>
<li><a href="http://generation1986.g.hatena.ne.jp/">1986's発足</a></li>
<li>@yoshioriの家で年越し</li>
</ul>
<h2>ついったーで生活が一変</h2>
いや、本当に変わりすぎだろっていうぐらい変わってるなぁ。特に6月から9月がやばい。かなりアクティブ。まさか勉強会まで主催するとは。上には書いてないけれど、他にも結構細々としたところで生活が変わってる。まさについったー中心の年でした。

<h2>ありがとう。今年もよろしく</h2>
ついったーで知り合ったとある数名(名前は出さないけど察しろ。約3名だ)は5、6月ぐらいからかなりお世話になってるわけだけど、本当にありがたいことです。かなりプライベートな面までお世話になってるような・・・色々迷惑かけてると思うけど今年もよろしくです。

他にも直接面識はないけれど、ついったーを始めるきっかけになった100SHIKIの田口さんや、はじめてついったったーと会う勇気をくれた@amachang、@miniturbo。イベントを企画・主催してくれた人達や、勉強会の会場を提供してくれた@elfさん。本当に関西に住んでるんだかよくわからない某ぺんぎんをはじめ、たくさんのついったったーにもお世話になりました。ありがとうございます。

あと忘れちゃいけないのが、ついったーの開発陣ですね。遅延だのメンテだの色々あったけれど、ついったーがあって本当によかったと思います。ありがとう。

そんなわけで2007年はなかなか忘れられない年になりそうです。2008年はどんな年にしようかな。
</div></article><article><h1><a href="/2008/01/06/1986s/">2008-01-06 86世代あつまれー</a></h1><hr /><div class="article-body">ちょこちょこと一部で話題にあがってた同世代のエンジニアで集まってみようの件だけど、yuyarinさんがはてなグループを作ってくれました。

<a href="http://d.hatena.ne.jp/yuyarin/20071221/1198240756">IT＆IS系の'86世代でちょっと集まってみませんか？＠東京</a>
<a href="http://generation1986.g.hatena.ne.jp/yuyarin/20071230/1199018717">1986のはてなグループ作ったよー</a>
<a href="http://generation1986.g.hatena.ne.jp/">1986s</a>

現時点のメンバーはこんな感じ↓
<a href="http://generation1986.g.hatena.ne.jp/keyword/メンバー一覧">メンバー一覧</a>
まだまだ少ないので参加者求む。

<a href="http://twitter.com/_tad_/statuses/565676282">都市伝説と思われていたujihisaさん</a>もいるよ!

それにしても、年上だと思ってた人が結構いるんだよなぁ。なんか「若い」ってことを言い訳にできない気がした。
</div></article><div class="pager"><ul><li class="previous"><a href="/page/31/">Prev</a></li><li class="next"><a href="/page/33/">Next</a></li></ul></div></div></body></html>