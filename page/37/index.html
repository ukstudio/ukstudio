<!DOCTYPE html><html><head><meta charset="utf-8" /><!--Always force latest IE rendering engine or request Chrome Frame--><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><!--Use title if it's in the page YAML frontmatter--><title>ukstudio.jp</title><link href="http://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css" /><link href="/stylesheets/normalize.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/all.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/highlight.css" media="screen" rel="stylesheet" type="text/css" /><script src="/javascripts/all.js" type="text/javascript"></script><link href="/feed.xml" rel="alternate" title="atom" type="application/atom+xml" /><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-12755601-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body class="page page_37 page_37_index"><div class="cointainer-fluid"><div class="navbar navbar-default" role="navigation"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="/">UKSTUDIO</a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"><li><a href="http://twitter.com/ukstudio">Twitter</a></li><li><a href="http://github.com/ukstudio">GitHub</a></li></ul></div></div></div></div><div class="container"><article><h1><a href="/2007/10/14/ipodtouch_hack_ruby/">2007-10-14 iPod touchでRubyを動かす</a></h1><hr /><div class="article-body"><strong style="color: #ff0000">以下の作業は自己責任でお願いいたします。</strong>
<h2>Installer.appをインストールする</h2>
まずはRubyを入れるためにInstaller.appをiPod touchをインストールします。
基本的に以下のリンク通りに作業すれば問題ないはずです。

<a href="http://hostname.jp/wk/index.php?iPod%20Touch%20jailbreak%20for%20Windows">iPod Touch jailbreak for Windows</a>
<a href="http://hostname.jp/wk/index.php?iPod%20Touch%20jailbreak%20for%20OSX">iPod Touch jailbreak for OSX </a>
<h2>必要なアプリのインストール</h2>
Installer.appから以下のアプリをインストールします。
<ul>
	<li>System &gt; BSD Subsystem</li>
	<li>System &gt; MobileTerminal</li>
	<li>Sources &gt; Community Sources</li>
</ul>
BSD Subsystemを入れることでBSD由来のコマンドが使えるようになります。今回に限らずtouchをいじくり倒すのに必須のアプリかと。MobileTerminalはその名の通りTerminalです。Community SourcesはInstaller.appからインストールできるアプリが増えます。Rubyもこのなかに含まれています。
<h2>Rubyのインストール</h2>
Community SourcesをインストールすることでInstaller.appのアプリ一覧にRubyが増えているはずなので、そこからRubyをインストールします。
<h2>Rubyにパスを通す</h2>
<strike>Rubyにパスを通すために.zshenvをSSH経由で作成します。</strike>
<pre lang="bash"><strike>
% ssh -l root iPodtouchのIPアドレス
root@IPアドレス password:パスワードを入力

# vi /Applications/.zshenv

1: export PATH=/opt/iphone/bin:$PATH</strike></pre>
<strike>次にiPod touchのMobileTerminalから今つくった.zshenvを適用させます。</strike>
<pre lang="bash"><strike>
# # source /Applications/.zshenv
# # ruby -v
ruby 1.8.6 (2007-03-13 patchlevel 0)
[arm-darwin]</strike></pre>
どうやら.zshenvだとMobileTerminalを閉じるたびに設定がリセットされる模様。毎回Terminalを起動させる度にsourceするのもアレなのでlnコマンドでシンボリックリンクを作ることで対応します。

シンボリックリンクはSSH経由でrootで作成します。
<pre lang="bash">
% ssh -l root iPodtouchのIPアドレス
root@IPアドレス password:パスワードを入力

# ln -s /opt/iphone/bin/ruby /bin/ruby</pre>
これでMobileTerminalを閉じたあとでもRubyへのパスが通っているはずです。ただこの方法だとPerlやPHP、Pythonをインストールしたときもシンボリックリンクを用意しなければいけないですし、irbのシンボリックリンクも用意する必要があります。(irbはなんかエラーでてつかえないけど)

<img src="http://farm3.static.flickr.com/2133/1568034636_00c9cd91c8.jpg?v=0" />

できれば、PATHの設定をしてやった方が色々手間がないはずなので、やり方わかる人いたら教えていただけるとありがたいです。
<h2>オマケ</h2>
せっかくSSHを使えるようにしてあるんだからsshsでマウントすると便利ですよ。

<img src="http://farm3.static.flickr.com/2130/1567200415_f186903c3b.jpg?v=0" />
<h2>追記:irbがなくてもボクたちにはeval.rbがあるじゃないか!</h2>
irbは動かないけど、eval.rbならもしかして・・・？

ってことで試してみましたよ。SSHでeval.rbをtouchに送って実行!

<img src="http://farm3.static.flickr.com/2355/1573467889_1f56f2e5ba.jpg?v=0" />

<strong>できた!!</strong>

eval.rbはサンプルとしてRubyにくっついてると思うから探せばあると思う。もしわからなければソースを<a href="http://www.ruby-lang.org/ja/downloads/">ダウンロード</a>して、解凍すると/sample/eval.rbがあるからそれを使えばいいと思います。
<h2>追記</h2>

<h2>追記 2007/10/26</h2>
<a href="http://d.hatena.ne.jp/faultier/20071025/1193293222">[iPod touch][プログラミング]iPod touchでRubyを使うのはちょっと厳しいかも</a>
irbが動かない件をfaultierさんが検証していた様です。irbだけじゃなくて標準ライブラリもダメだったのね・・・
</div></article><article><h1><a href="/2007/10/06/mac_loginshell_zsh/">2007-10-06 Macのログインシェルをzshに変更する</a></h1><hr /><div class="article-body"><a href="http://uk-studio.net/2007/07/08/start-macbook/">以前</a>に一度設定はしていたのですがちょっとおかしなところ(screenがうまく起動しない、日本語が入力できないとか)がいくつかあったので再設定しました。
<h2>zsh-develをMacPortsでインストールする</h2>
どうやら最初からインストールされているzshではバージョンの4.24のため日本語が入力できないみたいなのでMacPortsであらたに4.3以上のものをインストールしなおします。
<pre>
$sudu port install zsh-devel
Enter password:</pre>
インストールが終わると、/opt/local/binにzsh-4.3.4があるはずです。
<h2>ログインシェルの変更</h2>
ユーティリティのNetInfoマネージャもしくは、Terminalからchshを実行してログインシェルを変更します。今回はchshを使用して変更します。ちなみにTerminalの環境設定でシェルを指定している場合は「/usr/bin/loginを使ってデフォルトのログインシェルを実行する」に直しといて下さい。

追記:
MacPortsでインストールしたzshをそのまま登録しても不正なシェルだかなんだか言われてエラーがでるのでそれの対応も必要。/etc/shellsに今回使用するzshのパスを追記します。書くの忘れてたよ・・・

<pre>
$vi /etc/shells

<span style="color:#f00">/opt/local/bin/zsh-4.3.4</span>
</pre>

chshを実行すると編集画面にうつるので、Shellの項目に先程インストールしたzshのパスを指定します。
<pre>
$chsh

6: ##
7: Shell: <span style="color: #ff0000">/opt/local/bin/zsh-4.3.4</span>
8: Full Name: 名前</pre>
<h2>日本語設定</h2>
Terminal、zshの日本語設定を行います。
<h3>Terminalの日本語設定</h3>
<ol>
	<li>Cmd + i でターミナルインスペクタを開く</li>
	<li>エミュレーション-&gt;「非ASCII文字をエスケープする」のチェックをはずす</li>
	<li>ディスプレイ-&gt;日本語や中国語などにワイドグリフを使用する」と「ワイドグリフは2桁とカウントする」のチェックをオンにする</li>
	<li>文字 エンコーディングをUnicode(UTF-8)に変更する</li>
</ol>
<h3>zshの日本語設定</h3>
ホームディレクトリの.inputrcに以下の文を追記。ファイルが無い場合新規に作成する
<pre>
同じくホームディレクトリの.zshenvに以下の文を追記。lsで日本語をきちんと表示させるためにaliasで"ls -v"を指定しています。
<pre>
alias ls="ls -v"

export LANG=ja_JP.UTF-8</pre>
<h2>Terminalの再起動</h2>
設定を読みこむためにTerminalを一度再起動します。以下の点が確認できれば問題ないとおもいます。
<ol>
	<li>ログインシェルがzshになっている</li>
	<li>echo $SHELLで/opt/local/bin/zsh-4.3.4が出力される</li>
	<li>echo 日本語など日本語が入力でき、かつちゃんと出力される</li>
	<li>lsを発行したときに日本語のファイルやディレクトリが文字化けしていない</li>
</ol>
</div></article><article><h1><a href="/2007/09/28/rubyonrails_install_in_macbook/">2007-09-28 MacBookにRubyOnRailsをインストールする</a></h1><hr /><div class="article-body">Railsを試すためにMacBookにRubyOnRailsをインストールしてみました。MacPortsは既にインストールされてるものとして話を進めるので、インストールしていない人はGoogleで調べるなりしてインストールしてくださいな。と言ってもRubyGemsのインストールでしか今回は使いませんけど。
<h2>まずはRubyGemsをインストール</h2>
MacPortsを利用してRubyGemsを入れます。rb-rubygemsという名前で登録されているはずです。
<pre>% sudo port install rb-rubygems</pre>
<a href="http://www.flickr.com/photo_zoom.gne?id=1447826801&amp;size=o"><img src="http://farm2.static.flickr.com/1008/1447826801_bf64321738.jpg?v=0" alt="install gem" /></a>
<h3>というかRubyGemsってなに?</h3>
いわゆるパッケージマネージャーってやつです。Perlで言うところのCPANみたいなものです。Rubyはまだ標準のパッケージマネージャーはありませんが、Railsがインストールできるということもあってか大抵はRubyGemsが使われるようです。
<ul>
	<li><a href="http://jp.rubyist.net/magazine/?0006-PackageManagement">Rubyist Magazine - シリーズ パッケージマネジメント 【第 1 回】 RubyGems (1)</a></li>
	<li><a href="http://d.hatena.ne.jp/secondlife/20061106/1162785661">川o・-・）＜2nd life - RubyGems パッケージの作り方 - rubyforge 登録まで</a></li>
	<li><a href="http://www.rubygems.org/">RubyGems Manuals</a></li>
</ul>
<h2>gemからRailsをインストール</h2>
<pre>% sudo gem install rails</pre>
<a href="http://www.flickr.com/photo_zoom.gne?id=1447826981&amp;size=o"><img src="http://farm2.static.flickr.com/1341/1447826981_c3eb32b601.jpg?v=0" alt="install rails" /></a>

gemをインストールしてしまえば、コマンド一発でRailsがインストール出来てしまいます。簡単ですね。
<h2>プロジェクトを作ってみる</h2>
<pre>% rails hello</pre>
<a href="http://www.flickr.com/photo_zoom.gne?id=1447827317&amp;size=o"><img src="http://farm2.static.flickr.com/1245/1447827317_f6bc5901ef.jpg?v=0" alt="create project" /></a>

gemでRailsをインストールしたら、プロジェクトを作ってみましょう。helloというディレクトリが出来て、その中にappディレクトリやRakefileとかが作られていれば問題ありません。ちなみにhelloというのはプロジェクト名です。
<h3>おまけ</h3>
キャプチャのMelchiorっていうのはエヴァネタです。マギシステムの。痛い子ですみません。
</div></article><article><h1><a href="/2007/09/27/ukstudio_server_down/">2007-09-27 UK STUDIOにアクセスできなかった件について</a></h1><hr /><div class="article-body">サーバ料金の払い忘れで20日からサーバを停められてしまい、http://uk-studio.net/にアクセスできない状態でした。今日のお昼頃、振込みを終わらせ今はちゃんとアクセスできる状態です。

当サイトをご覧いただいてる方々にご心配とご迷惑をおかけしてしまったた事をお詫びいたします。
</div></article><article><h1><a href="/2007/09/07/ipod_touch/">2007-09-07 iPod touchを予約しました</a></h1><hr /><div class="article-body"><a href="http://www.amazon.co.jp/gp/redirect.html%3FASIN=B000IDHJ30%26tag=ukstudio0c-22%26lcode=xm2%26cID=2025%26ccmID=165953%26location=/o/ASIN/B000IDHJ30%253FSubscriptionId=1N9AHEAQ2F6SVD97BE02" title="Click and drag this image to the post editor"><img src="http://g-ec2.images-amazon.com/images/I/41eCukUobxL.jpg" width="500" /></a>

各所で話題のiPod touchですが、僕も16GBのやつをApple Storeから予約しました。Classicの160GBと迷ったんですが、無線LANやSafari、その他もろもろの機能の誘惑に負けました。出荷日まであと20日ぐらいあるのがなんともじれったい。

<a href="http://code.google.com/p/mobileterminal/">http://code.google.com/p/mobileterminal/</a>これ動くのかなぁ？
</div></article><div class="pager"><ul><li class="previous"><a href="/page/36/">Prev</a></li><li class="next"><a href="/page/38/">Next</a></li></ul></div></div></body></html>