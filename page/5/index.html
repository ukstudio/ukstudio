<!DOCTYPE html><html><head><meta charset="utf-8" /><!--Always force latest IE rendering engine or request Chrome Frame--><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><meta content="width=device-width,initial-scale=1.0" name="viewport" /><title>ukstudio.jp</title><link href="/stylesheets/dist/normalize.css" rel="stylesheet" /><link href="/stylesheets/dist/skeleton.css" rel="stylesheet" /><link href="/stylesheets/all.css" rel="stylesheet" /><script src="/javascripts/all.js"></script><link href="/feed.xml" rel="alternate" title="atom" type="application/atom+xml" /><script>var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-12755601-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body class="page page_5 page_5_index"><div class="header"><div class="header-title"><h1><a href="/">ukstudio</a></h1></div></div><div class="container"><div class="row"><article class="one"><h1 class="article-title"><a href="/2010/02/04/googe_data_api-clientlogin-ruby/">Google Data APIの認証をClientLogin + Rubyで</a></h1><div class="article-time"><time dateMime="2010-02-04 00:00:00 UTC" pubdate="pubdate">February 04 2010</time></div><div class="article-body"><script src="http://gist.github.com/294044.js?file=google_client_login.rb"></script>

とりあえずGoogle Mapで。他のサービスもservice変数を書き換えれば認証までは通るはず。クエリのPasswdをPasswordにしてて結構はまった。Unix文化め。

参考: <a href="http://code.google.com/intl/ja/apis/gdata/">Google Data API - Google Code</a>
</div></article><article class="one"><h1 class="article-title"><a href="/2010/01/31/tork03/">東京Ruby会議#3公式サイト&amp;受付開始</a></h1><div class="article-time"><time dateMime="2010-01-31 00:00:00 UTC" pubdate="pubdate">January 31 2010</time></div><div class="article-body"><a href="http://regional.rubykaigi.org/tokyo03">東京Ruby会議03 - Regional RubyKaigi -</a>

先程、公開しました。受付けも開始してるのでそちらから申し込みください。多分、右側の開発概要はこれから詳細が公開されていくと思います。

今回はいつもと違って東京Ruby会議03専用デザインです。デザインは@mayucoさん。専用デザインを使うため、僕の方でRegionalRubyKaigiのシステムに手を入れました。バグがないといいけど。

本当は明日、公開予定だったんだけど、@ayuminさんが今日開催されてる並カンで宣伝枠をもらったらしく、そこでデプロイしたらおもしろいんじゃない?とか言われたので、@ayuminさんが発表しながらSkypeで僕に合図をし、僕が家でデプロイ作業をするというよくわからない感じに公開しました。

なにはともあれ、スタッフ一同良いイベントにしようと頑張っているのでぜひ参加してくださいねー。
</div></article><article class="one"><h1 class="article-title"><a href="/2010/01/31/programmer_is_severe_job/">プログラマという職業は「ふつう」の人には厳しくないか</a></h1><div class="article-time"><time dateMime="2010-01-31 00:00:00 UTC" pubdate="pubdate">January 31 2010</time></div><div class="article-body">最近、実はプログラマという職業が「ふつう」の人には厳しいなーと思っていたりする。

業務外にコードを書いたり、技術書などを読むというのは素晴らしいことだと思う。けど、会社側がもし「業務時間外にコードを書いたり、技術書を読んだり、勉強会に参加しなさい」と言ったら、それは業務時間外労働と変わらないと思う。個人のたのしみとは別に会社側がそれらを求めたらそれは業務だ。

しかし、僕が思うにはそういう業務時間外に自主的に勉強をしないと、正直いってまともな品質なソフトウェアを作るのは難しい。

例えば良書と言われているものは結構な数あり、ある程度経験がありそれらの本を読んだことがある人は「プログラマならこの本は読んでおくべき」という本をいくつかあげたりもするだろう。けど、それらをいつ読むのか。業務時間内にそれらをじっくり読んだり、実際にコードを書いたりする時間があるところはないだろう。そうなると自分のプライベートの時間を使うしかない。

別に僕はそういうことが好きだからいい。会社への貢献とかそういうことは関係なく自分で読みたい技術書は読むし、書きたいコードは書く。では、そうじゃない人達は? (とりあえず、ここではそういう人達を「ふつう」の人と言うことにする)

「ふつう」の人達はプログラマになるべきじゃないのだろうか? 例えば、プロスポーツ選手であれば普段の生活からそれ相応の生活を求められるだろうが、プログラマもそういう職種なのだろうか。

少なくとも今現在まわりと見渡すと「ふつう」のプログラマも結構いるように思う。結婚して妻子がいて、そういう勉強の時間があまり取れないって人もいると思う。そういう人達にプログラマはもう無理だねと言ってしまってもいいのだろうか。

多分、個人的にそれは違うと思っている。なぜ?と言われると正直「なんとなく」程度でしかないのだが、プログラマは「ふつう」の人達でも普通に働ける職種であるべきじゃないのか。

業務時間外に勉強をすることを業務時間外労働と捉えた場合、業務時間外労働をしないとやっていけない職種はおかしいというか病んでいるんじゃないかなぁ。
</div></article><article class="one"><h1 class="article-title"><a href="/2010/01/31/opensocial-ruby-client/">opensocial-ruby-clientでmixiのRESTful APIを使ってみた</a></h1><div class="article-time"><time dateMime="2010-01-31 00:00:00 UTC" pubdate="pubdate">January 31 2010</time></div><div class="article-body">opensocial-ruby-clientのドキュメントがあまり無くて結構苦労した。

まず、opensocial-ruby-clientはRailsありきなんだけど、そこで修正が必要。
<script src="http://gist.github.com/291049.js?file=action_controller_request.rb"></script>

これは自分のプロフィールとマイミクとかをとってくるコード。mixi用のConnectionがないので自分で作る必要があり。

<script src="http://gist.github.com/291049.js?file=mixi_opensocial.rb"></script>
</div></article><article class="one"><h1 class="article-title"><a href="/2010/01/19/design_pattern/">Twitterで好きなデザインパターン、嫌いなデザインパターンを聞いてみた</a></h1><div class="article-time"><time dateMime="2010-01-19 00:00:00 UTC" pubdate="pubdate">January 19 2010</time></div><div class="article-body">先日、ちょっとした思いつきでTwitter上で好きなデザインパターンと嫌いなデザインパターンを募集してみたのでその結果をまとめる。 一応、今回答えてくれた人達のTwitterアカウントが全員Publicだったので各発言にリンクを貼っておいた。問題がある人はTwitterかなにかで一言連絡を。

<h2>好きなパターン</h2>
<h3>Stateパターン 2票</h3>
<blockquote>
stateパターンでしょうか。switch文がなくなりますです。 引用元:<a href="http://twitter.com/naokirin244/status/7691502069">@naokirin244</a></blockquote>
<blockquote>呼び出し側の条件分岐がなくなってすっきりするから。 引用元: <a href="http://twitter.com/mollifier/status/7934668617">@mollifier</a></blockquote>

<h3>TemplateMethodパターン 2票</h3>
 <blockquote>テンプレートパターンですね。ざっと動作を抽象化して、場合によってはストラテジーパターンあたりと組み合わせて抽象性あげると最高です。 引用元:<a href="http://twitter.com/takayuki_h/status/7690055834">@takayuki_h</a>
</blockquote>
<blockquote>好きなのはTemplateMethod 引用元: @匿名</blockquote>

<h3>Builderパターン 1票</h3>
  <blockquote>私が1番好きなパターンはBuilderパターンです。流れるようなインタフェースが書けるし意図をコードに残しやすくもなるので、ライブラリ実装時に使いたくなります。  引用元:<a href="http://twitter.com/eller86/status/7666508995">@eller86</a></blockquote>

<h3>Commandパターン 2票</h3>
  <blockquote>
でも1番感動したのはCommandでアンドゥ・リドゥが簡単に実装できたときかも。 引用元:<a href="http://twitter.com/eller86/status/7666508995">@eller86</a>
</blockquote>
<blockquote>
キメると気持ちいい。 引用元: <a href="http://twitter.com/t_wada/status/7664824645">@t_wada</a>
</blockquote>

<h3>Strartegyパターン 2票</h3>
  <blockquote>好きなパターン "Strategy" 。継承より委譲を学べた (だったと思う)。
引用元:<a href="http://twitter.com/koic/status/7664977699">@koic</a> </blockquote>
  <blockquote>OOPの持つインタフェースと実装の分離が分かりやすいため。 引用元: <a href="http://twitter.com/a_hisame/status/7664700029">@a_hisame</a> </blockquote>

<h3>Compositeパターン 1票</h3>
  <blockquote>好きというか、OO言語でこのパターンを使わずして、構造化されたデータを表現するのは困難でしょう。 引用元: <a href="http://twitter.com/kmizu/status/7664757139">@kmizu</a></blockquote>

<h2>嫌いなパターン</h2>
<h3>Singletonパターン 3票</h3>
  <blockquote>嫌いなパターンは "Singleton" 。マルチスレッドプログラミングのロック問題や、同一 JVM 内でのみ sole instance など、厄介な問題を抱えているので。 引用元:<a href="http://twitter.com/koic/status/7665354770">@koic</a>
</blockquote>
<blockquote>
コードの結合度を無駄に高めるし、本当に唯一の情報にしたいときにはプロセス内での唯一性程度では足りない (本当に唯一にしたいときは、プロセス間とかネットワーク上で唯一じゃないとダメなケースが多い) ため。 引用元： <a href="http://twitter.com/t_wada/status/7664710134">@t_wada</a>
</blockquote>
<blockquote>ただのグローバル変数化されてしまって死にそうになった。 引用元: @匿名</blockquote>

<h3>Interpreterパターン 1票</h3>
  <blockquote>実際にこのパターンで言語処理系を作るのはメンテナンス性が悪過ぎる  引用元: <a href="http://twitter.com/kmizu/status/7664576975">@kmizu</a></blockquote>


正直、もう少し回答の数が欲しかったところだけど集まらなかったのだから仕方がない。とりあえず引き続き回答を募集するので、Twitter上やこのブログのコメントやトラックバックなどでどうぞ。しばらくはこのエントリに追記していく予定。

ちなみに今回の票に反映はさせてないけど、僕が好きなパターンはStrategyパターンです。 嫌いなパターンは今のところ特にないかな。

<table  class="g-tools_table"><tr><td colspan="2"><span class="g-tools_title"><a href="http://www.amazon.co.jp/%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E5%86%8D%E5%88%A9%E7%94%A8%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AE%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3-%E3%82%A8%E3%83%AA%E3%83%83%E3%82%AF-%E3%82%AC%E3%83%B3%E3%83%9E/dp/4797311126%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4797311126" target="_blank">オブジェクト指向における再利用のためのデザインパターン</a><img src='http://www.assoc-amazon.jp/e/ir?t=2004-05-22&l=ur2&o=9' width='1' height='1' border='0' alt='' /></span></td></tr><tr><td valign="top"><span class="g-tools_img"><a href="http://www.amazon.co.jp/%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E5%86%8D%E5%88%A9%E7%94%A8%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AE%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3-%E3%82%A8%E3%83%AA%E3%83%83%E3%82%AF-%E3%82%AC%E3%83%B3%E3%83%9E/dp/4797311126%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4797311126" target="_blank"><img src="http://ecx.images-amazon.com/images/I/41SvGvCi1eL._SL160_.jpg"  alt="オブジェクト指向における再利用のためのデザインパターン" /></a></span></td><td valign="top"><span class="g-tools_body">Erich Gamma <br /><br />ソフトバンククリエイティブ  1999-10<br />売り上げランキング : 23044<br /><br /><strong>おすすめ平均  </strong><img src="http://g-images.amazon.com/images/G/01/detail/stars-4-5.gif" alt="star" /><br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-3-0.gif" alt="star" />内容は良いが翻訳が。。。<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-4-0.gif" alt="star" />デザインパターン教へようこそ<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" />設計の再利用<br /><br /><a href="http://www.amazon.co.jp/%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E5%86%8D%E5%88%A9%E7%94%A8%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AE%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3-%E3%82%A8%E3%83%AA%E3%83%83%E3%82%AF-%E3%82%AC%E3%83%B3%E3%83%9E/dp/4797311126%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4797311126" target="_blank">Amazonで詳しく見る</a></span><span class="g-tools_by"> by <a href="http://www.goodpic.com/mt/aws/index.html" >G-Tools</a></span></td></tr></table>

<table  class="g-tools_table"><tr><td colspan="2"><span class="g-tools_title"><a href="http://www.amazon.co.jp/Java%E8%A8%80%E8%AA%9E%E3%81%A7%E5%AD%A6%E3%81%B6%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E5%85%A5%E9%96%80-%E7%B5%90%E5%9F%8E-%E6%B5%A9/dp/4797316462%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4797316462" target="_blank">Java言語で学ぶデザインパターン入門</a><img src='http://www.assoc-amazon.jp/e/ir?t=2004-05-22&l=ur2&o=9' width='1' height='1' border='0' alt='' /></span></td></tr><tr><td valign="top"><span class="g-tools_img"><a href="http://www.amazon.co.jp/Java%E8%A8%80%E8%AA%9E%E3%81%A7%E5%AD%A6%E3%81%B6%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E5%85%A5%E9%96%80-%E7%B5%90%E5%9F%8E-%E6%B5%A9/dp/4797316462%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4797316462" target="_blank"><img src="http://ecx.images-amazon.com/images/I/41XMDFXX4GL._SL160_.jpg"  alt="Java言語で学ぶデザインパターン入門" /></a></span></td><td valign="top"><span class="g-tools_body"><br />ソフトバンククリエイティブ  2001-06<br />売り上げランキング : 216240<br /><br /><strong>おすすめ平均  </strong><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" /><br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" />設計型紙<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" />すばらしい本です<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" />Java以外でも使えます。<br /><br /><a href="http://www.amazon.co.jp/Java%E8%A8%80%E8%AA%9E%E3%81%A7%E5%AD%A6%E3%81%B6%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E5%85%A5%E9%96%80-%E7%B5%90%E5%9F%8E-%E6%B5%A9/dp/4797316462%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4797316462" target="_blank">Amazonで詳しく見る</a></span><span class="g-tools_by"> by <a href="http://www.goodpic.com/mt/aws/index.html" >G-Tools</a></span></td></tr></table>
</div></article><article class="one"><h1 class="article-title"><a href="/2010/01/14/programmer_employ/">プログラマの採用について考えてみる</a></h1><div class="article-time"><time dateMime="2010-01-14 00:00:00 UTC" pubdate="pubdate">January 14 2010</time></div><div class="article-body">考えるきっかけになったのは、最近話題になっている以下のエントリ。

<a href="http://okajima.air-nifty.com/b/2010/01/post-abc6.html">人生を書き換える者すらいた。: 人材獲得作戦・４　試験問題ほか</a>

個人的に、あるアルゴリズムを用いて解くような問題を採用試験にだすのはどうかと思っていた。理由としてはいくつかあるのだけれど、「業務でそういったアルゴリズムを使うことが少ない(為、そういう知識がない」「知っている人と知らない人とで差がでてしまう」などなど。

で、先程Twitterに発言しながら似たようなことを考えていたのだけど、よくよく考えると上記の理由は「採用される側」での意見ということに気づいた。

まず、「採用する側」で一番避けたいのは、「ダメな人を雇ってしまわない」ということ。優秀な人を間違って落してしまうのも勿体無い話ではあるが、ダメな人を雇ってしまうよりはマシだ。そうなると採用試験では、その「ダメな人」を確実に篩い落したいわけだ。

大体において、業務で使わないようなアルゴリズムを知っている人は優秀である可能性が高い。「知識の差で合否が決まるのか」という話もあるが、知っている人は独自で勉強をしているだろうし、それをきちんとこういう問題にあてはめられる人はやはり優秀な人が多いのではなかろうか。

逆に言うと、それ以外の人は「ダメな人」である可能性が高いのであって、採用側がこのような問題を用いるのは割と理にかなっている。

それに仮にアルゴリズムを知らなくても、プログラマの基礎能力として「アルゴリズムを自分で考えられる」というのは大事なので、「私はこのアルゴリズムを知らないので理不尽だ」というのも結局自分のダメさアピールにしかならない。

採用試験をある種のフィルタと考えた場合、取り零しよりそのフィルタを抜けてきた人が重要という点を考えれば、この様な採用試験はかなり有効だと思われる。
</div></article><article class="one"><h1 class="article-title"><a href="/2010/01/06/tddbc/">TDD Boot Campに参加してきました</a></h1><div class="article-time"><time dateMime="2010-01-06 00:00:00 UTC" pubdate="pubdate">January 06 2010</time></div><div class="article-body">これまた、割と今更なエントリ。当日は@t_wadaさんのお誘いでRubyグループのコーチ役として参加したけどあまりコーチらしいことしてないな・・・申し訳ない。

TDD Boot Camp(以下tddbc)では、午前中に @t_wada さんと Lasse氏 の講演、午後は各言語ごとにグループを作りペアプログラミング。朝から夜にかけてがっつりなイベントだった。TDDをやりたくてもやり方がわからない、やってみたはいいけど上手くいかないって人にはとてもいいイベントだったんじゃなかろうか。実際、僕も色々と得るものがあった。

とりあえず、当日のお題をあとで自分で書いたものを晒しておく。スレッドセーフ以外の仕様変更まで取りこんである。

<a href="http://github.com/ukstudio/LRUCache">http://github.com/ukstudio/LRUCache</a>

これは1つのクラスにまとめてあるけど、結構複雑な感じになってきているので、CacheItemみたいな感じでもう1つ別のクラスを作ってそっちにキャッシュの保存期限とか持たせた方がいいかもしれない。仮にここからクラスを抽出するとしてこれだけテストが書いてあればそんなに苦労せずに抽出できるはず。テストがあるからこそクラスを抽出させるという変更も恐れることなく対応できる。

Fixnum#seconds_laterはLasse氏のを参考にした。個人的にStubの影響をブロックの中だけに限定させたかったので少し修正してある。あとは、Rspecの機能で言うと、subjectやカスタムマッチャを使ってる。それぞれそんなに難しくないので使ってみることをおすすめする。

最後にちょろっと感想を伸べておくと、tddbcはとても素晴しいイベントだったと思う。 @ebackyさんや、来日してくれたLasse氏をはじめ、スタッフのみなさん、今回このようなイベントを開催してくれて本当にありがとうございました。また参加された皆様からも色々な気づきを得られました。ありがとうございます。

僕はTDDでプログラマの階段を更に1歩登れたように思う。ハッキリ言って、TDDを知る前と知った後のコードにはかなりの差がある。なにより、TDDでのプログラミングは楽しい。tddbcに参加された皆様もこの楽しさを知ってもらえればと思う。
</div></article><article class="one"><h1 class="article-title"><a href="/2010/01/06/oblove_bounen_2009/">オブラブ忘年会2009でLTしてきた</a></h1><div class="article-time"><time dateMime="2010-01-06 00:00:00 UTC" pubdate="pubdate">January 06 2010</time></div><div class="article-body">大分今更のエントリだけど、去年末にオブラブ忘年会2009に参加、LTで発表してきた。とりあえず資料はりつけ。永田さん、なんでiPhone買ってしもうたんや。

資料を当日用意したので、色々とグダグダな発表だったけど楽しかったのでよしとする。酒を飲みながらのLTは初めてだけど、変なテンションであれはあれで良かったかも。

オブラブ忘年会、楽しかったです。スタッフの皆様、本当にありがとうございました。
</div></article><article class="one"><h1 class="article-title"><a href="/2010/01/02/happy_new_year/">あけましておめでとうございます+退職のお知らせ</a></h1><div class="article-time"><time dateMime="2010-01-02 00:00:00 UTC" pubdate="pubdate">January 02 2010</time></div><div class="article-body">みなさま、あけましておめでとうございます。 本年もよろしくお願い致します。

思えば、昨年もいろんな人のお世話になりました。休職から結局退職することになってしまったRAWHIDE.の人達をはじめ、仕事がきっかけで仲良くさせて頂くようになった永和システムマネージメントの人達や、Twitterや様々なコミュニティで知り合った人達、普段から仲良くさせて頂いてる人達などなど、本当にありがとうございます。

ところで、今さらっと書きましたが先日社長とお話をさせて頂きまして結果、12月付けでRAWHIDE.を退職することとなりました。書類とか手続きとかをまだ済ませていないけれど、一応そういうことです。

今後の予定としては、実は某雑誌での記事の執筆が決まっているので1月はそっちに集中して2月あたりに次の仕事が見つかればいいかなと思っています。

次の仕事については僕がベストを尽せるのはRuby(on Rails)なので、今のところその方向で考えています。もし、Ruby(on Rails)エンジニアを探しているところがあれば声をかけてもらえれば幸いです。ちなみにうつ病あがりなので、その点はご了承ください。
</div></article><article class="one"><h1 class="article-title"><a href="/2009/12/02/dreaming_in_code/">プログラマーのジレンマ 夢と現実の狭間</a></h1><div class="article-time"><time dateMime="2009-12-02 00:00:00 UTC" pubdate="pubdate">December 02 2009</time></div><div class="article-body"><table  class="g-tools_table"><tr><td valign="top"><span class="g-tools_img"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4822283801/2004-05-22/" target="_blank"><img src="http://ecx.images-amazon.com/images/I/51dTcwyDMsL._SL160_.jpg"  alt="プログラマーのジレンマ 夢と現実の狭間" /></a></span></td><td valign="top"><span class="g-tools_body"><a href="http://www.amazon.co.jp/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9E%E3%83%BC%E3%81%AE%E3%82%B8%E3%83%AC%E3%83%B3%E3%83%9E-%E5%A4%A2%E3%81%A8%E7%8F%BE%E5%AE%9F%E3%81%AE%E7%8B%AD%E9%96%93-%E3%82%B9%E3%82%B3%E3%83%83%E3%83%88%E3%83%BB%E3%83%AD%E3%83%BC%E3%82%BC%E3%83%B3%E3%83%90%E3%83%BC%E3%82%B0/dp/4822283801%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4822283801" target="_blank">プログラマーのジレンマ 夢と現実の狭間</a><img src='http://www.assoc-amazon.jp/e/ir?t=2004-05-22&l=ur2&o=9' width='1' height='1' border='0' alt='' /><br />伊豆原 弓 <br /><br />日経BP社  2009-05-21<br />売り上げランキング : 29765<br />おすすめ平均  <img src="http://g-images.amazon.com/images/G/01/detail/stars-3-5.gif" /><br /><br /><a href="http://www.amazon.co.jp/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9E%E3%83%BC%E3%81%AE%E3%82%B8%E3%83%AC%E3%83%B3%E3%83%9E-%E5%A4%A2%E3%81%A8%E7%8F%BE%E5%AE%9F%E3%81%AE%E7%8B%AD%E9%96%93-%E3%82%B9%E3%82%B3%E3%83%83%E3%83%88%E3%83%BB%E3%83%AD%E3%83%BC%E3%82%BC%E3%83%B3%E3%83%90%E3%83%BC%E3%82%B0/dp/4822283801%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4822283801" target="_blank">Amazonで詳しく見る</a></span> <span class="g-tools_by">by <a href="http://www.goodpic.com/mt/aws/index.html" >G-Tools</a></span></td></tr></table>

読み終わってから結構日が立ってしまったが、なかなかよい本だと思ったので紹介しておく。

本書は、「Chandler」というOSSプロジェクトを1人のジャーナリストが3年間に渡って追い続けたドキュメンタリーだ。Chandlerプロジェクトは、優秀なメンバー(名前や、名前がわからなくとも参加したプロジェクト、製品なら大抵の人が知ってるであろう人々)、潤沢な資金、OSSの為リリース日を自分達で調整できるなど開発者からしたら理想とも言える環境で開発が進められた。しかし、結果としてプロジェクトは迷走に迷走を重ね、本書の中でバージョン1.0がリリースされることはなかった。

正直、あまりにプロジェクトが進まないので中盤あたりから少しうんざりしていた。本書中盤でまともな製品が出来ておらず、リリースも遅れに遅れて、「おい、おまえらいい加減にしろよ」と少なからず思った。その停滞感が文章でもきっちり表現されていてなかなかツラかった。

それでも、私はこの本をおすすめする。プロジェクトの失敗した話というのはあまりプロジェクト外に出ることは少ない。出たとしても局所的な失敗談や、技術的な話題が多いように思う。そうした点でこの本はプロジェクトのほとんどを曝けだしている。さらにその時、彼ら(彼女ら)がなにを考えなにをしようとしたのかが読める本書は、 色々と考えさせられる部分が多い。明確な答えを得られるような本ではないが、ソフトウェア開発について考えるきっかけとしてはかなり良い本だ。

<blockquote>
ソフトウェアは難しい
　　　　　　　　- ドナルド・クヌース 「The Art of Computer Programming」
</blockquote>

本書の冒頭でも引用されているが、Chandlerプロジェクトの失敗の数々はこの一言に集約される気がする。少々身も蓋もないかもしれないが。個人的には開発者だけでなく、開発者達の上に立つ上司や経営者にも本書を読んでほしい。「ソフトウェアは難しい」ということが少しはわかるだろう。

ところで、このChandler プロジェクトが現在も開発が続いてるようで無事バージョン1.0が公開されたようだ。残念ながら私のSnow Leopardでは動作させることが出来なかったので試せなかったのだが、もし興味がある人は以下のURLが参考になるだろう。

<a href="http://chandlerproject.org/">Chandler Project</a>
<a href="http://www.moongift.jp/2007/10/chandler/">MOONGIFT: &raquo; ようやく出てきたカレンダーアプリケーション「Chandler」:オープンソースを毎日紹介</a>
<a href="http://lifehacking.jp/2007/10/chandler-preview-7/">GTD を意識したカレンダー・タスク管理アプリ：Chandler | Lifehacking.jp</a>
</div></article><article class="one"><h1 class="article-title"><a href="/2009/11/09/ht-03a_android/">最近のHT-03A(Android)の使い方</a></h1><div class="article-time"><time dateMime="2009-11-09 00:00:00 UTC" pubdate="pubdate">November 09 2009</time></div><div class="article-body">HT-03Aを買ってからそれなりに時間がたったわけだけど、現時点で僕の使い方をまとめておく。

主な用途もなにも、僕は携帯をこれ1つしか持っていないので基本的にはガラパゴスケータイと然程かわらない。知り合いとのメールや電話での連絡、あとはネットを見るのが主な用途。もちろん、ガラパゴスケータイ(この言い方あまり好きじゃないんだけど他に何て言えばいいのかしら)からHT-03Aに移行してかわったことも多いので、そこらへんを重点的にまとめる。

<h2>Twitter</h2>
AndroidマーケットにはたくさんのTwitterアプリが存在するが、僕はm.twitter.comでTwitterを見ている。色々試したが、FavやReplyが出来無いことを除けばこれがベストだ。基本的に外出時は発言や適当にTLを閲覧するのが主だからかもしれない。一応Twidroidをインストールしているが、ブラウザからURLを共有してそのURLを発言する用途のためだ。

<h2>メール</h2>
HT-03AにはGmailアプリともう1つメーラが付属している。Gmailアプリで知り合いの携帯にメールを送るとデコメ扱いされて困っていたので、以前はGmailアプリで通知を受け取り、もう1つの標準メーラでメールを送るという使い方をしていた。

現時点は、K-9 Emailのみ使用している。とりあえずこれならデコメ扱いにもならず、メールも1分ごとに確認できる為だ。これを使いだしてからバッテリーの減りが早くなった気もするが、メーラを2つ使うよりはマシだ。

<h2>はてなブックマーク+ LDR</h2>
外出時の携帯の用途は実は暇潰しが多い。大体Twitterの閲覧をして暇を潰すが、LDRのFeedを消化することもある。LDReaderというアプリもあったが、実際の記事を見にいくとLDReader読んでいた記事の位置が保持されないので使用をやめた。(例えばはてブのFeedを読んでいて、10番目の記事から実際の記事をブラウザで表示させるとLDReaderに戻ると1番目の記事に戻っている)

なので今はブラウザから直接LDRを見に行っている。既読管理は出来無いが、Lite版のLDRの出来が結構良いので特に不満はない。既読管理もあとでPC版のLDRをみたときに読んだなってやつはそのまま流せばいいだけの話。

 LDRでFeedを消化していると、はてなブックマークに登録したい記事もいくつかでてくる。以前は、HT-03Aからはてブするうまい方法がなかったので困っていたが、今でははてなB LiteというアプリでブラウザからURLを共有することでブクマできるようになった。

<h2>文字入力</h2>
文字入力はOpenWnn PlusとKaoMashを使用。SimejiよりはOpenWnn Plusの方が使いやすい気がする。なんとなく。KaoMashはSimejiやOpenWnn Plusと連携して顔文字を入力するアプリ。

OSが1.6にアップしたあと一度初期化したんだが、それからモサモサ具合が大分軽減された気がする。裏でダウンロードやアプリのインストールさせてるとさすがにツラいが、うまいことそういうのを避ければ大分ラクになったように思う。

<h2>その他</h2>
あとは細かいところで、路線探索に路線ドロイドや天気予報に東京アメッシュや世界の天気を使用している。カメラ系だと、ジオラマカメラやFxCameraを使用。特にFxCameraのトイカメラモードがお気に入り。

以前、ToggleSettingsを使用していたがOSを1.6にしてから動かなくなった。けど、1.6からウィジェットに電源管理というものが追加されて、それで代用できなくもないので特に困っていない。

<h2>まとめ</h2>
Androidは正直まだまだ使い勝手がいいとは言えないし、アプリも貧弱なものが多い。がアプリ間の共有機能はとても便利だ。単機能のアプリでもうまいこと連携させれば便利なことも多い。このエントリでもはてブ+LDRなども共有機能を使って実現している。

なのでアプリ開発者は共有機能を意識して開発をしてもらいたいし、ユーザー側もうまいこと共有機能を使いこなせると色々と便利になると思う。

Twitterやブログでもなんでもいいけど、「このアプリとアプリを組合せると便利!」というのがあればどんどん公開して欲しいなと思う。
</div></article><article class="one"><h1 class="article-title"><a href="/2009/11/03/mathematics/">最近読んだ数学に関連する本</a></h1><div class="article-time"><time dateMime="2009-11-03 00:00:00 UTC" pubdate="pubdate">November 03 2009</time></div><div class="article-body"><h2>ぼくには数字が風景に見える</h2>
<table  class="g-tools_table"><tr><td colspan="2"><span class="g-tools_title"><a href="http://www.amazon.co.jp/%E3%81%BC%E3%81%8F%E3%81%AB%E3%81%AF%E6%95%B0%E5%AD%97%E3%81%8C%E9%A2%A8%E6%99%AF%E3%81%AB%E8%A6%8B%E3%81%88%E3%82%8B-D-%E3%82%BF%E3%83%A1%E3%83%83%E3%83%88/dp/4062139545%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4062139545" target="_blank">ぼくには数字が風景に見える</a><img src='http://www.assoc-amazon.jp/e/ir?t=2004-05-22&l=ur2&o=9' width='1' height='1' border='0' alt='' /></span></td></tr><tr><td valign="top"><span class="g-tools_img"><a href="http://www.amazon.co.jp/%E3%81%BC%E3%81%8F%E3%81%AB%E3%81%AF%E6%95%B0%E5%AD%97%E3%81%8C%E9%A2%A8%E6%99%AF%E3%81%AB%E8%A6%8B%E3%81%88%E3%82%8B-D-%E3%82%BF%E3%83%A1%E3%83%83%E3%83%88/dp/4062139545%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4062139545" target="_blank"><img src="http://ecx.images-amazon.com/images/I/51s2ct%2BbjnL._SL160_.jpg"  alt="ぼくには数字が風景に見える" /></a></span></td><td valign="top"><span class="g-tools_body">古屋 美登里 <br /><br />講談社  2007-06-13<br />売り上げランキング : 20117<br /><br /><strong>おすすめ平均  </strong><img src="http://g-images.amazon.com/images/G/01/detail/stars-4-5.gif" alt="star" /><br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" />新鮮な感動を感じました<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" />天才の頭の中を覗ける本<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-4-0.gif" alt="star" />異常な天才の半生記<br /><br /><a href="http://www.amazon.co.jp/%E3%81%BC%E3%81%8F%E3%81%AB%E3%81%AF%E6%95%B0%E5%AD%97%E3%81%8C%E9%A2%A8%E6%99%AF%E3%81%AB%E8%A6%8B%E3%81%88%E3%82%8B-D-%E3%82%BF%E3%83%A1%E3%83%83%E3%83%88/dp/4062139545%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4062139545" target="_blank">Amazonで詳しく見る</a></span><span class="g-tools_by"> by <a href="http://www.goodpic.com/mt/aws/index.html" >G-Tools</a></span></td></tr></table>

割と最近(と言ってもここ数ヶ月の話だが)に「レインマン」のDVDを見たのでその繋りで積読状態になっていたのを読み切ってみた。レインマン繋りというのは、レインマンの主人公と同じくこの本の著者ダニエルもサヴァン症候群(アスペルガー症候群)であるという点。

注意: サヴァン症候群とアスペルガー症候群は厳密には違う。(<a href="http://ja.wikipedia.org/wiki/%E3%82%B5%E3%83%B4%E3%82%A1%E3%83%B3%E7%97%87%E5%80%99%E7%BE%A4">サヴァン症候群</a> <a href="http://ja.wikipedia.org/wiki/%E3%82%A2%E3%82%B9%E3%83%9A%E3%83%AB%E3%82%AC%E3%83%BC%E7%97%87%E5%80%99%E7%BE%A4">アスペルガー症候群</a> Wikipediaより)

文章は淡々としており、人によっては退屈するかもしれないが、個人的には丁寧で好感が持てる文章だった。ユーモアらしいユーモアもなく、生真面目な文章でどことなく本人の人柄が伺える。作中では、ダニエルの全体より細かい部分への拘りや言語に対する興味などが伺えるが、そのような性格がこのような文章を作りあげるのだろう。

タイトル通り、ダニエルは数字を風景、つまりイメージとして感じることができる。それを共感覚と言うらしい。本の中では数字がイメージとしてみえるということを丁寧に説明されており、正直イメージとして見えることが羨ましく思えた。僕自身、数字に対して漠然としたイメージはあるが、ダニエルのそれとは比較にもならない。

この本は、数字に関する話だけではなくダニエルの半生記としての側面もある。と言うよりかは、半生記の中に数字の話もでてくると言った方が正しいかもしれない。

その中には、当時アスペルガー症候群がまだあまり認知されていないにもかかわらず、素晴しい愛を持って育ててくれた両親や、アスペルガー症候群でありながらも一歩一歩前に進んでいくダニエルの姿も書かれている。特に「レインマン」のモデルにもなったキム・ピークと会う場面は感動的であった。

全体的に数学的な話や共感覚についてはあまり深く掘り下げておらず、ドキュメンタリーに近い内容になっているので、もし興味がある人はその点には注意した方がいいかもしれない。

<h2>数学に感動する頭をつくる</h2>
<table  class="g-tools_table"><tr><td colspan="2"><span class="g-tools_title"><a href="http://www.amazon.co.jp/%E6%95%B0%E5%AD%A6%E3%81%AB%E6%84%9F%E5%8B%95%E3%81%99%E3%82%8B%E9%A0%AD%E3%82%92%E3%81%A4%E3%81%8F%E3%82%8B-%E6%A0%97%E7%94%B0-%E5%93%B2%E4%B9%9F/dp/4887593155%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4887593155" target="_blank">数学に感動する頭をつくる</a><img src='http://www.assoc-amazon.jp/e/ir?t=2004-05-22&l=ur2&o=9' width='1' height='1' border='0' alt='' /></span></td></tr><tr><td valign="top"><span class="g-tools_img"><a href="http://www.amazon.co.jp/%E6%95%B0%E5%AD%A6%E3%81%AB%E6%84%9F%E5%8B%95%E3%81%99%E3%82%8B%E9%A0%AD%E3%82%92%E3%81%A4%E3%81%8F%E3%82%8B-%E6%A0%97%E7%94%B0-%E5%93%B2%E4%B9%9F/dp/4887593155%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4887593155" target="_blank"><img src="http://ecx.images-amazon.com/images/I/517XMD43X8L._SL160_.jpg"  alt="数学に感動する頭をつくる" /></a></span></td><td valign="top"><span class="g-tools_body"><br />ディスカヴァー・トゥエンティワン  2004-06-30<br />売り上げランキング : 97118<br /><br /><strong>おすすめ平均  </strong><img src="http://g-images.amazon.com/images/G/01/detail/stars-4-0.gif" alt="star" /><br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" />数学ができる人とできない人は何が違うのかがわかる<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" />幼少期の数的能力育成の方向性を知るために<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-2-0.gif" alt="star" />子供の数学的能力をどうやって伸ばすか。<br /><br /><a href="http://www.amazon.co.jp/%E6%95%B0%E5%AD%A6%E3%81%AB%E6%84%9F%E5%8B%95%E3%81%99%E3%82%8B%E9%A0%AD%E3%82%92%E3%81%A4%E3%81%8F%E3%82%8B-%E6%A0%97%E7%94%B0-%E5%93%B2%E4%B9%9F/dp/4887593155%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4887593155" target="_blank">Amazonで詳しく見る</a></span><span class="g-tools_by"> by <a href="http://www.goodpic.com/mt/aws/index.html" >G-Tools</a></span></td></tr></table>

今年の春先ぐらいからだったと思うが、id:snow-bell(以下、yukky)が中心となって勉強会を不定期に行なっており、nishioさん、Misho、kuboon、cafistar等が参加している。

以前、kuboonがyukkyに微積を説明してるところを見てニヤニヤしてたが、僕自身そこまで微積をちゃんと理解しているわけではない。公式を覚えれば問題を解くことはできるだろうが、「数学の楽しさ」を感じることは出来ていない。「問題を解いた」という達成感はあるが、数学の楽しさはそこではない気がする。簡単に言うと<a href="http://www.amazon.co.jp/gp/product/410401303X?ie=UTF8&tag=2004-05-22&linkCode=as2&camp=247&creative=7399&creativeASIN=410401303X">博士の愛した数式</a><img src="http://www.assoc-amazon.jp/e/ir?t=2004-05-22&l=as2&o=9&a=410401303X" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />に登場する博士の様に数学と接してみたいのだ。そんなときにたまたまこの本を見つけた。

本の中で、「数感」という単語が登場する。「音感」に合わせて著者が作った造語だが、一般に言う絶対音感や相対音感といった音感とは少々異なる。まぁそれは些細なことなので気にしなくてもよい。著者は本の中でこう述べている。

<blockquote>
若い頃から、音楽を聞いている。なんとなく耳慣れている。もちろん深い意味でわかってなどいない。だが、なんとなく耳に心地良いぐらいの気はするようになってくる。そのうちにある日突然目覚める。
</blockquote>

これはクラシックの良さがわかるまでの過程だが、数学もこれと同じということらしい。

<blockquote>
はじめはわからないが、わからないなりに修練を積んでいく。なんとなく少しは問題が解けるようになる。そのうちにある日突然目覚めがやってくる。ある問題に触れる。あるいは、ある定理を深く理解する。その途端に、突然意味がかわる。数学は美しいものだ、と多くの人を嘆息させたあの魅力が、突然目の前に現われるのだ。
</blockquote>

つまり、クラシックの良さを理解するには音楽に触れ音感を鍛える必要があるが、数学もそれと同じで数学に触れ数感を鍛える必要があると著者は言いたいらしい。では、具体的にどう鍛えればよいのかと言うのも本の中で解説されている。その中でも、特に僕が覚えているのは「イメージ力」と「構造化して記憶する」ということだった(詳細は本を読んでください)

著者は塾に勤めているというのもあってか、子を持つ親へのメッセージといった側面もこの本にはあるように思える。なので、子をもつ親にもオススメできる本となっている。出来れば子供が小学校入る前に読むといいだろう。

もちろん、僕自身得るものがあったので数学に苦手意識を持つ人や、現在学校で数学を勉強しなければならない、中学・高校・大学受験を控えているという人にもオススメだ。
</div></article><article class="one"><h1 class="article-title"><a href="/2009/11/02/testing_private_method/">RSpecでprivateメソッドをテストする</a></h1><div class="article-time"><time dateMime="2009-11-02 00:00:00 UTC" pubdate="pubdate">November 02 2009</time></div><div class="article-body"><script src="http://gist.github.com/223674.js"></script>

Object#send(__send__)ならメソッドの呼び出し制限に関わらずメソッドを呼び出すことが可能なので、privateメソッドもテスト可能。

確か、1.9以降はメソッド呼び出し制限がObject#sendにも影響するとどこかで見た記憶があるのだけど結局そうはなっていないみたい。

1.9.1、1.8.7で確認済み。

ちなみにオマケ。
<script src="http://gist.github.com/223679.js"></script>

Pythonはメソッド名の前にアンダースコアを2つけるとprivateなメソッドになるのだけれど、実際のところ別名でメソッドを定義してそちらを呼び出してるっぽい。別名で定義された方はprivateではないので、そちらを呼び出してテストすることが可能。

他にもJavaだったらsetAccessible(True)を実行すればpublicなメソッドに変更されるのでテスト可能。と聞いただけで確認はしていない。
</div></article><article class="one"><h1 class="article-title"><a href="/2009/10/06/web_trustee_company/">Web系受託会社は亡びる</a></h1><div class="article-time"><time dateMime="2009-10-06 00:00:00 UTC" pubdate="pubdate">October 06 2009</time></div><div class="article-body">やけに煽ってるタイトルだけど、別にそんな大した話でもない。最近個人的に思ってることをつらつらと書く。

まず、Web系受託会社の定義だけどまぁWebサービスやWebアプリケーションなど比較的規模の小さいものを受託で作っているところとする。「規模の小さい」も割と感覚的なものだけど、まぁその辺の詳細は省く。

で、なんでまた亡びるとか言いだしたのかと言うとこの程度の規模のものは外部に開発を依頼するより、自分達で作る内製に向かっていくんじゃないと思っている為。特に最近の不景気でエンジニアを雇って内部で作るという流れがあるように見える。少なくとも僕のまわりでは。現にそういう話で「うちこない?」的なことも何度か言われている。受託会社に勤めている身としてはうちに発注してよと思わなくもないが、なかなかそうも行かないらしい。

まぁ個人的にはWebサービス、アプリケーションに限らず、いわゆる業務システムも内製した方がいいと思ってるからまぁこの流れは歓迎してると言えばしてるんだけど、受託会社としてはちょっとやばいかなと。

要は今まで発注してくれてた会社が自分達で作るようになって、受託会社に仕事がこなくなるからやばいんじゃないのって話。業務システムとか割と規模の大きい仕事を受けてるところはまだ大丈夫だと思う。 それよりWebサービス、アプリケーションをメインで受託してる会社がやばい。

なんでやばいかと言うと、ちょっと優秀なエンジニアなら1人で作れるものが多い。例えばSNS(ブームは去ったけどね)を作ろうとなったときに、外部に依頼するよりエンジニア1人とデザイナ1人雇えば十分だと思うし、僕自身作れる自信がある。まぁSNSと言っても規模は色々あるんだろうけど。

まぁさっきも言ったように、内製するのは歓迎だしそれはそれでいいんだけど、受託会社として今後どうするのかって話。

いくつか思いつくのは、業務システム系に手を出す、売るものを作る(パッケージ開発)、自社サービス(広告、課金)とかとか。まぁどれが正解とかわからんし、もしかしたら他にも道があるかも。

そんなことを考える日々です。他のWeb系受託の人たちはどう考えてるんだろうねー。
</div></article><article class="one"><h1 class="article-title"><a href="/2009/10/02/ruby-freaks/">Ruby Freaks Loungeに記事を書きました</a></h1><div class="article-time"><time dateMime="2009-10-02 00:00:00 UTC" pubdate="pubdate">October 02 2009</time></div><div class="article-body"><a href="http://gihyo.jp/dev/serial/01/ruby/0021">第21回　Railsアプリの受け入れテストをCucumberで書こう</a>

<a href="http://d.hatena.ne.jp/onering/">榊さん</a>の紹介で、Ruby Freaks Loungeに記事を書かせて頂きました。ありがとうございます。内容はCucumberについて。割と自分のブログに書いた内容や、WEB+DBのRails特集で書いたことと被ってるかな。

あともう一回、記事を書く予定なのでそっちでは実際にRailsアプリのテストをCucumberで書く記事にするつもり。チュートリアル形式的な。

感想とか突っ込みとかあれば教えて頂けるとうれしいです。次回もお楽しみに。
</div></article><article class="one"><h1 class="article-title"><a href="/2009/09/24/gae_account_for_android/">Android携帯しか持っていない人がGAEのアカウントを作る方法</a></h1><div class="article-time"><time dateMime="2009-09-24 00:00:00 UTC" pubdate="pubdate">September 24 2009</time></div><div class="article-body">今月の頭の話だけど、GAEのアカウントを作った。

ただ、GAEのアカウントを作るには携帯の認証が必要で、携帯のアドレスにメールを送ってもらいそれを受け取る必要がある。アドレスを入力する際はセレクトボックスでドメインを選ぶ形式だった。

僕はHT-03A(Android携帯)しか持っていなくて、かつDoCoMoのメールアドレスを契約していないので、gmailしかメールアドレスを持っていないことになる。だけど、そのセレクトボックスにはGmailのドメインが一覧に表示されていない。

仕方がないので、Googleにメールで問い合わせたところ、割と早い時間で返信がきた。内容は「こちらでアカウントを作ったからそれを使うといいよ」というもの。その時についったーでつぶやいな発言が<a href="http://twitter.com/ukstudio/status/3751146391">これ</a>。

メールは英語で書いたけど、単語を適当に羅列したような英語でも通じたのでまぁGAEをいじろうとしてるような人ならなんとかなる。問い合わせのメールアドレスはどこで見つけたか忘れたけど、そんなに見つけにくい場所ではなかった気がする。

Android携帯しかもっていなくて、GAEアカウントを作るのにどうしたらいいか困っている人がいたら参考になるかと思って書いた。
</div></article><article class="one"><h1 class="article-title"><a href="/2009/08/25/multiruby/">Ruby1.8.7とRuby1.9.2を共存させる</a></h1><div class="article-time"><time dateMime="2009-08-25 00:00:00 UTC" pubdate="pubdate">August 25 2009</time></div><div class="article-body"><strong>現在は、以下の方法より<a href="http://rvm.beginrescueend.com/">rvm</a>を使うことをオススメします。 10/05/28 追記</strong>

ローカルに開発環境としてRuby1.8.7とRuby1.9.2を共存させる方法。

<h2>Rubyのインストール</h2>
まずはRubyの処理系をインストール。<a href="http://www.ruby-lang.org/ja/">ruby-lang.org</a>から適当に落とす。今回はruby 1.8.7-p174とruby 1.9.2-preview1を使用。

まず、Ruby1.9.2から。

<pre><code>$ ./configure --prefix=/Users/uk/local --program-suffix=-1.9.2
$ make
$ make install
</code></pre>

--prefixでインストール箇所を指定。自分の$HOME以下のどこかにいれるのが最近のマイブーム。この後でてくるgemも$HOME以下。Rubyはともかくgemは$HOME以下を推奨する。ある程度有名なライブラリならいいが、適当な野良ライブラリをインストールするにはこちらの方が安心な為。

--program-suffixを指定するとインストールしたバイナリの後ろに指定した文字列を付加できる。この例だと「ruby-1.9.2」となる。他の処理系と分けるためこの指定は必須。

次に同じ要領で1.8.7もインストール。やることは同じ。

<pre><code>$ ./configure --prefix/Users/uk/local --program-suffix=-1.8.7
$ make
$ make install
</code></pre>

これでそれぞれのバイナリが/Users/uk/local/binに入っている状態となる。

<h2>RubyGems</h2>
次にgemの設定。Ruby1.9からはgemが標準で入っている為、インストールは必要ない。ただバージョンが1.3.4なのでアップデートしておくといいだろう。

1.8.7は別途gemをインストールする。<a href="http://rubyforge.org/projects/rubygems/">RubyForgeにプロジェクトがある</a>のでそこからダウンロードしてくる。

<pre><code>$ ruby-1.8.7 setup.rb
</code></pre>

それぞれのgemのenvを見ておくと、インストールしたライブラリがどこに保存されるかわかる。

<pre><code>$ gem-1.9.2 env
$ gem-1.8.7 env
</code></pre>

それぞれ、GEM PATHSの先頭が/Users/uk/local/lib/ruby/gems/1.8と/Users/uk/local/lib/ruby/gems/1.9.1(何で1.9.2じゃないのかはわからん)になっているはずだ。今後、gemを使ってライブラリをインストールするときはsudoは必要ない。

<h2>シンボリックリンク</h2>
この時点でRuby1.9.2とRuby1.8.7がそれぞれ使える状態になってはいるが、いちいちバージョンを指定するのも面倒なので、シンボリックリンクで対応する。riとかも必要に応じて作る。

<pre><code>$ ln -s ~/local/bin/ruby-1.8.7 ~/local/bin/ruby
$ ln -s ~/local/bin/irb-1.8.7 ~/local/bin/irb
$ ln -s ~/local/bin/gem-1.8.7 ~/local/bin/gem
</code></pre>

Ruby1.9.2を使いたいときは、一度シンボリックリンクを消し、再度作りなおす。

とは言え、その作業を手動で行うのは手間なのでスクリプトで対応するのがオススメ。5分ぐらいで書いたスクリプトをgistに貼っておいた。実行権限を与えて、引数にバージョンを与えると使えるはずだ。PATHとCMDは適当に書き換えること。そのうちもうちょっとマシなものに書き直すかも。

<script src="http://gist.github.com/174406.js"></script>

<h2>まとめ</h2>
とりあえず、こんな感じでRuby1.9.2とRuby1.8.7を共存させてみた。いくつか、気になる点があって例えばgemでRailsをインストールするとシェバングが「#!/Users/uk/local/bin/ruby-1.9.2」となっており、シンボリックリンクを用意しただけではダメな時もある。その時はとりあえず諦めて以下の様に実行している。

<pre><code>$ ruby -S Rails hoge
</code></pre>

実際にこの環境で開発するのはこれからなので、もしかしたらそのうち色々な問題もでてくる可能性はあるが、とりあえずこの環境でやってみようと思う。
</div></article><article class="one"><h1 class="article-title"><a href="/2009/08/20/review_kinesis/">Kinesisを2週間使ったのでレビューする</a></h1><div class="article-time"><time dateMime="2009-08-20 00:00:00 UTC" pubdate="pubdate">August 20 2009</time></div><div class="article-body"><a href="http://d.hatena.ne.jp/ursm">ursm</a>さんに2週間程、<a href="http://ja.wikipedia.org/wiki/Kinesis">Kinesis</a>をお借りしたのでレビューを書く。

結論から言うと、Kinesisはとても素晴しいキーボードだった。ursmさんや<a href="http://whileimautomaton.net/">kana</a>さんが常用するのもわかる気がする。

<h2>指の負担が少ない</h2>
Kinesisはキーの部分が、おわんの形にへこんでおり、かつ各キーの角度や位置がそれぞれ微調整されておりパッと見カオス。案外これがいい感じにフィットしていて指の動きがスムーズ。ちょっと動かせばすぐ届く感じ。多分、タイピング速度も一般的なキーボードよりは速くなる気がする。

あといくつかのキーが親指の部分にあるため、Ctrlキーとか小指を酷使することもなかった。親指は大体暇なので、こういうのはありがたい。HHKだと大体SpaceかCmdぐらいしか使わない(Space押しっぱでShiftになるようにはしてるけど)

<h2>Key Remap</h2>
Kinesisは単体でキーのremapができる。OS側でやらなくてすむのはとても素晴しい。正直、いくつかのキーで配置に不満があったのだけど([とか]とかCmdとか)適当に配置しなおし。特にCmdは半角、全角の切り替えにCmd+Spaceを使っていたので、デフォルトの状態じゃどうしようもなかった。

Remapがキーボード単体でできるのは本当に素晴しいので他のキーボードも見習ってください。

<h2>でかい</h2>
とりあえずでかい。ただまぁ、この大きさは多分仕方なくて、小さくしてしまうと腕がちょっと窮屈になってしまう。腕の位置を自然にするために左右分割してると思うのでまぁしょうがないのだろう。それとは別にどことなく外人の手の大きさに合わされているので、いくつか遠く感じるキーもあった。

<h2>まとめ</h2>
Kinesisを2週間使って、HHKやMacBookのキーボードで打ちづらさを感じるようなり、しかもタイプミスが増えたのでursmさんには損害賠償を払ってもらいたいです。Kinesis1個で手を打ちます。
</div></article><article class="one"><h1 class="article-title"><a href="/2009/08/12/twitter_bot/">ついったーBOT作者にお願いしたいこと</a></h1><div class="article-time"><time dateMime="2009-08-12 00:00:00 UTC" pubdate="pubdate">August 12 2009</time></div><div class="article-body">最近、行儀がわるいというか、ハッキリ言ってしまうと「鬱陶しいBOT」が増えた(前からかもだけど)気がするので個人的にBOTを作るときに気をつけてもらいたいことを書いておく。

<h2>言及に気を配って</h2>
ついったーの仕様上、いつからかは知らないけど発言内容に「@自分のID」が含まれていると言及されたということでReplyに流れてくる。

それはまぁいいんだけど、BOTが必要以上にIDを含めているとそれだけでReplyがうまってしまう。特に「○○なう系BOT」がひどい。山手線とか色々あるけど<a href="http://twitter.com/shibuya_now">渋谷なうBOT</a>がひどい。

なにがひどいって一度「渋谷なう」と言ったら補足されて大体24時間ぐらいはそのBOTの発言に自分のIDが含まれて、誰かが「渋谷なう」と言う度に自分のReplyに流れてくる。そんな情報は求めていない。せめて@をはずしてほしい。

それと同じような理由で延々と特定のキーワードに対してReTweetする「RT BOT」もなにかと鬱陶しい。特定のキーワードを集めて広めるという意味もあるかもしれないが、大抵の場合検索すれば解決すると思う。

<h2>RT捏造</h2>
<del datetime="2009-08-11T21:51:38+00:00">これはついさっき気づいたんだけど、clibotという学習系のBOTが<a href="http://twitter.com/clibot/status/3250129088">さも俺が発言したかのようにRTしていた</a>が、俺はそんな発言を一切していない。</del>

追記(2009-08-12): 作者の方から<a href="http://twitter.com/clicube/status/3252794902">replyを頂いた</a>。わざわざありがとうございます。

学習系だから仕方ないと言うかもしれないが、まるで俺が発言したかのように扱われるのはあまりいい気分ではない。

<h2>Blockを前提としない</h2>
この手の文句は大体がBlockしたらいいのだろうけど、BOTを作る側の礼儀としてそこは前提にしてはいけないと思う。

基本的にBOTはFollowしてくれてる人のみを対象にするか、出来る限りそれ以外の人へ影響を減らすようにして欲しい。

例えばキーワードを拾うBOTだったら、せめてIDの先頭に@をつけないでおくとかするだけでも大分かわる。それでも自分のIDでキーワード反応させてる人がいるから影響が0とはならないが。その人へのリンクが必要というなら、発言のパーマリンクでも一緒に載せておけばいい。

別に@を飛ばすなとまで言うつもりはないが、あまりの意味のない内容を何度もReplyされるとさすがに鬱陶しい。

<h2>作者への連絡先を明記して</h2>
BOTを作るなら、Bioにでも自分のTwitterのIDなりブログのURLなり載せておいてほしい。BOTへの苦情・要望を誰に伝えたらいいのかさっぱりわからない。

BOTを作ったのなら無責任に放ったらかすのではなく、BOTの発言も自分の発言と同程度の責任を持っておいて欲しい。

<h2>まとめ</h2>
個人的な要望として適当につらつらと書き殴ったけど別に強制するつもりはない。だけどまぁ、BOTを作るときは少しばかりここに書いたことに気を使ってもらえるとうれしい。
</div></article><article class="one"><h1 class="article-title"><a href="/2009/08/11/oauth/">OAuthを使ってみた雑感</a></h1><div class="article-time"><time dateMime="2009-08-11 00:00:00 UTC" pubdate="pubdate">August 11 2009</time></div><div class="article-body">最近、TwitterのDMスパムなどで話題のOAuthですが、仕事で使ってみて色々思うところもあるのでまとめておく。

<h2>OAuthは安全か</h2>
まず、 OAuthでよく言われてるようにみえるパスワードをサービスに渡さないから安全ということに関して。簡単に言うと、「パスワード渡すよりは安全だけどまぁ信用していいかどうかの判断は必要だよね」ってところ。

OAuthは難しい話を抜きにしてしまえば、期限つきパスワード(Twitterは無期限っぽいですが)をサービスごとに発行するようなものだと思う。パスワードを渡した場合と違って、パスワードを書き換えられてログインできなくなるということはないが、APIで実行できることは基本的に出来るのでOAuthにもそれなりのリスクはある。

リスクと言ってもパスワードを第三者に渡すよりははるかに安全。先程述べたようにパスワードを書き換えられる心配もないし、仮に第三者のサービスからトークンが流出したとしても、トークンは無効化できるし、同一のパスワードを使っているサービスへの影響もない。(他のサービスと同じパスワードを使うのはどうなの?云々は置いておいて)

<h2>セキュリティより利便性</h2>
上記で述べたようにセキュリティ的にはパスワードを渡すより安全だが、ユーザ視点からみた場合のOAuthの利点はセキュリティ云々より利便性なんだと思う。

まず、パスワードの入力の手間が省ける。実際にIDとパスワードを入力してみればわかると思うけど、クリックで認証が済んでしまうOAuthの方が大分ラク。この辺は実装の詳細は違えど、利便性という意味では携帯の簡単ログインに近い。

また、パスワードを第三者のサービスに渡さないことでTwitterのパスワードを変更をする場合、Twitterのパスワードを変更するだけで済む。Twitterのパスワードを変える人がどれだけいるのか知らないけど。

<h2>サービス提供側としてOAuthを使うべきか</h2>
実際のところ、OAuthを使ったところでやることはあまりかわらない。当然、OAuthで取得したトークンが外部に漏れてしまえば、そのトークンを使用してTwitterへの発言やFollowingのremoveなどができてしまう。よってトークンが外に漏れないよう管理する必要がある。まぁそもそもデータが外部に漏れるということ自体があってはいけないことだけど。

だけどパスワードを預かるよりはユーザにとっても自分達にとっても安全なのは間違いないし、自分達の責任が限定されるという点からもOAuthを使うべき。その方がリスクが少ない。

例えば、他の同一パスワードを使用しているサービスで不正があった場合に、OAuthであればパスワードを持っていないので自分達のデータからパスワードが漏れるということがないし、そういう疑いをかけられることもない。

OAuthを使う際、サービス内部にOAuthを使用してなにをするのかを明記しておくといい。OAuthの仕組みなどを説明する必要はないが、自分達がTwitterに対してなにをするのかぐらいは書いておく方がユーザも安心できる。

現状、TwitterのOAuthの認可のページがかなり不親切かつほとんど英語なので、そのあたりは自分達でうまくサポートするしかない。

<h2>まとめ</h2>
パスワード使うよりはユーザにとってもサービスを提供する側にとってもメリットがあるのでOAuthが使えるなら使っておきましょう。
</div></article></div><div class="row"><div class="pager one"><ul><li class="previous"><a href="/page/4/">Prev</a></li><li class="next"><a href="/page/6/">Next</a></li></ul></div></div></div></body></html>