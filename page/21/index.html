<!DOCTYPE html><html><head><meta charset="utf-8" /><!--Always force latest IE rendering engine or request Chrome Frame--><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><!--Use title if it's in the page YAML frontmatter--><title>ukstudio.jp</title><link href="http://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css" /><link href="/stylesheets/normalize.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/all.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/highlight.css" media="screen" rel="stylesheet" type="text/css" /><script src="/javascripts/all.js" type="text/javascript"></script><link href="/feed.xml" rel="alternate" title="atom" type="application/atom+xml" /><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-12755601-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body class="page page_21 page_21_index"><div class="cointainer-fluid"><div class="navbar navbar-default" role="navigation"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="/">UKSTUDIO</a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"><li><a href="http://twitter.com/ukstudio">Twitter</a></li><li><a href="http://github.com/ukstudio">GitHub</a></li></ul></div></div></div></div><div class="container"><article><h1><a href="/2009/06/02/chromium_for_mac/">2009-06-02 Mac版Chromium</a></h1><hr /><div class="article-body">mattnさんの<a href="http://mattn.kaoriya.net/software/linux/20090601225017.htm">ChromiumのLinux版入れてみた</a>をみて、もしやと思って調べてみたらやっぱりありました。Mac版。

<a href="http://build.chromium.org/buildbot/snapshots/">http://build.chromium.org/buildbot/snapshots/</a>からダウンロードできます。sub-rel-macってところから適当にDLして解凍するとChromium.appがあるのでそれを起動。

<a href="http://ukstudio.jp/wp-content/uploads/2009/06/mac-chromium.jpg"><img src="http://ukstudio.jp/wp-content/uploads/2009/06/mac-chromium.jpg" alt="" title="mac-chromium" width="300" height="226" class="alignnone size-medium wp-image-350" /></a>

まだまだ開発版という感じですが、とりあえず起動がすごい早いのはよくわかりました。あとテキストフィールドに日本語が入力できないっぽいです。

追記(090605)
<a href="http://blog.chromium.org/2009/06/danger-mac-and-linux-builds-available.html">Chromium Blog: Danger: Mac and Linux builds available</a>
なんかDangerらしいです。
</div></article><article><h1><a href="/2009/05/11/cucumber_email_spec_for_action_mailer/">2009-05-11 Cucumber+email_specでActionMailerのテストをする</a></h1><hr /><div class="article-body">今までメール(ActionMailer)のテストはどうにも面倒で、自分でブラウザから動かしてログを見てってやっていたんですが、Cucumberでメールのテストもできるっぽいので試してみました。

確認環境はRails2.3.2、Cucumber0.2.3、email_spec0.0.10。

email_specはgithubをsourceに指定してインストールすることができます(<a href="http://github.com/bmabey/email-spec/tree/master">bmabey's email-spec at master - GitHub</a>)。config/environments/test.rbあたりに書いておくといいと思います。

email_specをインストールするとgenerateにコマンドが追加されています。

<pre lang="bash">
$ ruby script/generate email_spec
</pre>

ここで生成されるfeatures/step_definitions/email_steps.rbは英語なので日本語に直したものを使います。

<script src="http://gist.github.com/109924.js"></script>

これは僕がこないだ出向していたときのプロジェクトに使われていたものなので、多分その出向先の誰かが作ってくれたものだと思います。ありがとうございます。

最後にemail_specを使えるようにfeatures/support/env.rbに

<pre lang='ruby'>
require 'email_spec/cucumber'
</pre>

を追記してやります。あとはシナリオにテストケースを書いてテストすればOKです。

<pre lang="ruby">
 ならば "example@hoge.com" がメールを1通受信していること
</pre>

ちなみにメールの文章中にあるURLに遷移することもできるので、例えば仮登録→メールで認証URL→本登録という流れもちゃんとテストできます。
</div></article><article><h1><a href="/2009/04/28/vim_hacks_project/">2009-04-28 Vim Hacks Projectはじめました</a></h1><hr /><div class="article-body"><a href="http://www.lingr.com/room/vim-users.jp/archives/2009/04/24#msg-66101529">Lingrでのkanaさんの発言がきっかけ</a>でVim Hacks Projectをはじめることにしました。

<h2>Vim Hacks Projectとは</h2>

<blockquote>
Foobar Hacksが出版されている昨今、是非Vim Hacksを出そうではないか! という訳で、手始めに有志を募って各々のVim Hacksをvim-users.jpにて認め、頃合いを見計らって企画を持ちかけよう! という計画。</blockquote>

とりあえず僕も参加します。僕の記事は29日0時に公開予定です。現在5人のローテーションで1hack/2dayで書き連ねていく予定です。

書き手はまだ募集中なので「我こそは!」という人がいれば是非参加を!

<a href="http://vim-users.jp/vim-hacks-project/">Vim-users.jp - Vim Hacks Project</a>
</div></article><article><h1><a href="/2009/04/20/cucumber/">2009-04-20 Cucumberの登場でRailsのテスティング環境が変わった</a></h1><hr /><div class="article-body">ちょっと大げさなタイトルかもしれないですが、個人的にはそれぐらいの感動。「これで勝つる!」な気分。何に勝つのか知らないけれど。

今までのRailsのテストはもっぱらRSpecで書いてて、確かにこれはこれで素晴らしい。採用当初はバグが減ってその時も「これで勝つる!」な気分でした。でもやっぱり受け入れテストがネックになるんですよね。Seleniumとかも使ったりしてましたけど、ブラウザががちゃがちゃ動くし、なんとなく面倒で結局手動で確認という感じになってしまいました。

そこでCucumberの登場ですよ。個人的に素晴しいと思うのは

<ul>
<li>テストケースが自然文(っぽい)</li>
<li>そんなに邪魔じゃない</li>
</ul>

あたりかなぁ。テストケースが自然文っぽいというのは実はかなり大事で例えば

<blockquote>
お客さん: まずトップページにアクセスするとログインフォームがあって、そこにログインすると「ようこそ!ほげほげさん」と出すようにして欲しい
</blockquote>

っていう要望、つまりユーザーストーリがあった場合に割とそのままシナリオとしてテストに変換できる。

<pre lang='ruby'>
もし トップページ にアクセス
かつ メールアドレス に hogehoge@hoge.com と入力
かつ パスワード に hogehoge と入力
かつ ログイン ボタンを押す

ならば ようこそ!ほげほげさん と表示されること
</pre>

これは疑似言語とかじゃなくて、これがそのままテストとして実行できる。つまり今までこっちがブラウザをポチポチしてお客さんに「できましたー(多分)」と報告していて、お客さんからすると何をどうテストしていたのかが曖昧という問題があったのだけれど、 Cucumberだと<strong>お客さんと一緒に受け入れテストを作ることができて、そのテストケースもお客さんが読むことができる</strong>から曖昧さが消えて安心が生まれる。

もちろん開発者にもメリットはあって、Cucumberはユーザ視点レベルのテストだからテストとしては一番外側なテストでここのテストがちゃんと通っていれば、アプリケーションの動作がユーザ視点での正しく動くという保証ができるわけです。

その保証ができるとどうなるかと言うと、極端な話、ユーザ視点での動作が正しければ内部の動作なんて割とどうでもいいわけで、内部に自由がでてきます。内部に自由がでてくると、コードの修正や設計の変更が怖くなくなり、リファクタリングがしやすくなります。結果、メンテのしやすいアプリが出来上がります。

Cucumberは残念なことに、Ajaxのテストができないのでその辺りはSeleniumや手動での確認、あとはjsonやxmlを吐き出すアクションをRspecでテストするなど臨機応変に対応する必要がありそうです。

最後にオマケですが、僕が実際にCucumberを使ったときの開発の流れをば。

<ul>
<li>Cucumberのシナリオを書く</li>
<li>Rspecでモデルのテストを書く</li>
<li>モデルにロジックを書く</li>
<li>Rspecでコントローラとビューのテストを書く</li>
<li>コントーラとビューを書く</li>
<li>Cucumberのテストが通ったのを確認して、実際に手動でも確認する</li>
<li>それぞれのテストをautotestとかでまわしながらリファクタリング</li>
</ul>

まず最初にCucumberのシナリオを書きます。仕様のブレを防ぐためです。この時点では当然Cucumberのテストは通りませんが、とりあえずモデルからビューにかけてボトムアップでコードを書きます。基本的にテストファーストです。

ビューまで書いたらこの時点でCucumberのテストが通っていれば手動で確認、通っていなければ同じ要領でテストファーストでコードを書きます。

最後に今まで書いたテストが落ちないようにリファクタリングを行います。ここまでで1つのユーザストーリ(Cucumberでいうフィーチャ)の実装が完了します。

CucumberはRspecの時もそうでしたが、新しく導入するときにどうしてもコストがかかります。でも慣れてくればそのコストは大分減りますし、stepもある程度使いまわせるものが多いので長期的に見れば逆にコストが減ると思っています。個人的にはCucumberを採用しない理由はないと思うので、この記事を読んでいる人も是非試してみてください。
</div></article><article><h1><a href="/2009/04/20/atmarkit_1986/">2009-04-20 @ITの86世代の記事に載りました</a></h1><hr /><div class="article-body">今月頭に<a href="http://jibun.atmarkit.co.jp/ljibun01/cs/200904/05/01.html">「ハチロク世代」がIT業界を変える日</a>という記事の取材を受けてて、先日その記事が公開されました。頭ぼさぼさの人が僕です。

まぁ大したことは話してないので、補足とかは特にないんですが、実際のところはタイトルに反して当の本人達は「おれたちがIT業界を変えるぞ!」っていう感じではないのかなーと。少なくとも自分自身と近しい86世代の人達は。(あくまでおれの印象だけど)

個人的な感覚としては同年代の頑張りをみて「おれもがんばるぞ!」的なモチベーションにつながればいいかなって感じ。なんだかんだで同年代の活動は刺激をうけます。

それと同じことは他の世代にも言えて、<q>こうやって無意味に世代間闘争に火を付けようとする報道に意味はあるのか？</q>ってコメントがはてブにあったけど、少なくとも俺個人には世代間闘争って感じはなくて、多分おれの知ってる範囲では他の人もそうだと思うんだけど、今回の記事をみて89世代や81世代の人達のモチベーションに繋がればいいんじゃないかなと僕は思います。逆に89世代や81世代、もちろん他の世代の人達を見て僕達のモチベーションもあがるわけで。

なんかそのうち(もうすでにいるかもしれないけど)、「記事に載ってるわりには大したことしてないじゃないか!なんかサービスを運営してたり、起業してたりしないの?」って人もいるかもしれないけど、そう言う人達も多分1986年生れの人で探せばいるだろうけど、少なくとも僕に関しては「僕が目指してるのはそこじゃないんで」としか言えないかなぁ。

なんか何が言いたいのかよくわからないエントリですが、よかったら記事を読んで頂けるとうれしいです。ちなみに髪を切れというリクエストには今のところ答えるつもりはないのであしからず。
</div></article><div class="pager"><ul><li class="previous"><a href="/page/20/">Prev</a></li><li class="next"><a href="/page/22/">Next</a></li></ul></div></div></body></html>