{"componentChunkName":"component---src-templates-blog-post-js","path":"/posts//2018/01/31/fish_rbenv/","result":{"data":{"site":{"siteMetadata":{"title":"UKSTUDIO BLOG"}},"markdownRemark":{"id":"49af64b7-682b-5009-ae2f-650b70a125c0","excerpt":"fishとrbenvのインストールについては割愛。 omfやfishermanのpluginを使わない場合 config.fishに以下を記述。 omfを使う場合 まずはoh-my-fishをインストール。 oh-my-fish/oh-my-fish: The Fishshell Framework. rbenv…","html":"<p>fishとrbenvのインストールについては割愛。</p>\n<h2>omfやfishermanのpluginを使わない場合</h2>\n<p>config.fishに以下を記述。</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">set -x PATH ~/.rbenv/bin $PATH\nrbenv init - | source</code></pre></div>\n<h2>omfを使う場合</h2>\n<p>まずはoh-my-fishをインストール。</p>\n<ul>\n<li><a href=\"https://github.com/oh-my-fish/oh-my-fish\">oh-my-fish/oh-my-fish: The Fishshell Framework.</a></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">curl -L https://get.oh-my.fish | fish</code></pre></div>\n<p>rbenvを使うのにはPATHの記述が必要だけど、config.fishに書いてしまうとomfのrbenvプラグインの方が先に読み込まれるため、rbenvがないとエラーになってしまう。なので先にPATHの設定が登録されるように~/.config/fish/conf.d/000-env.fishに記述する。</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">set -x PATH ~/.rbenv/bin $PATH</code></pre></div>\n<p>PATHを追加したらプラグインをインストール。</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">omf install rbenv</code></pre></div>\n<h2>fishermanを使う場合</h2>\n<p>fishermanをインストール。</p>\n<ul>\n<li><a href=\"https://github.com/fisherman/fisherman\">fisherman/fisherman: The fish-shell plugin manager.</a></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">curl -Lo ~/.config/fish/functions/fisher.fish --create-dirs https://git.io/fisher\nfisher install rbenv</code></pre></div>\n<p>こちらもrbenvのPATH追加が必要。こちらはconfig.fishでも000-env.fishでも問題ない。</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">set -x PATH ~/.rbenv/bin $PATH</code></pre></div>\n<h2>config.fishと000-env.fish</h2>\n<p>fishは個人向けの設定は~/.config/fish/config.fishに記述するのが一般的。ただ設定ファイルの読み込み順序の問題で問題が起きるケースがある(今回のomfのrbenvプラグインなど)</p>\n<p>具体的にどういうことかというとomfのrbenvプラグインは~/.config/fish/conf.d以下にファイルが設置されるが、config.fishより先にそちらの方が読み込まれるため、config.fishにPATHの設定を記述してもプラグインの読み込み時点ではPATHは設定されない。</p>\n<p>なので、conf.dの中で一番早く読み込まれる名前のファイル(000-env.fish)を作り、そこにPATHの設定を定義する。</p>","frontmatter":{"title":"fish shellでrbenvを使うまで","date":"January 31, 2018","description":null}},"previous":{"fields":{"slug":"posts//2018/01/07/tokyo_jissya/"},"frontmatter":{"title":"東京十社めぐりをした"}},"next":{"fields":{"slug":"posts//2018/02/01/leave_spicelife/"},"frontmatter":{"title":"株式会社spice lifeを退職します"}}},"pageContext":{"id":"49af64b7-682b-5009-ae2f-650b70a125c0","previousPostId":"5b3576f7-54fa-5418-9c66-acbd341fc224","nextPostId":"7c183aa4-1bd9-540f-8b77-0e9c690a6151"}},"staticQueryHashes":["2841359383"]}