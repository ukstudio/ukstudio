<!DOCTYPE html><html><head><meta charset="utf-8" /><!--Always force latest IE rendering engine or request Chrome Frame--><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><!--Use title if it's in the page YAML frontmatter--><title>The Middleman</title><link href="http://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css" /><link href="/stylesheets/normalize.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/all.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/highlight.css" media="screen" rel="stylesheet" type="text/css" /><script src="/javascripts/all.js" type="text/javascript"></script><link href="/feed.xml" rel="alternate" title="atom" type="application/atom+xml" /><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-12755601-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body class="2010 2010_04 2010_04_23 2010_04_23_index"><div class="header"><div class="header-navigation"><ul><li><i class="fa fa-twitter"></i><a href="http://twitter.com/ukstudio">Twitter</a></li><li><i class="fa fa-github-alt"></i><a href="http://github.com/ukstudio">GitHub</a></li></ul></div><div class="header-title"><a href="/">UKSTUDIO</a></div></div><div class="container"><h1><Archive></Archive>Apr 23 2010</h1><article><h2><a href="/2010/04/23/movapic_tig_limechat/">2010-04-23 TIG+Limechatで携帯百景の画像をインライン展開する</a></h2><strong>公式の方でtwitpic, tweetphoto, yfrog, twitgoo, img.ly, movapic, f.hatena.ne.jpの画像展開がサポートされました。よって現在はこの方法を取らなくても大丈夫です。<a href="http://limechat.net/mac/ja.html">http://limechat.net/mac/ja.html</a></strong>

引き続き、Limechatネタ。Limechatは画像のURLをインライン展開してくれるので、当然TIG(<a href="http://www.misuzilla.org/dist/net/twitterircgateway/" target='_blank'>TwitterIRCGateway</a>)で取得してきたものに画像へのリンクがあればそれも展開する。

しかし、Twitterでは必ずしも画像とわかるURLが流れてくるわけじゃないので展開しない場合もある。個人的にTwitterに画像をあげるとき携帯百景を使うことが多いんだけど、それはURLが画像とわかるものじゃないのでLimechatでは展開してくれない。

TIGではIronRubyやら、IronPythonやらで色々とごにょごにょする仕組みがあるらしく、一応はそれでなんとかできたので手順を書いておく。

まず、TIGのディレクトリにConfigs/[User]にScriptsディレクトリを作る。

<script src="http://gist.github.com/375695.js?file=movapic.rb"></script>

そしてこのファイルを適当な名前でそこに保存する。

次に、Limechatの方で#Consoleにjoinし、"DLR"と入力。更にそのまま"reload"と入力。ファイルを読み込んだことを告げるメッセージが返ってくればOK。

仕組みとしては単純で、携帯百景は画像のURLが決まっているので、Twitterにポストされた携帯百景のURLから画像パスを求め、それを発言の末尾に追加しているだけ。スクリプトの正規表現が結構適当なのでもしかしたらうまくうごかない時があるかもしれない。もし使うとしたらそこらへんは自己責任で。

ちなみに展開された画像はこんな感じ。これはTwitterにWeb上からポストした僕の発言。

<img src="http://173.230.148.68/wp-content/uploads/2010/04/20100422-8paygkaqdx7gn71snmcektsqs9.jpg" alt="20100422-8paygkaqdx7gn71snmcektsqs9" title="20100422-8paygkaqdx7gn71snmcektsqs9" width="400" height="314" class="aligncenter size-full wp-image-623" />

多分、似たようなやり方でTwitpicとかも対応できると思うので後でやってみようと思う。
</article><hr /><article><h2><a href="/2010/04/23/manmarudrop/">2010-04-23 Limechat for Macのテーマ「まんまるドロップ」を公開します</a></h2><p>追記: <strong>2015年2月時点でこのテーマは更新されていません</strong></p>

<p>Limechat for Mac用のテーマ「まんまるドロップ」を作ったので公開しておく。名前は聖剣伝説由来だけど、特に関連はない。 <a href="https://github.com/ukstudio/ManmaruDrop">ukstudio/ManmaruDrop</a></p>

<p>4/16に公開されたバージョン2.6でTwitterのアバターを表示することが出来るようになったのでそれ前提のテーマとして作った。TIG専用チャンネルかどうかに関わらずアイコンを表示していることが前提。</p>

<p>あと、2カラムのみのチェック、メインのログウィンドウ部分ぐらいしかCSSを書いていない(コンソールはほぼ手を出していない)。他にも発言の種類もprivmsgやnotice、replyぐらいしかチェックしてないので変なデザインになることもあるかも。興味ある人はCSSをのぞくのもいいけど、普段CSSを書く人間ではないので結構汚い部分が多いと思う。</p>

<p>しばらくは自分でこのテーマを使っていくつもりなので細々とアップデートがかかると思う。もし良かったら使ってみてくださいまし。</p>
</article><hr /></div></body></html>