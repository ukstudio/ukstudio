<!DOCTYPE html><html><head><meta charset="utf-8" /><!--Always force latest IE rendering engine or request Chrome Frame--><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><!--Use title if it's in the page YAML frontmatter--><title>The Middleman</title><link href="http://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css" /><link href="/stylesheets/normalize.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/all.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/highlight.css" media="screen" rel="stylesheet" type="text/css" /><script src="/javascripts/all.js" type="text/javascript"></script><link href="/feed.xml" rel="alternate" title="atom" type="application/atom+xml" /><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-12755601-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body class="2009 2009_index"><div class="header"><div class="header-navigation"><ul><li><i class="fa fa-twitter"></i><a href="http://twitter.com/ukstudio">Twitter</a></li><li><i class="fa fa-github-alt"></i><a href="http://github.com/ukstudio">GitHub</a></li></ul></div><div class="header-title"><a href="/">UKSTUDIO</a></div></div><div class="container"><h1><Archive></Archive>2009</h1><article><h2><a href="/2009/12/02/dreaming_in_code/">2009-12-02 プログラマーのジレンマ 夢と現実の狭間</a></h2><table  class="g-tools_table"><tr><td valign="top"><span class="g-tools_img"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4822283801/2004-05-22/" target="_blank"><img src="http://ecx.images-amazon.com/images/I/51dTcwyDMsL._SL160_.jpg"  alt="プログラマーのジレンマ 夢と現実の狭間" /></a></span></td><td valign="top"><span class="g-tools_body"><a href="http://www.amazon.co.jp/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9E%E3%83%BC%E3%81%AE%E3%82%B8%E3%83%AC%E3%83%B3%E3%83%9E-%E5%A4%A2%E3%81%A8%E7%8F%BE%E5%AE%9F%E3%81%AE%E7%8B%AD%E9%96%93-%E3%82%B9%E3%82%B3%E3%83%83%E3%83%88%E3%83%BB%E3%83%AD%E3%83%BC%E3%82%BC%E3%83%B3%E3%83%90%E3%83%BC%E3%82%B0/dp/4822283801%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4822283801" target="_blank">プログラマーのジレンマ 夢と現実の狭間</a><img src='http://www.assoc-amazon.jp/e/ir?t=2004-05-22&l=ur2&o=9' width='1' height='1' border='0' alt='' /><br />伊豆原 弓 <br /><br />日経BP社  2009-05-21<br />売り上げランキング : 29765<br />おすすめ平均  <img src="http://g-images.amazon.com/images/G/01/detail/stars-3-5.gif" /><br /><br /><a href="http://www.amazon.co.jp/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9E%E3%83%BC%E3%81%AE%E3%82%B8%E3%83%AC%E3%83%B3%E3%83%9E-%E5%A4%A2%E3%81%A8%E7%8F%BE%E5%AE%9F%E3%81%AE%E7%8B%AD%E9%96%93-%E3%82%B9%E3%82%B3%E3%83%83%E3%83%88%E3%83%BB%E3%83%AD%E3%83%BC%E3%82%BC%E3%83%B3%E3%83%90%E3%83%BC%E3%82%B0/dp/4822283801%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4822283801" target="_blank">Amazonで詳しく見る</a></span> <span class="g-tools_by">by <a href="http://www.goodpic.com/mt/aws/index.html" >G-Tools</a></span></td></tr></table>

読み終わってから結構日が立ってしまったが、なかなかよい本だと思ったので紹介しておく。

本書は、「Chandler」というOSSプロジェクトを1人のジャーナリストが3年間に渡って追い続けたドキュメンタリーだ。Chandlerプロジェクトは、優秀なメンバー(名前や、名前がわからなくとも参加したプロジェクト、製品なら大抵の人が知ってるであろう人々)、潤沢な資金、OSSの為リリース日を自分達で調整できるなど開発者からしたら理想とも言える環境で開発が進められた。しかし、結果としてプロジェクトは迷走に迷走を重ね、本書の中でバージョン1.0がリリースされることはなかった。

正直、あまりにプロジェクトが進まないので中盤あたりから少しうんざりしていた。本書中盤でまともな製品が出来ておらず、リリースも遅れに遅れて、「おい、おまえらいい加減にしろよ」と少なからず思った。その停滞感が文章でもきっちり表現されていてなかなかツラかった。

それでも、私はこの本をおすすめする。プロジェクトの失敗した話というのはあまりプロジェクト外に出ることは少ない。出たとしても局所的な失敗談や、技術的な話題が多いように思う。そうした点でこの本はプロジェクトのほとんどを曝けだしている。さらにその時、彼ら(彼女ら)がなにを考えなにをしようとしたのかが読める本書は、 色々と考えさせられる部分が多い。明確な答えを得られるような本ではないが、ソフトウェア開発について考えるきっかけとしてはかなり良い本だ。

<blockquote>
ソフトウェアは難しい
　　　　　　　　- ドナルド・クヌース 「The Art of Computer Programming」
</blockquote>

本書の冒頭でも引用されているが、Chandlerプロジェクトの失敗の数々はこの一言に集約される気がする。少々身も蓋もないかもしれないが。個人的には開発者だけでなく、開発者達の上に立つ上司や経営者にも本書を読んでほしい。「ソフトウェアは難しい」ということが少しはわかるだろう。

ところで、このChandler プロジェクトが現在も開発が続いてるようで無事バージョン1.0が公開されたようだ。残念ながら私のSnow Leopardでは動作させることが出来なかったので試せなかったのだが、もし興味がある人は以下のURLが参考になるだろう。

<a href="http://chandlerproject.org/">Chandler Project</a>
<a href="http://www.moongift.jp/2007/10/chandler/">MOONGIFT: &raquo; ようやく出てきたカレンダーアプリケーション「Chandler」:オープンソースを毎日紹介</a>
<a href="http://lifehacking.jp/2007/10/chandler-preview-7/">GTD を意識したカレンダー・タスク管理アプリ：Chandler | Lifehacking.jp</a>
</article><hr /><article><h2><a href="/2009/11/09/ht-03a_android/">2009-11-09 最近のHT-03A(Android)の使い方</a></h2>HT-03Aを買ってからそれなりに時間がたったわけだけど、現時点で僕の使い方をまとめておく。

主な用途もなにも、僕は携帯をこれ1つしか持っていないので基本的にはガラパゴスケータイと然程かわらない。知り合いとのメールや電話での連絡、あとはネットを見るのが主な用途。もちろん、ガラパゴスケータイ(この言い方あまり好きじゃないんだけど他に何て言えばいいのかしら)からHT-03Aに移行してかわったことも多いので、そこらへんを重点的にまとめる。

<h2>Twitter</h2>
AndroidマーケットにはたくさんのTwitterアプリが存在するが、僕はm.twitter.comでTwitterを見ている。色々試したが、FavやReplyが出来無いことを除けばこれがベストだ。基本的に外出時は発言や適当にTLを閲覧するのが主だからかもしれない。一応Twidroidをインストールしているが、ブラウザからURLを共有してそのURLを発言する用途のためだ。

<h2>メール</h2>
HT-03AにはGmailアプリともう1つメーラが付属している。Gmailアプリで知り合いの携帯にメールを送るとデコメ扱いされて困っていたので、以前はGmailアプリで通知を受け取り、もう1つの標準メーラでメールを送るという使い方をしていた。

現時点は、K-9 Emailのみ使用している。とりあえずこれならデコメ扱いにもならず、メールも1分ごとに確認できる為だ。これを使いだしてからバッテリーの減りが早くなった気もするが、メーラを2つ使うよりはマシだ。

<h2>はてなブックマーク+ LDR</h2>
外出時の携帯の用途は実は暇潰しが多い。大体Twitterの閲覧をして暇を潰すが、LDRのFeedを消化することもある。LDReaderというアプリもあったが、実際の記事を見にいくとLDReader読んでいた記事の位置が保持されないので使用をやめた。(例えばはてブのFeedを読んでいて、10番目の記事から実際の記事をブラウザで表示させるとLDReaderに戻ると1番目の記事に戻っている)

なので今はブラウザから直接LDRを見に行っている。既読管理は出来無いが、Lite版のLDRの出来が結構良いので特に不満はない。既読管理もあとでPC版のLDRをみたときに読んだなってやつはそのまま流せばいいだけの話。

 LDRでFeedを消化していると、はてなブックマークに登録したい記事もいくつかでてくる。以前は、HT-03Aからはてブするうまい方法がなかったので困っていたが、今でははてなB LiteというアプリでブラウザからURLを共有することでブクマできるようになった。

<h2>文字入力</h2>
文字入力はOpenWnn PlusとKaoMashを使用。SimejiよりはOpenWnn Plusの方が使いやすい気がする。なんとなく。KaoMashはSimejiやOpenWnn Plusと連携して顔文字を入力するアプリ。

OSが1.6にアップしたあと一度初期化したんだが、それからモサモサ具合が大分軽減された気がする。裏でダウンロードやアプリのインストールさせてるとさすがにツラいが、うまいことそういうのを避ければ大分ラクになったように思う。

<h2>その他</h2>
あとは細かいところで、路線探索に路線ドロイドや天気予報に東京アメッシュや世界の天気を使用している。カメラ系だと、ジオラマカメラやFxCameraを使用。特にFxCameraのトイカメラモードがお気に入り。

以前、ToggleSettingsを使用していたがOSを1.6にしてから動かなくなった。けど、1.6からウィジェットに電源管理というものが追加されて、それで代用できなくもないので特に困っていない。

<h2>まとめ</h2>
Androidは正直まだまだ使い勝手がいいとは言えないし、アプリも貧弱なものが多い。がアプリ間の共有機能はとても便利だ。単機能のアプリでもうまいこと連携させれば便利なことも多い。このエントリでもはてブ+LDRなども共有機能を使って実現している。

なのでアプリ開発者は共有機能を意識して開発をしてもらいたいし、ユーザー側もうまいこと共有機能を使いこなせると色々と便利になると思う。

Twitterやブログでもなんでもいいけど、「このアプリとアプリを組合せると便利!」というのがあればどんどん公開して欲しいなと思う。
</article><hr /><article><h2><a href="/2009/11/03/mathematics/">2009-11-03 最近読んだ数学に関連する本</a></h2><h2>ぼくには数字が風景に見える</h2>
<table  class="g-tools_table"><tr><td colspan="2"><span class="g-tools_title"><a href="http://www.amazon.co.jp/%E3%81%BC%E3%81%8F%E3%81%AB%E3%81%AF%E6%95%B0%E5%AD%97%E3%81%8C%E9%A2%A8%E6%99%AF%E3%81%AB%E8%A6%8B%E3%81%88%E3%82%8B-D-%E3%82%BF%E3%83%A1%E3%83%83%E3%83%88/dp/4062139545%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4062139545" target="_blank">ぼくには数字が風景に見える</a><img src='http://www.assoc-amazon.jp/e/ir?t=2004-05-22&l=ur2&o=9' width='1' height='1' border='0' alt='' /></span></td></tr><tr><td valign="top"><span class="g-tools_img"><a href="http://www.amazon.co.jp/%E3%81%BC%E3%81%8F%E3%81%AB%E3%81%AF%E6%95%B0%E5%AD%97%E3%81%8C%E9%A2%A8%E6%99%AF%E3%81%AB%E8%A6%8B%E3%81%88%E3%82%8B-D-%E3%82%BF%E3%83%A1%E3%83%83%E3%83%88/dp/4062139545%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4062139545" target="_blank"><img src="http://ecx.images-amazon.com/images/I/51s2ct%2BbjnL._SL160_.jpg"  alt="ぼくには数字が風景に見える" /></a></span></td><td valign="top"><span class="g-tools_body">古屋 美登里 <br /><br />講談社  2007-06-13<br />売り上げランキング : 20117<br /><br /><strong>おすすめ平均  </strong><img src="http://g-images.amazon.com/images/G/01/detail/stars-4-5.gif" alt="star" /><br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" />新鮮な感動を感じました<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" />天才の頭の中を覗ける本<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-4-0.gif" alt="star" />異常な天才の半生記<br /><br /><a href="http://www.amazon.co.jp/%E3%81%BC%E3%81%8F%E3%81%AB%E3%81%AF%E6%95%B0%E5%AD%97%E3%81%8C%E9%A2%A8%E6%99%AF%E3%81%AB%E8%A6%8B%E3%81%88%E3%82%8B-D-%E3%82%BF%E3%83%A1%E3%83%83%E3%83%88/dp/4062139545%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4062139545" target="_blank">Amazonで詳しく見る</a></span><span class="g-tools_by"> by <a href="http://www.goodpic.com/mt/aws/index.html" >G-Tools</a></span></td></tr></table>

割と最近(と言ってもここ数ヶ月の話だが)に「レインマン」のDVDを見たのでその繋りで積読状態になっていたのを読み切ってみた。レインマン繋りというのは、レインマンの主人公と同じくこの本の著者ダニエルもサヴァン症候群(アスペルガー症候群)であるという点。

注意: サヴァン症候群とアスペルガー症候群は厳密には違う。(<a href="http://ja.wikipedia.org/wiki/%E3%82%B5%E3%83%B4%E3%82%A1%E3%83%B3%E7%97%87%E5%80%99%E7%BE%A4">サヴァン症候群</a> <a href="http://ja.wikipedia.org/wiki/%E3%82%A2%E3%82%B9%E3%83%9A%E3%83%AB%E3%82%AC%E3%83%BC%E7%97%87%E5%80%99%E7%BE%A4">アスペルガー症候群</a> Wikipediaより)

文章は淡々としており、人によっては退屈するかもしれないが、個人的には丁寧で好感が持てる文章だった。ユーモアらしいユーモアもなく、生真面目な文章でどことなく本人の人柄が伺える。作中では、ダニエルの全体より細かい部分への拘りや言語に対する興味などが伺えるが、そのような性格がこのような文章を作りあげるのだろう。

タイトル通り、ダニエルは数字を風景、つまりイメージとして感じることができる。それを共感覚と言うらしい。本の中では数字がイメージとしてみえるということを丁寧に説明されており、正直イメージとして見えることが羨ましく思えた。僕自身、数字に対して漠然としたイメージはあるが、ダニエルのそれとは比較にもならない。

この本は、数字に関する話だけではなくダニエルの半生記としての側面もある。と言うよりかは、半生記の中に数字の話もでてくると言った方が正しいかもしれない。

その中には、当時アスペルガー症候群がまだあまり認知されていないにもかかわらず、素晴しい愛を持って育ててくれた両親や、アスペルガー症候群でありながらも一歩一歩前に進んでいくダニエルの姿も書かれている。特に「レインマン」のモデルにもなったキム・ピークと会う場面は感動的であった。

全体的に数学的な話や共感覚についてはあまり深く掘り下げておらず、ドキュメンタリーに近い内容になっているので、もし興味がある人はその点には注意した方がいいかもしれない。

<h2>数学に感動する頭をつくる</h2>
<table  class="g-tools_table"><tr><td colspan="2"><span class="g-tools_title"><a href="http://www.amazon.co.jp/%E6%95%B0%E5%AD%A6%E3%81%AB%E6%84%9F%E5%8B%95%E3%81%99%E3%82%8B%E9%A0%AD%E3%82%92%E3%81%A4%E3%81%8F%E3%82%8B-%E6%A0%97%E7%94%B0-%E5%93%B2%E4%B9%9F/dp/4887593155%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4887593155" target="_blank">数学に感動する頭をつくる</a><img src='http://www.assoc-amazon.jp/e/ir?t=2004-05-22&l=ur2&o=9' width='1' height='1' border='0' alt='' /></span></td></tr><tr><td valign="top"><span class="g-tools_img"><a href="http://www.amazon.co.jp/%E6%95%B0%E5%AD%A6%E3%81%AB%E6%84%9F%E5%8B%95%E3%81%99%E3%82%8B%E9%A0%AD%E3%82%92%E3%81%A4%E3%81%8F%E3%82%8B-%E6%A0%97%E7%94%B0-%E5%93%B2%E4%B9%9F/dp/4887593155%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4887593155" target="_blank"><img src="http://ecx.images-amazon.com/images/I/517XMD43X8L._SL160_.jpg"  alt="数学に感動する頭をつくる" /></a></span></td><td valign="top"><span class="g-tools_body"><br />ディスカヴァー・トゥエンティワン  2004-06-30<br />売り上げランキング : 97118<br /><br /><strong>おすすめ平均  </strong><img src="http://g-images.amazon.com/images/G/01/detail/stars-4-0.gif" alt="star" /><br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" />数学ができる人とできない人は何が違うのかがわかる<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" />幼少期の数的能力育成の方向性を知るために<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-2-0.gif" alt="star" />子供の数学的能力をどうやって伸ばすか。<br /><br /><a href="http://www.amazon.co.jp/%E6%95%B0%E5%AD%A6%E3%81%AB%E6%84%9F%E5%8B%95%E3%81%99%E3%82%8B%E9%A0%AD%E3%82%92%E3%81%A4%E3%81%8F%E3%82%8B-%E6%A0%97%E7%94%B0-%E5%93%B2%E4%B9%9F/dp/4887593155%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4887593155" target="_blank">Amazonで詳しく見る</a></span><span class="g-tools_by"> by <a href="http://www.goodpic.com/mt/aws/index.html" >G-Tools</a></span></td></tr></table>

今年の春先ぐらいからだったと思うが、id:snow-bell(以下、yukky)が中心となって勉強会を不定期に行なっており、nishioさん、Misho、kuboon、cafistar等が参加している。

以前、kuboonがyukkyに微積を説明してるところを見てニヤニヤしてたが、僕自身そこまで微積をちゃんと理解しているわけではない。公式を覚えれば問題を解くことはできるだろうが、「数学の楽しさ」を感じることは出来ていない。「問題を解いた」という達成感はあるが、数学の楽しさはそこではない気がする。簡単に言うと<a href="http://www.amazon.co.jp/gp/product/410401303X?ie=UTF8&tag=2004-05-22&linkCode=as2&camp=247&creative=7399&creativeASIN=410401303X">博士の愛した数式</a><img src="http://www.assoc-amazon.jp/e/ir?t=2004-05-22&l=as2&o=9&a=410401303X" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />に登場する博士の様に数学と接してみたいのだ。そんなときにたまたまこの本を見つけた。

本の中で、「数感」という単語が登場する。「音感」に合わせて著者が作った造語だが、一般に言う絶対音感や相対音感といった音感とは少々異なる。まぁそれは些細なことなので気にしなくてもよい。著者は本の中でこう述べている。

<blockquote>
若い頃から、音楽を聞いている。なんとなく耳慣れている。もちろん深い意味でわかってなどいない。だが、なんとなく耳に心地良いぐらいの気はするようになってくる。そのうちにある日突然目覚める。
</blockquote>

これはクラシックの良さがわかるまでの過程だが、数学もこれと同じということらしい。

<blockquote>
はじめはわからないが、わからないなりに修練を積んでいく。なんとなく少しは問題が解けるようになる。そのうちにある日突然目覚めがやってくる。ある問題に触れる。あるいは、ある定理を深く理解する。その途端に、突然意味がかわる。数学は美しいものだ、と多くの人を嘆息させたあの魅力が、突然目の前に現われるのだ。
</blockquote>

つまり、クラシックの良さを理解するには音楽に触れ音感を鍛える必要があるが、数学もそれと同じで数学に触れ数感を鍛える必要があると著者は言いたいらしい。では、具体的にどう鍛えればよいのかと言うのも本の中で解説されている。その中でも、特に僕が覚えているのは「イメージ力」と「構造化して記憶する」ということだった(詳細は本を読んでください)

著者は塾に勤めているというのもあってか、子を持つ親へのメッセージといった側面もこの本にはあるように思える。なので、子をもつ親にもオススメできる本となっている。出来れば子供が小学校入る前に読むといいだろう。

もちろん、僕自身得るものがあったので数学に苦手意識を持つ人や、現在学校で数学を勉強しなければならない、中学・高校・大学受験を控えているという人にもオススメだ。
</article><hr /><article><h2><a href="/2009/11/02/testing_private_method/">2009-11-02 RSpecでprivateメソッドをテストする</a></h2><script src="http://gist.github.com/223674.js"></script>

Object#send(__send__)ならメソッドの呼び出し制限に関わらずメソッドを呼び出すことが可能なので、privateメソッドもテスト可能。

確か、1.9以降はメソッド呼び出し制限がObject#sendにも影響するとどこかで見た記憶があるのだけど結局そうはなっていないみたい。

1.9.1、1.8.7で確認済み。

ちなみにオマケ。
<script src="http://gist.github.com/223679.js"></script>

Pythonはメソッド名の前にアンダースコアを2つけるとprivateなメソッドになるのだけれど、実際のところ別名でメソッドを定義してそちらを呼び出してるっぽい。別名で定義された方はprivateではないので、そちらを呼び出してテストすることが可能。

他にもJavaだったらsetAccessible(True)を実行すればpublicなメソッドに変更されるのでテスト可能。と聞いただけで確認はしていない。
</article><hr /><article><h2><a href="/2009/10/06/web_trustee_company/">2009-10-06 Web系受託会社は亡びる</a></h2>やけに煽ってるタイトルだけど、別にそんな大した話でもない。最近個人的に思ってることをつらつらと書く。

まず、Web系受託会社の定義だけどまぁWebサービスやWebアプリケーションなど比較的規模の小さいものを受託で作っているところとする。「規模の小さい」も割と感覚的なものだけど、まぁその辺の詳細は省く。

で、なんでまた亡びるとか言いだしたのかと言うとこの程度の規模のものは外部に開発を依頼するより、自分達で作る内製に向かっていくんじゃないと思っている為。特に最近の不景気でエンジニアを雇って内部で作るという流れがあるように見える。少なくとも僕のまわりでは。現にそういう話で「うちこない?」的なことも何度か言われている。受託会社に勤めている身としてはうちに発注してよと思わなくもないが、なかなかそうも行かないらしい。

まぁ個人的にはWebサービス、アプリケーションに限らず、いわゆる業務システムも内製した方がいいと思ってるからまぁこの流れは歓迎してると言えばしてるんだけど、受託会社としてはちょっとやばいかなと。

要は今まで発注してくれてた会社が自分達で作るようになって、受託会社に仕事がこなくなるからやばいんじゃないのって話。業務システムとか割と規模の大きい仕事を受けてるところはまだ大丈夫だと思う。 それよりWebサービス、アプリケーションをメインで受託してる会社がやばい。

なんでやばいかと言うと、ちょっと優秀なエンジニアなら1人で作れるものが多い。例えばSNS(ブームは去ったけどね)を作ろうとなったときに、外部に依頼するよりエンジニア1人とデザイナ1人雇えば十分だと思うし、僕自身作れる自信がある。まぁSNSと言っても規模は色々あるんだろうけど。

まぁさっきも言ったように、内製するのは歓迎だしそれはそれでいいんだけど、受託会社として今後どうするのかって話。

いくつか思いつくのは、業務システム系に手を出す、売るものを作る(パッケージ開発)、自社サービス(広告、課金)とかとか。まぁどれが正解とかわからんし、もしかしたら他にも道があるかも。

そんなことを考える日々です。他のWeb系受託の人たちはどう考えてるんだろうねー。
</article><hr /><article><h2><a href="/2009/10/02/ruby-freaks/">2009-10-02 Ruby Freaks Loungeに記事を書きました</a></h2><a href="http://gihyo.jp/dev/serial/01/ruby/0021">第21回　Railsアプリの受け入れテストをCucumberで書こう</a>

<a href="http://d.hatena.ne.jp/onering/">榊さん</a>の紹介で、Ruby Freaks Loungeに記事を書かせて頂きました。ありがとうございます。内容はCucumberについて。割と自分のブログに書いた内容や、WEB+DBのRails特集で書いたことと被ってるかな。

あともう一回、記事を書く予定なのでそっちでは実際にRailsアプリのテストをCucumberで書く記事にするつもり。チュートリアル形式的な。

感想とか突っ込みとかあれば教えて頂けるとうれしいです。次回もお楽しみに。
</article><hr /><article><h2><a href="/2009/09/24/gae_account_for_android/">2009-09-24 Android携帯しか持っていない人がGAEのアカウントを作る方法</a></h2>今月の頭の話だけど、GAEのアカウントを作った。

ただ、GAEのアカウントを作るには携帯の認証が必要で、携帯のアドレスにメールを送ってもらいそれを受け取る必要がある。アドレスを入力する際はセレクトボックスでドメインを選ぶ形式だった。

僕はHT-03A(Android携帯)しか持っていなくて、かつDoCoMoのメールアドレスを契約していないので、gmailしかメールアドレスを持っていないことになる。だけど、そのセレクトボックスにはGmailのドメインが一覧に表示されていない。

仕方がないので、Googleにメールで問い合わせたところ、割と早い時間で返信がきた。内容は「こちらでアカウントを作ったからそれを使うといいよ」というもの。その時についったーでつぶやいな発言が<a href="http://twitter.com/ukstudio/status/3751146391">これ</a>。

メールは英語で書いたけど、単語を適当に羅列したような英語でも通じたのでまぁGAEをいじろうとしてるような人ならなんとかなる。問い合わせのメールアドレスはどこで見つけたか忘れたけど、そんなに見つけにくい場所ではなかった気がする。

Android携帯しかもっていなくて、GAEアカウントを作るのにどうしたらいいか困っている人がいたら参考になるかと思って書いた。
</article><hr /><article><h2><a href="/2009/08/25/multiruby/">2009-08-25 Ruby1.8.7とRuby1.9.2を共存させる</a></h2><strong>現在は、以下の方法より<a href="http://rvm.beginrescueend.com/">rvm</a>を使うことをオススメします。 10/05/28 追記</strong>

ローカルに開発環境としてRuby1.8.7とRuby1.9.2を共存させる方法。

<h2>Rubyのインストール</h2>
まずはRubyの処理系をインストール。<a href="http://www.ruby-lang.org/ja/">ruby-lang.org</a>から適当に落とす。今回はruby 1.8.7-p174とruby 1.9.2-preview1を使用。

まず、Ruby1.9.2から。

<pre><code>$ ./configure --prefix=/Users/uk/local --program-suffix=-1.9.2
$ make
$ make install
</code></pre>

--prefixでインストール箇所を指定。自分の$HOME以下のどこかにいれるのが最近のマイブーム。この後でてくるgemも$HOME以下。Rubyはともかくgemは$HOME以下を推奨する。ある程度有名なライブラリならいいが、適当な野良ライブラリをインストールするにはこちらの方が安心な為。

--program-suffixを指定するとインストールしたバイナリの後ろに指定した文字列を付加できる。この例だと「ruby-1.9.2」となる。他の処理系と分けるためこの指定は必須。

次に同じ要領で1.8.7もインストール。やることは同じ。

<pre><code>$ ./configure --prefix/Users/uk/local --program-suffix=-1.8.7
$ make
$ make install
</code></pre>

これでそれぞれのバイナリが/Users/uk/local/binに入っている状態となる。

<h2>RubyGems</h2>
次にgemの設定。Ruby1.9からはgemが標準で入っている為、インストールは必要ない。ただバージョンが1.3.4なのでアップデートしておくといいだろう。

1.8.7は別途gemをインストールする。<a href="http://rubyforge.org/projects/rubygems/">RubyForgeにプロジェクトがある</a>のでそこからダウンロードしてくる。

<pre><code>$ ruby-1.8.7 setup.rb
</code></pre>

それぞれのgemのenvを見ておくと、インストールしたライブラリがどこに保存されるかわかる。

<pre><code>$ gem-1.9.2 env
$ gem-1.8.7 env
</code></pre>

それぞれ、GEM PATHSの先頭が/Users/uk/local/lib/ruby/gems/1.8と/Users/uk/local/lib/ruby/gems/1.9.1(何で1.9.2じゃないのかはわからん)になっているはずだ。今後、gemを使ってライブラリをインストールするときはsudoは必要ない。

<h2>シンボリックリンク</h2>
この時点でRuby1.9.2とRuby1.8.7がそれぞれ使える状態になってはいるが、いちいちバージョンを指定するのも面倒なので、シンボリックリンクで対応する。riとかも必要に応じて作る。

<pre><code>$ ln -s ~/local/bin/ruby-1.8.7 ~/local/bin/ruby
$ ln -s ~/local/bin/irb-1.8.7 ~/local/bin/irb
$ ln -s ~/local/bin/gem-1.8.7 ~/local/bin/gem
</code></pre>

Ruby1.9.2を使いたいときは、一度シンボリックリンクを消し、再度作りなおす。

とは言え、その作業を手動で行うのは手間なのでスクリプトで対応するのがオススメ。5分ぐらいで書いたスクリプトをgistに貼っておいた。実行権限を与えて、引数にバージョンを与えると使えるはずだ。PATHとCMDは適当に書き換えること。そのうちもうちょっとマシなものに書き直すかも。

<script src="http://gist.github.com/174406.js"></script>

<h2>まとめ</h2>
とりあえず、こんな感じでRuby1.9.2とRuby1.8.7を共存させてみた。いくつか、気になる点があって例えばgemでRailsをインストールするとシェバングが「#!/Users/uk/local/bin/ruby-1.9.2」となっており、シンボリックリンクを用意しただけではダメな時もある。その時はとりあえず諦めて以下の様に実行している。

<pre><code>$ ruby -S Rails hoge
</code></pre>

実際にこの環境で開発するのはこれからなので、もしかしたらそのうち色々な問題もでてくる可能性はあるが、とりあえずこの環境でやってみようと思う。
</article><hr /><article><h2><a href="/2009/08/20/review_kinesis/">2009-08-20 Kinesisを2週間使ったのでレビューする</a></h2><a href="http://d.hatena.ne.jp/ursm">ursm</a>さんに2週間程、<a href="http://ja.wikipedia.org/wiki/Kinesis">Kinesis</a>をお借りしたのでレビューを書く。

結論から言うと、Kinesisはとても素晴しいキーボードだった。ursmさんや<a href="http://whileimautomaton.net/">kana</a>さんが常用するのもわかる気がする。

<h2>指の負担が少ない</h2>
Kinesisはキーの部分が、おわんの形にへこんでおり、かつ各キーの角度や位置がそれぞれ微調整されておりパッと見カオス。案外これがいい感じにフィットしていて指の動きがスムーズ。ちょっと動かせばすぐ届く感じ。多分、タイピング速度も一般的なキーボードよりは速くなる気がする。

あといくつかのキーが親指の部分にあるため、Ctrlキーとか小指を酷使することもなかった。親指は大体暇なので、こういうのはありがたい。HHKだと大体SpaceかCmdぐらいしか使わない(Space押しっぱでShiftになるようにはしてるけど)

<h2>Key Remap</h2>
Kinesisは単体でキーのremapができる。OS側でやらなくてすむのはとても素晴しい。正直、いくつかのキーで配置に不満があったのだけど([とか]とかCmdとか)適当に配置しなおし。特にCmdは半角、全角の切り替えにCmd+Spaceを使っていたので、デフォルトの状態じゃどうしようもなかった。

Remapがキーボード単体でできるのは本当に素晴しいので他のキーボードも見習ってください。

<h2>でかい</h2>
とりあえずでかい。ただまぁ、この大きさは多分仕方なくて、小さくしてしまうと腕がちょっと窮屈になってしまう。腕の位置を自然にするために左右分割してると思うのでまぁしょうがないのだろう。それとは別にどことなく外人の手の大きさに合わされているので、いくつか遠く感じるキーもあった。

<h2>まとめ</h2>
Kinesisを2週間使って、HHKやMacBookのキーボードで打ちづらさを感じるようなり、しかもタイプミスが増えたのでursmさんには損害賠償を払ってもらいたいです。Kinesis1個で手を打ちます。
</article><hr /><article><h2><a href="/2009/08/12/twitter_bot/">2009-08-12 ついったーBOT作者にお願いしたいこと</a></h2>最近、行儀がわるいというか、ハッキリ言ってしまうと「鬱陶しいBOT」が増えた(前からかもだけど)気がするので個人的にBOTを作るときに気をつけてもらいたいことを書いておく。

<h2>言及に気を配って</h2>
ついったーの仕様上、いつからかは知らないけど発言内容に「@自分のID」が含まれていると言及されたということでReplyに流れてくる。

それはまぁいいんだけど、BOTが必要以上にIDを含めているとそれだけでReplyがうまってしまう。特に「○○なう系BOT」がひどい。山手線とか色々あるけど<a href="http://twitter.com/shibuya_now">渋谷なうBOT</a>がひどい。

なにがひどいって一度「渋谷なう」と言ったら補足されて大体24時間ぐらいはそのBOTの発言に自分のIDが含まれて、誰かが「渋谷なう」と言う度に自分のReplyに流れてくる。そんな情報は求めていない。せめて@をはずしてほしい。

それと同じような理由で延々と特定のキーワードに対してReTweetする「RT BOT」もなにかと鬱陶しい。特定のキーワードを集めて広めるという意味もあるかもしれないが、大抵の場合検索すれば解決すると思う。

<h2>RT捏造</h2>
<del datetime="2009-08-11T21:51:38+00:00">これはついさっき気づいたんだけど、clibotという学習系のBOTが<a href="http://twitter.com/clibot/status/3250129088">さも俺が発言したかのようにRTしていた</a>が、俺はそんな発言を一切していない。</del>

追記(2009-08-12): 作者の方から<a href="http://twitter.com/clicube/status/3252794902">replyを頂いた</a>。わざわざありがとうございます。

学習系だから仕方ないと言うかもしれないが、まるで俺が発言したかのように扱われるのはあまりいい気分ではない。

<h2>Blockを前提としない</h2>
この手の文句は大体がBlockしたらいいのだろうけど、BOTを作る側の礼儀としてそこは前提にしてはいけないと思う。

基本的にBOTはFollowしてくれてる人のみを対象にするか、出来る限りそれ以外の人へ影響を減らすようにして欲しい。

例えばキーワードを拾うBOTだったら、せめてIDの先頭に@をつけないでおくとかするだけでも大分かわる。それでも自分のIDでキーワード反応させてる人がいるから影響が0とはならないが。その人へのリンクが必要というなら、発言のパーマリンクでも一緒に載せておけばいい。

別に@を飛ばすなとまで言うつもりはないが、あまりの意味のない内容を何度もReplyされるとさすがに鬱陶しい。

<h2>作者への連絡先を明記して</h2>
BOTを作るなら、Bioにでも自分のTwitterのIDなりブログのURLなり載せておいてほしい。BOTへの苦情・要望を誰に伝えたらいいのかさっぱりわからない。

BOTを作ったのなら無責任に放ったらかすのではなく、BOTの発言も自分の発言と同程度の責任を持っておいて欲しい。

<h2>まとめ</h2>
個人的な要望として適当につらつらと書き殴ったけど別に強制するつもりはない。だけどまぁ、BOTを作るときは少しばかりここに書いたことに気を使ってもらえるとうれしい。
</article><hr /><article><h2><a href="/2009/08/11/oauth/">2009-08-11 OAuthを使ってみた雑感</a></h2>最近、TwitterのDMスパムなどで話題のOAuthですが、仕事で使ってみて色々思うところもあるのでまとめておく。

<h2>OAuthは安全か</h2>
まず、 OAuthでよく言われてるようにみえるパスワードをサービスに渡さないから安全ということに関して。簡単に言うと、「パスワード渡すよりは安全だけどまぁ信用していいかどうかの判断は必要だよね」ってところ。

OAuthは難しい話を抜きにしてしまえば、期限つきパスワード(Twitterは無期限っぽいですが)をサービスごとに発行するようなものだと思う。パスワードを渡した場合と違って、パスワードを書き換えられてログインできなくなるということはないが、APIで実行できることは基本的に出来るのでOAuthにもそれなりのリスクはある。

リスクと言ってもパスワードを第三者に渡すよりははるかに安全。先程述べたようにパスワードを書き換えられる心配もないし、仮に第三者のサービスからトークンが流出したとしても、トークンは無効化できるし、同一のパスワードを使っているサービスへの影響もない。(他のサービスと同じパスワードを使うのはどうなの?云々は置いておいて)

<h2>セキュリティより利便性</h2>
上記で述べたようにセキュリティ的にはパスワードを渡すより安全だが、ユーザ視点からみた場合のOAuthの利点はセキュリティ云々より利便性なんだと思う。

まず、パスワードの入力の手間が省ける。実際にIDとパスワードを入力してみればわかると思うけど、クリックで認証が済んでしまうOAuthの方が大分ラク。この辺は実装の詳細は違えど、利便性という意味では携帯の簡単ログインに近い。

また、パスワードを第三者のサービスに渡さないことでTwitterのパスワードを変更をする場合、Twitterのパスワードを変更するだけで済む。Twitterのパスワードを変える人がどれだけいるのか知らないけど。

<h2>サービス提供側としてOAuthを使うべきか</h2>
実際のところ、OAuthを使ったところでやることはあまりかわらない。当然、OAuthで取得したトークンが外部に漏れてしまえば、そのトークンを使用してTwitterへの発言やFollowingのremoveなどができてしまう。よってトークンが外に漏れないよう管理する必要がある。まぁそもそもデータが外部に漏れるということ自体があってはいけないことだけど。

だけどパスワードを預かるよりはユーザにとっても自分達にとっても安全なのは間違いないし、自分達の責任が限定されるという点からもOAuthを使うべき。その方がリスクが少ない。

例えば、他の同一パスワードを使用しているサービスで不正があった場合に、OAuthであればパスワードを持っていないので自分達のデータからパスワードが漏れるということがないし、そういう疑いをかけられることもない。

OAuthを使う際、サービス内部にOAuthを使用してなにをするのかを明記しておくといい。OAuthの仕組みなどを説明する必要はないが、自分達がTwitterに対してなにをするのかぐらいは書いておく方がユーザも安心できる。

現状、TwitterのOAuthの認可のページがかなり不親切かつほとんど英語なので、そのあたりは自分達でうまくサポートするしかない。

<h2>まとめ</h2>
パスワード使うよりはユーザにとってもサービスを提供する側にとってもメリットがあるのでOAuthが使えるなら使っておきましょう。
</article><hr /><article><h2><a href="/2009/07/27/server_maintenance/">2009-07-27 サーバのメンテナンスしてました</a></h2>事後報告になってしまいますが、先週の金曜から今日にかけてサーバのメンテナンスしてました。サイトが見れなくて困った人がいたら申し訳ないです。

メンテナンスと言うか、設定を一からやりなおしたかったのと、CentOSに飽きたのでたまには違うディストリビューションにしたかったので、Gentooでビルドしなおしてました。

ブログのテーマとかも追々直していきますが、とりあえず見れるところまで。
</article><hr /><article><h2><a href="/2009/07/16/ht_03a_gtalk/">2009-07-16 HT-03AでGtalkまわりでハマッったのでメモ</a></h2>なんだか変なところではまるな、android。

Gtalkでチャットをする時は大体クライアント側でその人を登録すると思うんですが、連絡帳にすでにその人が登録してあった場合、マージ的なことはしてくれません。具体的な例で説明した方がわかりやすいと思うので具体例しめします。

<ol>
<li>連絡帳にすでにAさんが登録してあり、携帯アドレスとGmailアドレスが登録されています</li>
<li>その人とGtalkで会話したいのですが、連絡帳に登録してあっても一度フレンド登録しないといけなません</li>
<li>なのでフレンド登録する</li>
<li>無事会話できるが、連絡帳にAさんが2人存在してしまう(手動で登録したものと、Gtalkでフレンド登録したもの)</li>
<li>Gmailの連絡帳で、アカウントの統合ができるので統合する</li>
<li>Gtalkで会話できなくなる</li>
</ol>

で、じゃあ2つ登録されてしまったアカウントはどうしたらいいのかと言うと、<strong>Gtalkでフレンド登録された時に作られたアカウントの方に、最初から登録されていた方のデータをうつしてください。</strong>

ちなみに僕は一度Gtalkのフレンドリストが全部消えたのですが、多分連絡帳整理の際に一度連絡先を全て消したためだと思います。Gtalkのフレンドリストが消えないようにするには、上記のようにフレンド登録されたアカウントはそのまま残しておかないとダメなんだと思います。

ちなみに、僕が知ってる範囲ですが、フレンド登録されているアカウントかどうかの区別はチャットができるかできないかでしか判断できないと思います。具体的に言うと連絡帳をWebで見たときに「チャット」のリンクがあるかどうかぐらいだと思います。
</article><hr /><article><h2><a href="/2009/07/16/android_alternative/">2009-07-16 HT-03AのGmailアプリからメールを送るとmultipart/alternativeになる</a></h2>先日もエントリを書いたように、今現在HT-03Aを使っているのですが、ひとつ問題が。

まぁタイトルのまんまなのですが、標準のGmailアプリからメールを送るとヘッダがmultipart/alternativeになってしまいます。もちろんWebからだとtext/plainで送れます。multipart/alternativeについては詳しくは書きませんが、多分大抵の場合、HTMLメールとして受け取ることになると思います。

<img src="http://img.skitch.com/20090716-e9kguk8wruw5t8p4a45qcruark.jpg" alt="alternative"/>

それの何が問題かと言うと、携帯に送った場合それがデコメとして認識されて受け取った側が返信する際にデコメ作成画面になってしまうということです。

要はメールを受けとる > 返信ボタンを押す > デコメ作成画面になる > 一々テキストメールに変更しなければならないといった感じに手間が増えてしまうのです。

全部の携帯がそうかはわかりませんが、auのある携帯ではそういう動作になるようです(型番は忘れた)

とりあえず、仕方がないので今のところは、Gmailアプリで受信(通知がくる) > メーラー(標準でついてくるGmail以外のメールを受信するやつ)でGmailを再度受信 > そっちで返信 とやるとなんとかtext/plainで送れます。非常に面倒です。他になにかいい方法があれば教えてください。

ちなみに、この件でDoCoMoのサポセンに問合せたところ、「標準のGmailアプリではテキストメールしか送れません。細かいことはGmailのヘルプを参照してください。」と言われてしまいどうしたもんかなーといったところです。

もし、誰か標準のGmailアプリでtext/plainでメールを送る方法をご存知でしたら教えてもらえるとありがたいです。
</article><hr /><article><h2><a href="/2009/07/14/rails_oauth_twitter/">2009-07-14 RailsからOAuthを利用してTwitterにポストする</a></h2>OAuthの細かい説明は抜き。

まず、OAuthを使うためにはTwitterでアプリケーションの登録が必要なので、<a href="http://twitter.com/oauth_clients">http://twitter.com/oauth_clients</a>で登録をしておいてください。 以下のコードの6行目の部分を取得したConsumer keyとConsumer secretをに置き換えてください。

<script src="http://gist.github.com/146684.js"></script>

適当なところからverifyアクションにリダイレクトしてくると、さらにTwitterにリダイレクトします。その後、callbackアクションに戻ってくるので、そこで認証して取得したトークンをUserモデルに保存します。(ここでは自分のサービスにログインしているユーザが認証を行っています。)

その後、保存したトークンを使ってTwitterに発言をします。リクエストが受け入れられなかった場合の処理などは省いてます。

<script src="http://gist.github.com/146685.js"></script>

Twitterには取得したトークンに有効期限はありませんが、有効期限が存在するものもある(どちらかというとそっちの方が多いのかも)気をつける必要があります。

ちなみに細かいことを調べていないので「トークンをDBに保存してしまっていいのか」とか「トークンが外部に漏れてしまった場合はどうしたらいいのか」などについてはよくわかっていません。
</article><hr /><article><h2><a href="/2009/07/13/android_ht_03a/">2009-07-13 DoCoMoのAndroid携帯「HT-03A」を買って3日たったので適当にレビューする</a></h2>買いました、DoCoMoのAndroid携帯「HT-03A」。本当は買わないつもりだったんですけど。以下レビューです。画像はない上にそれなりに長文です。

<h2>契約</h2>
発売日前日の夜に急にむらむらきまして、発売日、新宿ヨドバシに開店時間に行ったら在庫があるとのことなのでその場で契約。新規契約だったので、具体的な金額は忘れましたが2万数千円ってとこでした。ヨドバシはポイントがつくので、その場で一括支払い。

ヨドバシに行ったらすでに、僕の前には10人ぐらいいた上に、対応している店員があまり多くなかったので書類を書くまでに時間が結構かかりました。ヨドバシ到着時間が9時40分ぐらいでしたが、書類書き終わったのが大体10時半。受取は2時間後の12時半に来いとのことでした。

とりあえず、「Android契約するので遅刻します」と会社にはメールしてましたけど、2時間プラプラするのもあれなので、一旦帰宅して仕事しつつ2時間潰しました。12時半にヨドバシ行くと、あと30分待てと言われたので、昼飯を食って戻ると、今できるから10分待ってと言われ、結局13時半ぐらいに受け取ることができました。センターが混雑してるとかなんとかでまぁ仕方ないのかなー。

<h2>使い心地</h2>
使い心地は悪くないです。まず本体そのものですが、iPhoneよりは厚く、幅は少し小さいので、個人的にはiPhoneよりは持ち安く、なかなか好印象です。見た目もなんとなくHT-03Aの方が好きです。

全体的なUIに関してはiPhoneの方がよくできている気もしますが、個人的には十分だと思います。画面の下にある、ホームボタンや検索、スクロールなどは案外便利です。

<h2>マルチタスク</h2>
個人的に今回の目玉はこのマルチタスクでした。iPhoneはシングルタスクなのでIRCとかを起動している状態でブラウザを開くと接続が切れてしまいますが、HT-03Aは接続を維持してくれます。TwitterクライアントでTwidroidと言うものを試しましたが、これはreplyなどに反応して通知をしてくれます。

ただ、これはこれで通信が増え、バッテリーを消費したり、アプリをついついたくさん起動してしまい、メモリを消費してしまったりもします。あと、僕が知らないだけかもしれませんが、バックグラウンドで動いてるアプリの終了方法がわかりません。

<h2>Android マーケット</h2>
iPhoneで言う、AppStoreに位置するマーケットですが、一応は日本語化されています。しかし、あくまでUIの表示が日本語になっているというだけで、登録されているアプリは多分世界共通でしょう。今のところほとんどが英語のアプリケーションでいくつか日本語のアプリケーションをみかける程度です。

アプリの管理はHT-03A単体で出来ますし、今のところアプリは全て無料なので適当にポンポンインストールしています。今のところ、フリック入力を実現する「shimeji」 指定した都市や、GPSで取得した位置の天気を表示する「世界天気時計」、敵から建物を守る「Robo Defense FREE」、バーコードリーダーの「QRコードスキャナ」などをインストールしています。

<h2>Gmail、Google Map、Google Calendar</h2>
この辺は流石にGoogle携帯なのでかなり便利に使えます。Gmailはアカウントを設定するだけで、プッシュ式に受信してくれますし、連絡先もwebと自動的に同期を取ってくれます。ほとんどWebのGmailと同じ間隔で使えるのでGmailを愛用している身としてはかなり便利です。標準でHTMlメール、UTF-8でメールを送るのでそこは注意が必要かもしれません。

いくつか気に入らない点をあげるとすれば、メールの差出人が連絡帳の名前で表示されず、アドレスそのままな点です。Webがそう実装されているからなのでしょうが、これは出来れば対応して欲しいですね。あとメールやブラウザで表示されている電話番号、メールアドレスの登録の仕方が今のところコピペするしか方法がない気がします。結構面倒です。

Google Calendarも自動的に同期を取ってくれて、ウィジットとしてホームに予定を表示させておけるので、予定は今後Google Calendarで統一するつもりです。

Google Mapはストリートビューにコンパスモードというものが搭載されていて、自分の向いてる方向、角度に対してストリートビューも方向、角度を変えてくれるというなんとなく未来な感じがしました。多分、ルート案内+ストリートビューで自分のいる場所を見比べたりとかできる。試してないけど。見下ろす形の地図よりはわかりやすいですし、方向も同期するので、方向音痴の人にはありがたいのではないでしょうか。

<h2>ブラウザ</h2>
噂だとブラウザにはGoogle Chrome Liteというものが使われているそうですが、本当かどうかは知りません。使い勝手はそれなりにいいですし、レンダリングもきれいです。iPhoneのダブルタップでその要素にあわせて拡大表示という機能はないですが、ズームイン、ズームアウトが手軽にできるのでそこまで困りはしないですね。

<h2>文字入力</h2>
文字入力はちょっともっさりです。標準ではフリック入力ではないですが、「shimeji」というアプリでフリック入力が実現できます。IMEがアプリとして提供できるのもandroidのいいところだなと思いました。

<h2>アプリ開発</h2>
まだなにもしてないですが、アプリとしてやれることが結構多いのと、Java、審査なしというのはハードルが低くて気軽だなと思います。iPhoneアプリはいろいろと面倒だったので、これはうれしいです。

<h2>バッテリー</h2>
たしか、公式だと140時間ですが、裏で通信させたり、ついついゲームしたりなんだりで、そんなには持ちません。と言っても、この3日間では、充電が切れて困ったりとか、そういうのはなかったので問題はないと思います。不安な人は標準でバッテリーパックが2個ついてくるので持ち歩けばいいと思います。

<h2>その他いろいろ</h2>
その他というか、総評といった感じですが、まずiPhoneとAndroidどちらがいいかと言われたらまぁ好き好きでしょう。当たり前ですが。個人的にはAndroidの方が好きです。

僕は結構Googleを利用しているので、かなり便利に使えますが、Google使わないよーなんて人はあまり使うメリットはないかもしれません。アプリもまだまだ国内のものは少ないので、そういう人は様子見でもいいと思います。

それとGmailが特にそうなんですが、基本的に「検索ありき」です。だてに検索ボタンはついてないですね。Googleらしいと言えばGoogleらしいですが、検索になれてない人はちょっと大変かもしれません。連絡帳もなんか登録している人がずらずら表示されるので検索してなんぼな感じになっています。

いわゆるネットリテラシーって言うんですかね、そういうのが十分に高くないとつらいでしょうね。

その他、細かいことは店頭で実機に触ってみるかtwitterで@ukstudioしてくれれば、答えるかもしれませんし、答えないかもしれません。
</article><hr /><article><h2><a href="/2009/07/08/alphagrip/">2009-07-08 AlphaGripキーボード買いました</a></h2><a href="http://www.flickr.com/photos/ukstudio/3700581002/"><img src="http://farm4.static.flickr.com/3652/3700581002_3e6002fcfc.jpg?v=0" alt="" /></a>

今日、無事届きました。送料こみで130ドルちょい。本体は109ドルぐらい。

ちょこっと触った感じですが、とりあえず配列がわからんですな。手元みながらじゃないと入力できません。日本語は入力できますが、あまり向いてない感じはします(SKK使用)。コードや英文だとそんなに悪くはなさそうです。

ただ、サイズが外人仕様のためか少し大きいかもしれません。EscとCtrlが遠いのはVimmerとしてはちょっと残念です。あとhjklも少し辛いです。

まわりからはネタのような目で見られますが、僕はこれで仕事をしようと本気で考えているので頑張りたいと思います。

<a href="http://www.alphagrips.com/">http://www.alphagrips.com/</a>

とりあえず上記のサイトにデモがあるので見てみるといいと思います。
</article><hr /><article><h2><a href="/2009/06/19/webdb_51/">2009-06-19 WEB+DB PRESS Vol.51でRailsの特集を執筆しました</a></h2><table  class="g-tools_table"><tr><td colspan="2"><span class="g-tools_title"><a href="http://www.amazon.co.jp/WEB-DB-PRESS-Vol-51-PRESS%E7%B7%A8%E9%9B%86%E9%83%A8/dp/4774138908%3FSubscriptionId%3D0G91FPYVW6ZGWBH4Y9G2%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4774138908" target="_blank">WEB+DB PRESS Vol.51</a><img src='http://www.assoc-amazon.jp/e/ir?t=2004-05-22&l=ur2&o=9' width='1' height='1' border='0' alt='' /></span></td></tr><tr><td valign="top"><span class="g-tools_img"><a href="http://www.amazon.co.jp/WEB-DB-PRESS-Vol-51-PRESS%E7%B7%A8%E9%9B%86%E9%83%A8/dp/4774138908%3FSubscriptionId%3D0G91FPYVW6ZGWBH4Y9G2%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4774138908" target="_blank"><img src="http://ecx.images-amazon.com/images/I/61aVDmJxrxL._SL160_.jpg"  alt="WEB+DB PRESS Vol.51" /></a></span></td><td valign="top"><span class="g-tools_body">WEB+DB PRESS編集部 <br /><br />技術評論社  2009-06-24<br />売り上げランキング : 130<br /><br /><br /><a href="http://www.amazon.co.jp/WEB-DB-PRESS-Vol-51-PRESS%E7%B7%A8%E9%9B%86%E9%83%A8/dp/4774138908%3FSubscriptionId%3D0G91FPYVW6ZGWBH4Y9G2%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4774138908" target="_blank">Amazonで詳しく見る</a></span><span class="g-tools_by"> by <a href="http://www.goodpic.com/mt/aws/index.html" >G-Tools</a></span></td></tr></table>

僕個人っていうわけではないですが、会社の人達と一緒に6月24日発売のWEB+DB PRESS Vol.51で執筆させて頂きました。初めての執筆活動なので、読みにくい部分、至らない部分などあると思いますが、買って読んで頂けると幸いです。
</article><hr /><article><h2><a href="/2009/06/16/basic_of_programming/">2009-06-16 「プログラミングの基礎」を読みはじめた</a></h2>結構前のきしださんのエントリ(<a href="http://d.hatena.ne.jp/nowokay/20090321#1237617054">いまSICPを読むのは時間の無駄</a>)に触発されて購入した「プログラミングの基礎」を読み始めました。実はこのエントリから結構すぐに購入したんだけど、id:snow-bellについこないだまで貸してたので今日からスタート。

とりあえず4章まで読んだけど、確かに読みやすい。SICPみたいに堅苦しい日本語ではないので、まぁよっぽど活字ダメですっていう人じゃなければ大丈夫そう。

個人的にいいなぁと思ったのはテストファーストだった点。

4.6の「関数定義に対するデザインレシピ」では実際に関数のコードを書くまえに、それをテストするプログラムを書くよう指示している。これはとても大事なことだと思う。この本は確かプログラム初心者も対象なので、はやいうちにテストを書く癖がつくのは大変素晴らしい。

サンプルのコードはOCamlだけど、今のところは型の制限がきついなーっていう印象ぐらいで特になんとも。まぁまだ全然書いてないけど。普段Ruby使ってるからか、整数と実数も区別しなきゃいけないのはちょっとめんどう。3 * 1.3でもエラーでるもんなぁ。まぁこの辺のありがたみも読み進めるうちにわかるかもしれない。

本自体は結構薄いし、結構はやく読み終わりそう。読み終わったらまたエントリを書く。

<table  class="g-tools_table"><tr><td colspan="2"><span class="g-tools_title"><a href="http://www.amazon.co.jp/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E3%81%AE%E5%9F%BA%E7%A4%8E-Computer-Science-Library-%E6%B5%85%E4%BA%95/dp/4781911609%3FSubscriptionId%3D0G91FPYVW6ZGWBH4Y9G2%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4781911609" target="_blank">プログラミングの基礎 (Computer Science Library)</a><img src='http://www.assoc-amazon.jp/e/ir?t=2004-05-22&l=ur2&o=9' width='1' height='1' border='0' alt='' /></span></td></tr><tr><td valign="top"><span class="g-tools_img"><a href="http://www.amazon.co.jp/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E3%81%AE%E5%9F%BA%E7%A4%8E-Computer-Science-Library-%E6%B5%85%E4%BA%95/dp/4781911609%3FSubscriptionId%3D0G91FPYVW6ZGWBH4Y9G2%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4781911609" target="_blank"><img src="http://ecx.images-amazon.com/images/I/51GBOf09hjL._SL160_.jpg"  alt="プログラミングの基礎 (Computer Science Library)" /></a></span></td><td valign="top"><span class="g-tools_body">浅井 健一<br /><br />サイエンス社  2007-03<br />売り上げランキング : 96439<br /><br /><strong>おすすめ平均  </strong><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" /><br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" />関数プログラミングの基礎<br /><br /><a href="http://www.amazon.co.jp/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E3%81%AE%E5%9F%BA%E7%A4%8E-Computer-Science-Library-%E6%B5%85%E4%BA%95/dp/4781911609%3FSubscriptionId%3D0G91FPYVW6ZGWBH4Y9G2%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4781911609" target="_blank">Amazonで詳しく見る</a></span><span class="g-tools_by"> by <a href="http://www.goodpic.com/mt/aws/index.html" >G-Tools</a></span></td></tr></table>
</article><hr /><article><h2><a href="/2009/06/03/agile_estimating_and_planning/">2009-06-03 アジャイルな見積りと計画づくり</a></h2>献本して頂いたにも関わらず、書評が大部遅くなってしまいました。角谷さん、ごめんなさい。

<table  border="0" cellpadding="5"><tr><td colspan="2"><a href="http://www.amazon.co.jp/%E3%82%A2%E3%82%B8%E3%83%A3%E3%82%A4%E3%83%AB%E3%81%AA%E8%A6%8B%E7%A9%8D%E3%82%8A%E3%81%A8%E8%A8%88%E7%94%BB%E3%81%A5%E3%81%8F%E3%82%8A-%7E%E4%BE%A1%E5%80%A4%E3%81%82%E3%82%8B%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E3%82%92%E8%82%B2%E3%81%A6%E3%82%8B%E6%A6%82%E5%BF%B5%E3%81%A8%E6%8A%80%E6%B3%95%7E-Mike-Cohn/dp/4839924023%3FSubscriptionId%3D0G91FPYVW6ZGWBH4Y9G2%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4839924023" target="_top">アジャイルな見積りと計画づくり ~価値あるソフトウェアを育てる概念と技法~</a><img src='http://www.assoc-amazon.jp/e/ir?t=2004-05-22&l=ur2&o=9' width='1' height='1' border='0' alt='' /></td></tr><tr><td valign="top"><a href="http://www.amazon.co.jp/%E3%82%A2%E3%82%B8%E3%83%A3%E3%82%A4%E3%83%AB%E3%81%AA%E8%A6%8B%E7%A9%8D%E3%82%8A%E3%81%A8%E8%A8%88%E7%94%BB%E3%81%A5%E3%81%8F%E3%82%8A-%7E%E4%BE%A1%E5%80%A4%E3%81%82%E3%82%8B%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E3%82%92%E8%82%B2%E3%81%A6%E3%82%8B%E6%A6%82%E5%BF%B5%E3%81%A8%E6%8A%80%E6%B3%95%7E-Mike-Cohn/dp/4839924023%3FSubscriptionId%3D0G91FPYVW6ZGWBH4Y9G2%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4839924023" target="_top"><img src="http://ecx.images-amazon.com/images/I/51N9wG%2B0BgL._SL160_.jpg" border="0" alt="アジャイルな見積りと計画づくり ~価値あるソフトウェアを育てる概念と技法~" /></a></td><td valign="top"><font size="-1">安井 力 角谷 信太郎 <br /><br />毎日コミュニケーションズ  2009-01-29<br />売り上げランキング : 8925<br /><br /><strong>おすすめ平均  </strong><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" /><br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" />「正直になること」がアジャイル成功の秘訣<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" />ソフトウェアの見積りは本来こうでないか？<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" />自信を持って見積もりを出すための手引き書<br /><br /><a href="http://www.amazon.co.jp/%E3%82%A2%E3%82%B8%E3%83%A3%E3%82%A4%E3%83%AB%E3%81%AA%E8%A6%8B%E7%A9%8D%E3%82%8A%E3%81%A8%E8%A8%88%E7%94%BB%E3%81%A5%E3%81%8F%E3%82%8A-%7E%E4%BE%A1%E5%80%A4%E3%81%82%E3%82%8B%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E3%82%92%E8%82%B2%E3%81%A6%E3%82%8B%E6%A6%82%E5%BF%B5%E3%81%A8%E6%8A%80%E6%B3%95%7E-Mike-Cohn/dp/4839924023%3FSubscriptionId%3D0G91FPYVW6ZGWBH4Y9G2%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4839924023" target="_top">Amazonで詳しく見る</a></font><font size="-2"> by <a href="http://www.goodpic.com/mt/aws/index.html" >G-Tools</a></font></td></tr></table>

さすがに全てのアジャイル本に目を通しているわけではないけれど、最近までに出版されているアジャイル本の中でも断トツの重要度な本だと思う。これを読まずしてアジャイルとか言っちゃダメだ。

<blockquote>
  まず、出版から3年が経過した現在、本書の原著は北英圏のアジャイルソフトウェア開発コミュニティで「必読の一冊」という評価を確立していることです。
</blockquote>

すでに北英圏から3年遅れっていうところも衝撃だけど、それよりも日本に持ってきてくれてありがとう!という感謝の念が強い。安井さん、角谷さん、本当にありがとうございます。

この本は23章のケーススタディがよくできている。個人的にこう言ったケーススタディが好きなので、まず最初にここから読んだ。それだけで十分にこの本が素晴しいことがわかったし、冒頭から読み始めた時もケーススタディが具体例としてイメージできたので理解しやすかった。

ケーススタディもそうだが、この本は非常に例え話が豊富だ。この本を初めて読んだときは、ストーリーポイントをはじめ見知らぬ概念が多かった。それらの理解を助けるのに、例え話は非常に効果的だった。

このボリュームの内容をここで全部書くことは厳しそうだが、1つ思ったのは「正直」の重要さだった。正確な見積もりができないことを認める。顧客やプロダクトオーナー(もちろん他のメンバーも)に細かく報告する。これらは全て「正直」にならないといけない。この「アジャイルな見積りと計画づくり」も非常に正直な本だった。

先日、うちの会社でストーリーボイントとベロシティの説明とプランニングポーカーを数人で実施してみた。好評で、「じゃあどう導入していこうか」という話にはなりつつある。問題なのはうちは少人数で小さい案件を回すことが多いので、例えば仮に僕がメンター的な役割をしようにも、僕がAという案件をやっていて、ほかの人がCだったりBだったりすると中々面倒を見れない。そのあたりを今どう解消しようか考えている。

個人的に、この本は手元に置いておきたいのがだ、会社のメンバー全員にも読んで欲しいと思っている。できれば全員に買って欲しいのだが(本の売上げ的にも)、なかなかそうはいかなそうなので、献本してもらった本を会社に置いて、もう1冊新しいものを自分で買おうかと思っている。

あと、この本はアジャイル入門本ではないので、この本と一緒に「Head Firstソフトウェア開発」と「アート・オブ・アジャイルデベロップメント」も読んでおけばいいんじゃなかろうか。まぁ僕はまだどっちも読み途中ですけどね・・・

最後にもう一度言います。この本を読まずしてアジャイルとか言っちゃダメ!絶対!

<table  border="0" cellpadding="5"><tr><td colspan="2"><a href="http://www.amazon.co.jp/Head-First%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E9%96%8B%E7%99%BA-%E2%80%95%E9%A0%AD%E3%81%A8%E3%81%8B%E3%82%89%E3%81%A0%E3%81%A7%E8%A6%9A%E3%81%88%E3%82%8B%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E9%96%8B%E7%99%BA%E3%81%AE%E5%9F%BA%E6%9C%AC-Dan-Pilone/dp/487311392X%3FSubscriptionId%3D0G91FPYVW6ZGWBH4Y9G2%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D487311392X" target="_top">Head Firstソフトウェア開発 ―頭とからだで覚えるソフトウェア開発の基本</a><img src='http://www.assoc-amazon.jp/e/ir?t=2004-05-22&l=ur2&o=9' width='1' height='1' border='0' alt='' /></td></tr><tr><td valign="top"><a href="http://www.amazon.co.jp/Head-First%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E9%96%8B%E7%99%BA-%E2%80%95%E9%A0%AD%E3%81%A8%E3%81%8B%E3%82%89%E3%81%A0%E3%81%A7%E8%A6%9A%E3%81%88%E3%82%8B%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E9%96%8B%E7%99%BA%E3%81%AE%E5%9F%BA%E6%9C%AC-Dan-Pilone/dp/487311392X%3FSubscriptionId%3D0G91FPYVW6ZGWBH4Y9G2%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D487311392X" target="_top"><img src="http://ecx.images-amazon.com/images/I/51YxaQry0KL._SL160_.jpg" border="0" alt="Head Firstソフトウェア開発 ―頭とからだで覚えるソフトウェア開発の基本" /></a></td><td valign="top"><font size="-1">木下 哲也 (監訳) 有限会社 福龍興業 <br /><br />オライリージャパン  2009-01-22<br />売り上げランキング : 165325<br /><br /><br /><a href="http://www.amazon.co.jp/Head-First%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E9%96%8B%E7%99%BA-%E2%80%95%E9%A0%AD%E3%81%A8%E3%81%8B%E3%82%89%E3%81%A0%E3%81%A7%E8%A6%9A%E3%81%88%E3%82%8B%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E9%96%8B%E7%99%BA%E3%81%AE%E5%9F%BA%E6%9C%AC-Dan-Pilone/dp/487311392X%3FSubscriptionId%3D0G91FPYVW6ZGWBH4Y9G2%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D487311392X" target="_top">Amazonで詳しく見る</a></font><font size="-2"> by <a href="http://www.goodpic.com/mt/aws/index.html" >G-Tools</a></font></td></tr></table>

<table  border="0" cellpadding="5"><tr><td colspan="2"><a href="http://www.amazon.co.jp/%E3%82%A2%E3%83%BC%E3%83%88%E3%83%BB%E3%82%AA%E3%83%96%E3%83%BB%E3%82%A2%E3%82%B8%E3%83%A3%E3%82%A4%E3%83%AB-%E3%83%87%E3%83%99%E3%83%AD%E3%83%83%E3%83%97%E3%83%A1%E3%83%B3%E3%83%88-%E2%80%95%E7%B5%84%E7%B9%94%E3%82%92%E6%88%90%E5%8A%9F%E3%81%AB%E5%B0%8E%E3%81%8F%E3%82%A8%E3%82%AF%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC%E3%83%A0%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-James-Shore/dp/4873113954%3FSubscriptionId%3D0G91FPYVW6ZGWBH4Y9G2%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4873113954" target="_top">アート・オブ・アジャイル デベロップメント ―組織を成功に導くエクストリームプログラミング</a><img src='http://www.assoc-amazon.jp/e/ir?t=2004-05-22&l=ur2&o=9' width='1' height='1' border='0' alt='' /></td></tr><tr><td valign="top"><a href="http://www.amazon.co.jp/%E3%82%A2%E3%83%BC%E3%83%88%E3%83%BB%E3%82%AA%E3%83%96%E3%83%BB%E3%82%A2%E3%82%B8%E3%83%A3%E3%82%A4%E3%83%AB-%E3%83%87%E3%83%99%E3%83%AD%E3%83%83%E3%83%97%E3%83%A1%E3%83%B3%E3%83%88-%E2%80%95%E7%B5%84%E7%B9%94%E3%82%92%E6%88%90%E5%8A%9F%E3%81%AB%E5%B0%8E%E3%81%8F%E3%82%A8%E3%82%AF%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC%E3%83%A0%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-James-Shore/dp/4873113954%3FSubscriptionId%3D0G91FPYVW6ZGWBH4Y9G2%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4873113954" target="_top"><img src="http://ecx.images-amazon.com/images/I/51bWSe172CL._SL160_.jpg" border="0" alt="アート・オブ・アジャイル デベロップメント ―組織を成功に導くエクストリームプログラミング" /></a></td><td valign="top"><font size="-1">木下 史彦(監訳) 平鍋 健児(監訳) 笹井 崇司 <br /><br />オライリージャパン  2009-02-18<br />売り上げランキング : 28100<br /><br /><strong>おすすめ平均  </strong><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" /><br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" />現時点で最良のアジャイル解説本<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" />アジャイルなやり方の具体的なガイド<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="star" />アジャイルのための練習曲集<br /><br /><a href="http://www.amazon.co.jp/%E3%82%A2%E3%83%BC%E3%83%88%E3%83%BB%E3%82%AA%E3%83%96%E3%83%BB%E3%82%A2%E3%82%B8%E3%83%A3%E3%82%A4%E3%83%AB-%E3%83%87%E3%83%99%E3%83%AD%E3%83%83%E3%83%97%E3%83%A1%E3%83%B3%E3%83%88-%E2%80%95%E7%B5%84%E7%B9%94%E3%82%92%E6%88%90%E5%8A%9F%E3%81%AB%E5%B0%8E%E3%81%8F%E3%82%A8%E3%82%AF%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC%E3%83%A0%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-James-Shore/dp/4873113954%3FSubscriptionId%3D0G91FPYVW6ZGWBH4Y9G2%26tag%3D2004-05-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4873113954" target="_top">Amazonで詳しく見る</a></font><font size="-2"> by <a href="http://www.goodpic.com/mt/aws/index.html" >G-Tools</a></font></td></tr></table>
</article><hr /><article><h2><a href="/2009/06/02/chromium_for_mac/">2009-06-02 Mac版Chromium</a></h2>mattnさんの<a href="http://mattn.kaoriya.net/software/linux/20090601225017.htm">ChromiumのLinux版入れてみた</a>をみて、もしやと思って調べてみたらやっぱりありました。Mac版。

<a href="http://build.chromium.org/buildbot/snapshots/">http://build.chromium.org/buildbot/snapshots/</a>からダウンロードできます。sub-rel-macってところから適当にDLして解凍するとChromium.appがあるのでそれを起動。

<a href="http://ukstudio.jp/wp-content/uploads/2009/06/mac-chromium.jpg"><img src="http://ukstudio.jp/wp-content/uploads/2009/06/mac-chromium.jpg" alt="" title="mac-chromium" width="300" height="226" class="alignnone size-medium wp-image-350" /></a>

まだまだ開発版という感じですが、とりあえず起動がすごい早いのはよくわかりました。あとテキストフィールドに日本語が入力できないっぽいです。

追記(090605)
<a href="http://blog.chromium.org/2009/06/danger-mac-and-linux-builds-available.html">Chromium Blog: Danger: Mac and Linux builds available</a>
なんかDangerらしいです。
</article><hr /><article><h2><a href="/2009/05/11/cucumber_email_spec_for_action_mailer/">2009-05-11 Cucumber+email_specでActionMailerのテストをする</a></h2>今までメール(ActionMailer)のテストはどうにも面倒で、自分でブラウザから動かしてログを見てってやっていたんですが、Cucumberでメールのテストもできるっぽいので試してみました。

確認環境はRails2.3.2、Cucumber0.2.3、email_spec0.0.10。

email_specはgithubをsourceに指定してインストールすることができます(<a href="http://github.com/bmabey/email-spec/tree/master">bmabey's email-spec at master - GitHub</a>)。config/environments/test.rbあたりに書いておくといいと思います。

email_specをインストールするとgenerateにコマンドが追加されています。

<pre lang="bash">
$ ruby script/generate email_spec
</pre>

ここで生成されるfeatures/step_definitions/email_steps.rbは英語なので日本語に直したものを使います。

<script src="http://gist.github.com/109924.js"></script>

これは僕がこないだ出向していたときのプロジェクトに使われていたものなので、多分その出向先の誰かが作ってくれたものだと思います。ありがとうございます。

最後にemail_specを使えるようにfeatures/support/env.rbに

<pre lang='ruby'>
require 'email_spec/cucumber'
</pre>

を追記してやります。あとはシナリオにテストケースを書いてテストすればOKです。

<pre lang="ruby">
 ならば "example@hoge.com" がメールを1通受信していること
</pre>

ちなみにメールの文章中にあるURLに遷移することもできるので、例えば仮登録→メールで認証URL→本登録という流れもちゃんとテストできます。
</article><hr /><article><h2><a href="/2009/04/28/vim_hacks_project/">2009-04-28 Vim Hacks Projectはじめました</a></h2><a href="http://www.lingr.com/room/vim-users.jp/archives/2009/04/24#msg-66101529">Lingrでのkanaさんの発言がきっかけ</a>でVim Hacks Projectをはじめることにしました。

<h2>Vim Hacks Projectとは</h2>

<blockquote>
Foobar Hacksが出版されている昨今、是非Vim Hacksを出そうではないか! という訳で、手始めに有志を募って各々のVim Hacksをvim-users.jpにて認め、頃合いを見計らって企画を持ちかけよう! という計画。</blockquote>

とりあえず僕も参加します。僕の記事は29日0時に公開予定です。現在5人のローテーションで1hack/2dayで書き連ねていく予定です。

書き手はまだ募集中なので「我こそは!」という人がいれば是非参加を!

<a href="http://vim-users.jp/vim-hacks-project/">Vim-users.jp - Vim Hacks Project</a>
</article><hr /><article><h2><a href="/2009/04/20/atmarkit_1986/">2009-04-20 @ITの86世代の記事に載りました</a></h2>今月頭に<a href="http://jibun.atmarkit.co.jp/ljibun01/cs/200904/05/01.html">「ハチロク世代」がIT業界を変える日</a>という記事の取材を受けてて、先日その記事が公開されました。頭ぼさぼさの人が僕です。

まぁ大したことは話してないので、補足とかは特にないんですが、実際のところはタイトルに反して当の本人達は「おれたちがIT業界を変えるぞ!」っていう感じではないのかなーと。少なくとも自分自身と近しい86世代の人達は。(あくまでおれの印象だけど)

個人的な感覚としては同年代の頑張りをみて「おれもがんばるぞ!」的なモチベーションにつながればいいかなって感じ。なんだかんだで同年代の活動は刺激をうけます。

それと同じことは他の世代にも言えて、<q>こうやって無意味に世代間闘争に火を付けようとする報道に意味はあるのか？</q>ってコメントがはてブにあったけど、少なくとも俺個人には世代間闘争って感じはなくて、多分おれの知ってる範囲では他の人もそうだと思うんだけど、今回の記事をみて89世代や81世代の人達のモチベーションに繋がればいいんじゃないかなと僕は思います。逆に89世代や81世代、もちろん他の世代の人達を見て僕達のモチベーションもあがるわけで。

なんかそのうち(もうすでにいるかもしれないけど)、「記事に載ってるわりには大したことしてないじゃないか!なんかサービスを運営してたり、起業してたりしないの?」って人もいるかもしれないけど、そう言う人達も多分1986年生れの人で探せばいるだろうけど、少なくとも僕に関しては「僕が目指してるのはそこじゃないんで」としか言えないかなぁ。

なんか何が言いたいのかよくわからないエントリですが、よかったら記事を読んで頂けるとうれしいです。ちなみに髪を切れというリクエストには今のところ答えるつもりはないのであしからず。
</article><hr /><article><h2><a href="/2009/04/20/cucumber/">2009-04-20 Cucumberの登場でRailsのテスティング環境が変わった</a></h2>ちょっと大げさなタイトルかもしれないですが、個人的にはそれぐらいの感動。「これで勝つる!」な気分。何に勝つのか知らないけれど。

今までのRailsのテストはもっぱらRSpecで書いてて、確かにこれはこれで素晴らしい。採用当初はバグが減ってその時も「これで勝つる!」な気分でした。でもやっぱり受け入れテストがネックになるんですよね。Seleniumとかも使ったりしてましたけど、ブラウザががちゃがちゃ動くし、なんとなく面倒で結局手動で確認という感じになってしまいました。

そこでCucumberの登場ですよ。個人的に素晴しいと思うのは

<ul>
<li>テストケースが自然文(っぽい)</li>
<li>そんなに邪魔じゃない</li>
</ul>

あたりかなぁ。テストケースが自然文っぽいというのは実はかなり大事で例えば

<blockquote>
お客さん: まずトップページにアクセスするとログインフォームがあって、そこにログインすると「ようこそ!ほげほげさん」と出すようにして欲しい
</blockquote>

っていう要望、つまりユーザーストーリがあった場合に割とそのままシナリオとしてテストに変換できる。

<pre lang='ruby'>
もし トップページ にアクセス
かつ メールアドレス に hogehoge@hoge.com と入力
かつ パスワード に hogehoge と入力
かつ ログイン ボタンを押す

ならば ようこそ!ほげほげさん と表示されること
</pre>

これは疑似言語とかじゃなくて、これがそのままテストとして実行できる。つまり今までこっちがブラウザをポチポチしてお客さんに「できましたー(多分)」と報告していて、お客さんからすると何をどうテストしていたのかが曖昧という問題があったのだけれど、 Cucumberだと<strong>お客さんと一緒に受け入れテストを作ることができて、そのテストケースもお客さんが読むことができる</strong>から曖昧さが消えて安心が生まれる。

もちろん開発者にもメリットはあって、Cucumberはユーザ視点レベルのテストだからテストとしては一番外側なテストでここのテストがちゃんと通っていれば、アプリケーションの動作がユーザ視点での正しく動くという保証ができるわけです。

その保証ができるとどうなるかと言うと、極端な話、ユーザ視点での動作が正しければ内部の動作なんて割とどうでもいいわけで、内部に自由がでてきます。内部に自由がでてくると、コードの修正や設計の変更が怖くなくなり、リファクタリングがしやすくなります。結果、メンテのしやすいアプリが出来上がります。

Cucumberは残念なことに、Ajaxのテストができないのでその辺りはSeleniumや手動での確認、あとはjsonやxmlを吐き出すアクションをRspecでテストするなど臨機応変に対応する必要がありそうです。

最後にオマケですが、僕が実際にCucumberを使ったときの開発の流れをば。

<ul>
<li>Cucumberのシナリオを書く</li>
<li>Rspecでモデルのテストを書く</li>
<li>モデルにロジックを書く</li>
<li>Rspecでコントローラとビューのテストを書く</li>
<li>コントーラとビューを書く</li>
<li>Cucumberのテストが通ったのを確認して、実際に手動でも確認する</li>
<li>それぞれのテストをautotestとかでまわしながらリファクタリング</li>
</ul>

まず最初にCucumberのシナリオを書きます。仕様のブレを防ぐためです。この時点では当然Cucumberのテストは通りませんが、とりあえずモデルからビューにかけてボトムアップでコードを書きます。基本的にテストファーストです。

ビューまで書いたらこの時点でCucumberのテストが通っていれば手動で確認、通っていなければ同じ要領でテストファーストでコードを書きます。

最後に今まで書いたテストが落ちないようにリファクタリングを行います。ここまでで1つのユーザストーリ(Cucumberでいうフィーチャ)の実装が完了します。

CucumberはRspecの時もそうでしたが、新しく導入するときにどうしてもコストがかかります。でも慣れてくればそのコストは大分減りますし、stepもある程度使いまわせるものが多いので長期的に見れば逆にコストが減ると思っています。個人的にはCucumberを採用しない理由はないと思うので、この記事を読んでいる人も是非試してみてください。
</article><hr /><article><h2><a href="/2009/04/14/accepts_nested_attributes_for/">2009-04-14 accepts_nested_attributes_forしたモデルの日本語化</a></h2>名前、長いよね。accepts_nested_attributes_for。以下、ネストしたって言います。長いので。

最近はもっぱら日本語化はi18nにしてるんですが、今回ちょこっとこのネスト関係ではまったのでメモ。

<script src="http://gist.github.com/94931.js"></script>

とりあえずモデルの作成までガッとやります。Railsのバージョンは2.3.2です。最下行はgemのインストールが必要です(<a href="http://github.com/amatsuda/i18n_generators/tree/master">http://github.com/amatsuda/i18n_generators/tree/master</a>)

<script src="http://gist.github.com/94933.js"></script>
<script src="http://gist.github.com/94934.js"></script>

それぞれアソシエーションとバリデーションのコードを追記しておきます。当然、accepts_nested_attributes_forの記述も必要です。その辺の詳細は省くので適当にググってみてください。

で、日本語化はモデルを作成した後に行なっているのでとりあえずカラムは日本語化されてる筈です。その辺の詳細も省きます。

<script src="http://gist.github.com/94935.js"></script>

されてるはずなのですが、一部日本語化されてない箇所があるのでこれを日本語化させます。

<script src="http://gist.github.com/94936.js"></script>

userモデルのところにentries_xxxが追記されています。ちなみにhas_oneの場合はentry_xxxになります。xxxはカラム名。

<script src="http://gist.github.com/94937.js"></script>

おわり。
</article><hr /><article><h2><a href="/2009/04/06/vim_mtl/">2009-04-06 Vim勉強会 in MTLで話してきました</a></h2><a href="http://atnd.org/events/482">Vim勉強会 in MTL : ATND</a>
当日の<a href="http://www.lingr.com/room/vim_mtl/archives/2009/04/03">Lingrのログ</a>と<a href="http://www.flickr.com/photos/iandeth/sets/72157616306681532/">写真</a>と<a href="http://www.ustream.tv/channel/vimmtl20090403">録画</a>

録画はあまり質に期待しないでとのこと(見てない)

<h2>便利なVimスクリプトやTips紹介 id:iandeth</h2>
タイトル通り便利なTipsの紹介。個人的には今回の勉強会に参加してくれた人達を見ると、これぐらいの内容が丁度よかったのかなーって思う。おれのはちょっと調子に乗りすぎたw

<h2><de>Vim捌きを上達させる、たったひとつの冴えたやり方</del>至高のエディタには、至高のキーボード id:ursm</h2>
Vim勉強会なのにVimの話を一切しないという荒技。4万円ぐらいのキーボードの営業してました。フットペダル欲しいです。

<h2>Vim Script DE OOP id:ukstudio</h2>
とりあえず<a href="http://www.slideshare.net/ukstudio/vim-de-oop">資料</a>

完全に参加者置いてけぼりの発表内容でした。まぁネタだからいいんです。Vim ScriptでOOPはネタです。

Vim Scriptは名前空間とスクリプトローカルなスコープとかがあるのである程度規模が大きくてもなんとかなるので、無理矢理OOPする必要ないです。

if_rubyもOOPできるというよりはVim Scriptヨクワカラナイヨーな人が気軽にスクリプト書きたい時にちょこちょこっと使うってのが多いんじゃないですかね。if_rubyのプラグインってほとんどみないいし。ujihisaのmixi.vimだっけ、そこらへんの連投スクリプトぐらい。

今回のはどっちかというと僕個人がおれおれOOPというかそゆのをVim Scriptで作るのが楽しかったという理由だけでこの内容をチョイスしました。 ちなみにVim Scriptはスコープや可変長引数の文法がパッと見わかりづらいですけど、慣れればそんな難しい言語ではないですよ。一度挑戦してみるといいと思います。

<h2>懇親会</h2>
懇親会ではピザを食べながら適当に談笑しつつ、Rails.vimやオススメのプラグイン教えてと言われたので適当にプロジェクタ使って話してました。以下プラグインのリスト。

<h3><a href="http://www.vim.org/scripts/script.php?script_id=1567">Rails.vim</a></h3>
VimでRails開発するなら必須です。最初はとりあえず:Rcontroller, :Rmodel, :Rviewとgf、:Rpartialあたり使っておけばいいんじゃないでしょうか。

<h3><a href="http://www.vim.org/scripts/script.php?script_id=294">Align.vim</a></h3>
整形したいコードをヴィジュアルモードなどで選択して,t=とかやると=でキレイに並べてくれます。コードの整形にこだわりのある人へ。

:[Range]Align=>とかやると複数の文字(この例だと=>)で整形できます。これはid:ursmさんに教えてもらいました。

<h3><a href="http://www.vim.org/scripts/script.php?script_id=2290">smartchr.vim</a></h3>
id:haltさんの記事を読むといいと思います。

<a href="http://project-p.jp/halt/anubis/blog_show/1068">smartchrというvim pluginが簡単便利で目ウロコ - /halt/Snapshot</a>

<h3><a href="http://www.vim.org/scripts/script.php?script_id=1984">fuzzyfinder.vim</a></h3>
バッファで開いてるファイルとか最近使ったファイルとかを開くのに便利です。コマンド呼び出すのは面倒なので適当にマッピングして使いましょう。

<blockquote>
nmap fb :FuzzyFinderBuffer<cr>
nmap ff :FuzzyFinderFile<cr>
nmap fm :FuzzyFinderMruFile<cr>
</blockquote>

これtaku-oさんの<a href="http://d.hatena.ne.jp/taku-o/20090404/1238829761">指摘</a>で気づきましたけど、fがもろに被ってますね。よい子は他のキーにマッピングしましょう。

<h3><a href="http://github.com/Shougo/neocomplcache/blob/master/presen/neocomplcache.txt">neocomplecache.vim</a></h3>
autocomplpop.vim的な補完プラグインです。詳細はとりあえずリンク先を見ればいいと思います。

<a href="http://www.lingr.com/room/vim-users.jp">vim-users.jpのlingr</a>に作者がいるので興味がある人、物申したい人は来たらいいんじゃないでしょうか。


<h2>永和システムマネジメント及びMTLの皆様に感謝</h2>
今回はちょっとしたことがきっかけで勉強会を行うことになったわけですが、永和システムマネジメントの角谷さん、MTLの石橋さん、小林さん他、このような場を提供して頂きありがとうございました!

また、ATNDを見る限り50人弱の人に参加して頂いたようなのですが、お忙しいところありがとうございました。

またどこか別の機会がありましたらよろしくお願いします。

追記: 永和システムマネジメントを永和マネージメントシステムと誤表記していました。ごめんなさい。
</article><hr /><article><h2><a href="/2009/02/27/ducktyping/">2009-02-27 RubyでDuckTyping</a></h2>今日、知人に「DuckTypingのメリットが今一ピンとこない」と言われて実際にコード書いて説明をしたのだけれども、せっかくなのでエントリにまとめる。

DuckTypingとは、動的言語の柔軟性を表現する概念で以下の格言に由来する。

<blockquote>
    "If it walks like a duck and quacks like a duck, it must be a duck"
（もしもそれがアヒルのように歩き、アヒルのように鳴くのなら、それはアヒルである）
</blockquote>

つまり、アヒルのように振る舞うものは、実際にそれが何であろうとアヒルと見なすということになる。

もうちょっと言語よりな言い方をするのであれば、あるオブジェクトどのクラスに属するか考慮せず、どのようなインターフェースを持つかに注目するのがDuckTyping。

DuckTypingにおいて重要なことは「明示的な型チェックを避ける」と言うことで、どう言うことかと言うと

<script src="http://gist.github.com/70902.js"></script>

上記のようなコードを書いてしまうと、Duckクラスもしくはそれらを継承したクラスしか扱えなくなり、動的言語のメリットが失われてしまう。

その知人に紹介した簡単なDuckTypingの例が以下。

<script src="http://gist.github.com/70734.js"></script>

ここではwriteメソッドさえあれば、渡されたオブジェクトが何かは問わない。これをもうちょっと実際に使うようなコードに書き直すと以下のようになる。

<script src="http://gist.github.com/70911.js"></script>

やっていることは、ほとんどwrite_messageと同じだけど、こちらの方がまだピンとくると思う。Loggerはログを書き出すだけの簡単なクラスだが、DuckTypingを用いることによって、その書き出し先を柔軟に変更することができる。

実際はどんなオブジェクトが渡されるかわからないのでrespond_to?でメソッドの有無のチェックぐらいはした方がいい。

<script src="http://gist.github.com/70918.js"></script>

エラー処理をもうちょっと別の方法を取ってみる。

<script src="http://gist.github.com/70969.js"></script>

こちらの方法を取ると、仮に呼び出したメソッド内で例外が発生した場合もうまく処理することができる。個人的には大体こちらの手段を取ることが多い。

結構長くなったけど、大体こんな感じ。DuckTypingは慣れない人からするとよくわからないところも多いと思うけど、うまく使えれば結構便利な機能。使いすぎは禁物だけどうまく使っていくといいだろう。
</article><hr /><article><h2><a href="/2009/02/24/file_column_name_error/">2009-02-24 Rails2.0.2から2.2.2に上げたらFileColumnがNameErrorだした。</a></h2>自分の担当している案件のRailsのバージョンを2.0.2から2.2.2に上げたら以下のようなエラーが発生。
<blockquote>
uninitialized constant FileColumn::ClassMethods::Inflector (NameError)
</blockquote>

これの対応は/vender/plugin/file_column/lib/file_column.rbの以下の部分を
<pre lang="ruby">
my_options = FileColumn::init_options(options,
                                                 Inflector.underscore(self.name).to_s,
                                                 attr.to_s)
</pre>

以下のように書き換えればとりあえず対応できる。

<pre lang="ruby">
my_options = FileColumn::init_options(options,
                                                 self.name.to_s.underscore,
                                                 attr.to_s)
</pre>

ちゃんちゃん。
</article><hr /><article><h2><a href="/2009/01/14/vim_tips/">2009-01-14 覚えとくと便利かもしれないVimのTips</a></h2>適当に思い付いたものを書いてみる。

<h2>CTRL-X CTRL-L</h2>
行単位での補完。まぁ該当の行でyyしてpして貼り付けでもいいかもしれないけど、移動するの面倒な場合もあるし。

以下、自分のvimrcで「n CTRL-X CTRL-L」した例。

<a href="http://ukstudio.jp/wp-content/uploads/2009/01/c-xc-l.jpg"><img src="http://ukstudio.jp/wp-content/uploads/2009/01/c-xc-l.jpg" alt="" title="c-xc-l" width="300" height="234" class="alignnone size-medium wp-image-294" /></a>

ちなみに俺がこれを一番使うときはRSpecのdescribeの行を補完する時かな。こんな感じ。

<pre lang="ruby">
describe "hogehoge" do
end

desCTRL-X CTRL-L
↓
describe "hogehoge" do
</pre>

んで、hでちょこちょこっと"の中に移動してdi"で"の中を削除する感じ。

<h2>di"</h2>
こっそり上で登場してるけど"で囲まれた文字列をd(削除)する。da"だと"も含めて削除。ちなみにこれはテキストオブジェクトっていうVim7からの機能で他にも色々パターンがあって、個人的にVimの機能の中でも特別気に入っている。ちゃんと説明すると長いのでいくつか例だけ示す。

<dl>
<dt>di"</dt>
<dd>"の中を削除</dd>
<dt>da"</dt>
<dd>"も含めて削除</dd>
<dt>yi"</dt>
<dd>"の中をコピー</dd>
<dt>ya"</dt>
<dd>"も含めてコピー</dd>
<dt>di(</dt>
<dd>()の中を削除</dd>
<dt>da(</dt>
<dd>()も含めて削除</dd>
<dt>di{</dt>
<dd>{}の中を削除</dd>
<dt>da{</dt>
<dd>{}も含めて削除</dd>
</dl>

<h2>gf</h2>
カーソル以下のファイル名を開いてくれる。requireやinclude、ファイルをオープンしたりする処理のところで便利。

<pre lang="ruby">
require "hoge"
</pre>

hogeのところでgfするとhoge.rbを開く。

<h2>CTRL-AとCTRL-X</h2>
VimM#3でamachangが感動してた気がする。カーソル以下の数字をインクリメントとデクリメントしてくれる。ちゃんと1000とかも1001や999にしてくれるよ。マクロで多用するかも。

<h2>guuとgUUと~</h2>
guuはカーソル行の文字を全部小文字に、gUUは全部大文字に。~はカーソル以下の文字を小文字なら大文字に、大文字なら小文字に。

書いといてなんだけどあまり使った記憶ないな、これ。

<h2>:!</h2>
:!を使うと外部コマンドを叩くことができる。単体だと結果を返すだけなので頭に.(ドット)を付けて結果を挿入したりする。単体で使うときはlsの結果を見るときが多いかも。一々screenのウィンドウを移動しなくて済む。なんか段々書くのが面倒になってきたので例で示す。

<strong>追記</strong>: kanaさんより指摘がありました。挿入はr!〜ですね。

<blockquote>
> 単体だと結果を返すだけなので頭に.(ドット)を付けて結果を挿入したりする。
嘘。:{range}!{cmd}はフィルタリング。結果的にそうなるケースはあるけれど意味は違う。本当に挿入するなら:r!{cmd} (:read !{cmd})。
</blockquote>
<dl>
<dt>:!ls ~</dt>
<dd>ls ~の結果が表示される</dd>
<dt>:.!date </dt>
<dd>date結果が挿入される</dd>
<dt>:%!sort</dt>
<dd>今開いてるファイルをsortした結果に書き変わる</dd>
<dt>:%!grep hoge</dt>
<dd>hogeが含む行だけに書き変わる</dd>
<dt>:!ruby -c %</dt>
<dd>今開いてるファイルをrubyの構文チェックに通す。PHPとかでも似たようなことができる</dd>
</dl>
</article><hr /><article><h2><a href="/2009/01/09/rspec_result_output_html.erb/">2009-01-09 RSpecの結果をHTMLで出力する方法</a></h2>RSpecにはオプション-hがあるので、そこでフォーマットを指定してやればいい。以下、Railsの例。

<pre lang="bash">
RAILS_ROOT$ spec spec -f h:spec/spec_report.html
</pre>

これで、specディレクトリにspec_report.htmlが出力される。
</article><hr /></div></body></html>